"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71160],{575619:function(n,e,t){t.r(e),t.d(e,{default:function(){return f}});var o=t(756955),r=t(602459);const a={type:"query",name:"logout",query:"query logout{logout{errors{...LogoutErrorFragment}success}}fragment LogoutErrorFragment on IdentityLogoutError{code message}",hash:"14c95ff6999022b0707fb6f45c8563cda3357de88b59c7a4f184efc6b9de0539"},c=n=>{const e=(t=(0,o.Z)(),{queryKey:["logout-query",c={}],queryFn:()=>t.getGqlFetch()(a,c)});var t,c;return(0,r.a)({...e,config:n})};var u=t(387593),s=t(136622),i=t(800818),l=t(166247),g=t(752406),m=t(442794);var f=()=>{var n,e;const{mart:t}=(0,u.Vg)(),o=()=>{(0,i.cM)(["info","ui","signout_error_in_query_result"],{type:"log",message:"signout_error_in_query"})},{refetch:r}=c({enabled:!1,cacheTime:0,refetchOnWindowFocus:!1,refetchOnMount:!1,onSuccess:n=>{var e;const r=n.data;null!=r&&null!=(e=r.logout)&&e.success?(f(),(0,i.cM)(["info","ui","sign_out_b2b_user","force logout b2b user"],{type:"log",message:"sign_out_b2b_user"}),window.location.assign((0,s.p)(t,"/account/login"))):o()},onError:o}),a="true"===(0,m.ej)("b2b-org")||!1,f=()=>{(0,m.nJ)("b2b-org",{domain:".walmart.com"})},d="b2b"!==(null==(n=(0,l.B)())||null==(e=n.publicRuntimeConfig)?void 0:e.vid);return(0,g.useEffect)((()=>{d&&a&&r()}),[d,a,r]),null}},387593:function(n,e,t){t.d(e,{Vg:function(){return c}});var o=t(752406);t(330567);const r={mart:"B2C",bu:"WALMART-US",host:"www.walmart.com"},a=(0,o.createContext)(r);a.displayName="IdentityNextTenantContext";const c=()=>(0,o.useContext)(a)},136622:function(n,e,t){t.d(e,{p:function(){return c}});var o=t(543806),r=t(358307),a=t(193905);const c=(n,e)=>{const t=["/account/signin","/tu-cuenta/iniciar-sesion","/account/signin/otponly","/account/login","/account/logout","/account/signin/withotpchoice","/account/signin/withpassword","/account/signup","/tu-cuenta/crear-cuenta","/account/verifyitsyou","/account/verifyyouraccount","/account/forgotpassword","/account/resetpassword","/account/sessiontimeout","/account/letsverifylater","/account/tryanotherway","/account/skipresetpassword","/account/sendnewcode","/ouvrir-une-session","/creer-compte","/sign-in","/create-account"],{vidParam:c,modeParam:s,envParam:i,scopeParam:l,redirectUriParam:g,clientIdParam:m,nonceParam:f,stateParam:d,authFrameNonceParam:h,guestCheckoutParam:p,svpParam:y,hhfParam:v,dpsParam:b,showGXOParam:w,triggerPointParam:P,versionParam:_}=(0,o.vl)();let C="";if(l&&g&&m)C=u(e,l,g,m,f,d);else{if("/account/login"===e){var U,q,R;const{signInPathname:n}=(null==(U=(0,r.yu)())||null==(q=U.publicRuntimeConfig)||null==(R=q.identity)?void 0:R.context)||r.Of;e=n}const o=e+"?vid="+(c||("B2C"===n?"oaoh":n.toLowerCase()))+"&tid=0"+(s?"&mode="+s:"")+(w?"&showGXO="+w:"")+(i?"&env="+i:"")+(h?"&authFrameNonce="+h:"")+(y?"&svp="+y:"")+(p?"&sgc="+p:"")+(v?"&hhf="+v:"")+(b?"&dps="+b:"")+(P?"&tp="+P:"")+(_?"&v="+_:""),u=new URLSearchParams(location.search).get("returnUrl"),l=u?"&returnUrl="+encodeURIComponent(u):"&returnUrl="+encodeURIComponent("/");if((0,a.zj)(t).test(location.pathname))return""+o+l+location.hash;const g=""+location.pathname+location.search+location.hash;C=o+"&returnUrl="+encodeURIComponent(g)}return C},u=(n,e,t,o,r,a)=>""+(n+"?"+("scope="+e)+("&redirect_uri="+encodeURIComponent(t))+("&client_id="+o)+(r?"&nonce="+r:"")+(a?"&state="+a:""))},193905:function(n,e,t){t.d(e,{HN:function(){return o},jc:function(){return a},zj:function(){return r}});const o=/^s*(([^<>()[\]\\/.,;:\s@\\"]+(\.[^<>()[\]\\/.,;:\s@\\"]+)*)|(\\".+\\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))\s*$/,r=n=>new RegExp("^(/en|/fr|)("+n.join("|")+")$","g"),a=n=>"string"===typeof n&&(n=n.replace(/\D/g,"")).length>=10?n=n.substring(n.length-10):""}}]);