"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7366],{51820:function(e,r,t){t.d(r,{Z:function(){return o}});var a=t(83946),s=t(19013),n=t(13882);function o(e,r){(0,n.Z)(2,arguments);var t=(0,s.Z)(e).getTime(),o=(0,a.Z)(r);return new Date(t+o)}},58545:function(e,r,t){t.d(r,{Z:function(){return o}});var a=t(83946),s=t(51820),n=t(13882);function o(e,r){(0,n.Z)(2,arguments);var t=(0,a.Z)(r);return(0,s.Z)(e,6e4*t)}},87803:function(e,r,t){t.d(r,{h:function(){return p}});var a=t(85893),s=t(19521),n=t(56947),o=t(89265);const i=(0,s.ZP)(o.q).withConfig({displayName:"styles__StyledCell",componentId:"sc-og024m-0"})(["padding:",";box-sizing:border-box;"," > button{margin:",";}"],n.space.generic.x4,(({isStacked:e})=>e&&"flex-direction: column;"),(({isStacked:e})=>(e=>e?`0 0 ${n.space.generic.x4} 0;`:`0 ${n.space.generic.x4} 0 0`)(e))),p=({children:e,"data-test":r,isStacked:t=!1})=>(0,a.jsx)(i,{"data-test":r,divider:"topOnlySmallScreen",isStacked:t,children:e});p.displayName="ButtonGroup"},57366:function(e,r,t){t.d(r,{Z:function(){return ue}});var a=t(85893),s=t(67294),n=t(63546),o=t(46879),i=t(30695),p=t(62611),l=t(34580),c=t(5396),d=t(44350),u=t(69992),h=t(47269),m=t(47052);const{useQuery:y}=(0,u.J)({name:"@web/domain-guest/profile-shipt-memberships/get-shoppers",queryFn:async()=>{const{baseUrl:e,apiKey:r,apis:{guestProfileShiptMembershipsV1:t}}=(0,d.config)().services.apiPlatform,a=h.Z.buildURLWithParams(`${e}/${t.endpointPaths.shoppers}`,{}),{data:s,ok:n,statusText:o}=await(0,m.U2)(a,{credentials:"include",headers:{Accept:"application/json","x-api-key":r},errorTag:"get_preferred_shoppers_v1_api_error",timerTag:"get_preferred_shoppers_v1_api_call"});if(n)return null!==s&&void 0!==s?s:null;throw new Error(`${o}`)}});var f=t(53931),g=t(57159),b=t(64334),v=t(74451);const S=({closeDrawer:e})=>{const r=(0,s.useCallback)((()=>e()),[e]);return(0,a.jsxs)("div",{className:"h-text-center","data-test":"tip-drawer-error",children:[(0,a.jsx)(v.N,{showDefaultImage:!0,showThankYouDefault:!0,size:"medium"}),(0,a.jsx)(g.X,{className:"h-margin-a-wide",level:3,children:"Thanks for the feedback"}),(0,a.jsx)("span",{children:"Your feedback helps us improve our Same Day Delivery service."}),(0,a.jsx)(b.D,{className:"h-margin-t-wide",isFullWidth:!0,onClick:r,children:"Done"})]})};S.displayName="ThankYouScreen";var P=t(5152);const T=t.n(P)()((()=>t.e(5965).then(t.bind(t,72700)).then((e=>e.LandingScreen))),{loadableGenerated:{webpack:()=>[72700]}});var w=t(7337);var x=t(59499),k=t(96431);const{useMutation:O}=(0,k.F)({name:"@web/domain-guest/profile-shipt-memberships/post-shoppers",mutationFn:async({shopper_id:e})=>{const{baseUrl:r,apiKey:t,apis:{guestProfileShiptMembershipsV1:a}}=(0,d.config)().services.apiPlatform,s=h.Z.buildURLWithParams(`${r}/${a.endpointPaths.shoppers}`,{}),{data:n,ok:o,statusText:i}=await(0,m.v_)(s,{body:JSON.stringify({shopper_id:e}),credentials:"include",headers:{Accept:"application/json","x-api-key":t},errorTag:"post_preferred_shoppers_v1_api_error",timerTag:"post_preferred_shoppers_v1_api_call"});if(o)return n;throw new Error(`${i}`)}});var j=t(46248),_=t(11549),N=t(63197),D=t(56947),C=t(19521);const E=C.ZP.p.withConfig({displayName:"styles__GrayAreaTextBox",componentId:"sc-1opj2my-0"})(["border-radius:",";background-color:",";font-size:",";color:",";padding:",";margin-bottom:",";text-align:left;vertical-align:middle;"],D.border.radius.x1,D.colors.background.lightest,D.font.size.text.medium,D.colors.text.onLight.secondary,D.space.generic.x4,D.space.generic.x4),A=C.ZP.div.withConfig({displayName:"styles__ShopperImageAndIconContainer",componentId:"sc-1opj2my-1"})(["width:215px;height:215px;margin:0 auto;position:relative;"]),I=C.ZP.img.withConfig({displayName:"styles__AbsolutePlacementGreenCheckmark",componentId:"sc-1opj2my-2"})(["position:absolute;top:85%;left:69%;"]),R=({shopperName:e,shopperPhoto:r,tipAmount:t})=>(0,a.jsxs)(a.Fragment,{children:[t?(0,a.jsxs)(E,{children:[(0,N.HR)(t)," has been charged to your card"]}):null,(0,a.jsxs)("div",{className:"h-text-center",children:[(0,a.jsx)(v.N,{isPreferredShopper:!0,shopperName:e,shopperPicture:r,size:"medium"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(g.X,{className:"h-margin-t-default",level:3,stackSpacing:"x1",children:["Do you want to add ",e," as a Preferred Shopper?"]}),(0,a.jsx)("span",{className:"h-text-bs h-text-grayDark",children:"We'll match you with your Preferred Shoppers based on availability"})]})]})]});R.displayName="PreferredShopperAddScreen";var U=t(23609);const L="SHOULD_OPEN_MANAGE_PREFERRED_SHOPPER_DRAWER";var Z=t(4730),G=t(87803),B=t(88004);const $=["displayText","showSpinner","spinnerDataTest"],M=["displayText"];function F(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function z(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?F(Object(t),!0).forEach((function(r){(0,x.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const Y=({buttonPrimaryProps:e={},buttonSecondaryProps:r={}})=>{const{displayText:t,showSpinner:s,spinnerDataTest:n}=e,o=(0,Z.Z)(e,$),{displayText:i}=r,p=(0,Z.Z)(r,M);return(0,a.jsxs)(G.h,{isStacked:!0,children:[t?(0,a.jsx)(b.D,z(z({"aria-label":t,className:"h-padding-h-default"},o),{},{children:s?(0,a.jsx)(B.$,{className:"h-margin-h-default","data-test":null!==n&&void 0!==n?n:"@web/DrawerButtonGroupPrimarySpinner",size:"small",spinnerColor:"white"}):t})):null,i?(0,a.jsx)(w.P,z(z({"aria-label":i,className:"h-margin-v-none h-padding-h-default"},p),{},{children:i})):null]})};Y.displayName="DrawerButtonGroup";var H=t(51480);const W=({shopperName:e,shopperPhoto:r})=>(0,a.jsxs)("div",{className:"h-text-center",children:[(0,a.jsxs)(A,{children:[(0,a.jsx)(v.N,{isPreferredShopper:!0,shopperName:e,shopperPicture:r,size:"medium"}),(0,a.jsx)(I,{alt:"Green Checkmark",className:"successCheckmark",src:H.ks})]}),(0,a.jsxs)(g.X,{className:"h-margin-t-default",level:3,children:["Great! ",e," is a Preferred Shopper."]}),(0,a.jsx)("span",{className:"h-text-bs h-text-grayDark",children:"View and edit your Preferred Shoppers any time under Account > Memberships."})]});function J(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function q(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?J(Object(t),!0).forEach((function(r){(0,x.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}W.displayName="PreferredShopperSuccessScreen";const Q=(e={})=>{const[r,{close:t,closeAll:o,open:i,isShown:p}]=(0,n.I)(q(q({shouldStack:!1},e),{},{type:"drawer"}));r.displayName="PreferredShopperSuccessDrawerOverlay";const l=({shopper:e,onAfterClose:n})=>{const[o,{setShouldOpenFromStorage:i}]=(()=>{const{0:e,1:r}=(0,s.useState)(!1),t=(0,s.useCallback)((()=>{U.y7.remove(L),r(!1)}),[]),a=(0,s.useCallback)((async()=>{var e;const r=null!==(e=await U.y7.get(L))&&void 0!==e&&e;return Boolean(r)}),[]),n=(0,s.useCallback)((e=>(t(),U.y7.set(L,null===e||void 0===e||e))),[t]);return(0,s.useEffect)((()=>{(async()=>{if(e)return;const t=await a();r(t)})()}),[a,r,e]),(0,s.useMemo)((()=>[e,{clearShouldOpenFromStorage:t,setShouldOpenFromStorage:n}]),[t,e,n])})(),p=null===e||void 0===e?void 0:e.name,l=null===e||void 0===e?void 0:e.photo,c=null!==p&&void 0!==p?p:"Your shopper",d=(0,s.useCallback)((()=>{i(),window.location.assign("/account/memberships")}),[i]);return(0,a.jsx)(r,{hasCloseButton:!0,headingText:"Shopper added!",onAfterClose:n,renderCellButton:(0,a.jsx)(Y,{buttonPrimaryProps:{className:"h-padding-h-default",onClick:t,displayText:"Done"},buttonSecondaryProps:{onClick:d,className:"h-margin-v-none h-padding-h-default",displayText:"View Preferred Shoppers"}}),scroll:"content",children:(0,a.jsx)(W,{shopperName:c,shopperPhoto:l})})};l.displayName="PreferredShopperSuccessDrawer";const c=(0,s.useCallback)(l,[r,t]);return(0,s.useMemo)((()=>[c,{close:t,closeAll:o,open:i,isShown:p}]),[c,t,o,i,p])},X=({shopperName:e,shopperPhoto:r})=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"h-text-center",children:[(0,a.jsx)(v.N,{isGrayscale:!0,isPreferredShopper:!0,shopperName:e,shopperPicture:r,size:"medium"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(g.X,{className:"h-margin-t-default",level:3,stackSpacing:"x1",children:`Sorry, we couldn't add ${e}.`}),(0,a.jsx)("span",{className:"h-text-bs h-text-grayDark",children:"Please try again. You can also add this shopper the next time you're matched."})]})]})});function K(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function V(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?K(Object(t),!0).forEach((function(r){(0,x.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):K(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}X.displayName="PreferredShopperErrorScreen";var ee=t(73511);function re(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function te(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?re(Object(t),!0).forEach((function(r){(0,x.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):re(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const ae=(e={})=>{const[r,{close:t,closeAll:o,open:i,isShown:p}]=(0,n.I)(te(te({shouldStack:!1},e),{},{type:"drawer"})),[l,{open:c}]=Q(),[d,{open:u}]=((e={})=>{const[r,{close:t,closeAll:o,open:i,isShown:p}]=(0,n.I)(V(V({shouldStack:!1},e),{},{type:"drawer"}));r.displayName="PreferredShopperErrorDrawerOverlay";const l=({shopper:e,onAfterClose:n,openSuccessDrawer:o})=>{const{id:i,name:p,photo:l}=null!==e&&void 0!==e?e:{},{0:c,1:d}=(0,s.useState)(!1),[u,{isLoading:h}]=O(),m=(0,s.useCallback)((async()=>{await u({shopper_id:i},{onSuccess:()=>{d(!0),o()}})}),[u,i,o]),y=p||"your shopper";return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r,{headingText:"Shopper not added",onAfterClose:c?void 0:n,renderCellButton:(0,a.jsx)(Y,{buttonPrimaryProps:{onClick:h?void 0:m,displayText:"Try again",showSpinner:h,spinnerDataTest:"add-to-preferred-shoppers-spinner"},buttonSecondaryProps:{onClick:t,displayText:"Not this time"}}),scroll:"content",children:(0,a.jsx)(X,{shopperName:y,shopperPhoto:l})})})};l.displayName="PreferredShoppeErrorDrawer";const c=(0,s.useCallback)(l,[r,t]);return(0,s.useMemo)((()=>[c,{close:t,closeAll:o,open:i,isShown:p}]),[c,t,o,i,p])})(),{trackPreferredShopperPageload:h,trackPreferredShopperAdditionClick:m}=(0,ee.W)();r.displayName="PreferredShopperDrawerOverlay";const f=({onAfterClose:e=(()=>{}),orderId:n,shopper:o,tipAmount:i})=>{const[f,{isLoading:g}]=O(),b=(0,_.w)(),{id:v,name:S,photo:P}=null!==o&&void 0!==o?o:{};(0,s.useEffect)((()=>{n&&p&&h({orderId:n})}),[n]),(0,s.useEffect)((()=>{n&&p&&b("GLOBAL_PREFERRED_SHOPPER_DRAWER_ENABLED")}),[n,b]);const T=(0,s.useCallback)((async()=>{await f({shopper_id:v},{onSuccess:()=>{c(),m({shopperId:v,orderId:n}),(0,j.Dm)(y)},onError:()=>{u()}})}),[f,v,n]),w=i&&i>0?"tipped":"rated",x=S?` ${S}`:"",k=S||"your shopper",N=(0,s.useCallback)((()=>{t(),e()}),[e]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r,{headingText:`You ${w}${x}!`,onCloseClick:e,onRequestClose:e,renderCellButton:(0,a.jsx)(Y,{buttonPrimaryProps:{onClick:g?void 0:T,displayText:"Add to Preferred Shoppers",showSpinner:g,spinnerDataTest:"add-to-preferred-shoppers-spinner"},buttonSecondaryProps:{onClick:N,displayText:"Not this time"}}),scroll:"content",children:(0,a.jsx)(R,{shopperName:k,shopperPhoto:P,tipAmount:i})}),(0,a.jsx)(l,{onAfterClose:e,shopper:o}),(0,a.jsx)(d,{onAfterClose:e,openSuccessDrawer:c,shopper:o})]})};f.displayName="PreferredShopperDrawer";const g=(0,s.useCallback)(f,[r,t,p,u,c,d,l,h,m]);return(0,s.useMemo)((()=>[g,{close:t,closeAll:o,isShown:p,open:i}]),[g,t,o,p,i])};var se=t(82149),ne=t(20025),oe=t(45057),ie=t(53275);const{useQuery:pe}=(0,u.J)({name:ie.I_,disableOnServer:!0,defaultOptions:{staleTime:ie.Ow},queryFn:async()=>{const{apiKey:e,apis:{orders:{endpointPaths:{shiptPendingOrders:r}}},baseUrl:t}=(0,d.config)().services.apiPlatform,a=h.Z.buildURLWithParams(new URL(r,t),{}),{data:s,ok:n,statusText:o}=await(0,m.U2)(a,{headers:{"x-api-key":e},credentials:"include",timerTag:"shipt_fetch_pending_tippable_orders_api_call",errorTag:"shipt_fetch_pending_tippable_orders_api_error"});if(n)return null!==s&&void 0!==s?s:null;throw new Error(`${o}`)}}),le=(0,ne.H)(pe,{minimumAssuranceLevel:oe.Y3}),{useQuery:ce}=(0,u.J)({name:ie.kI,disableOnServer:!0,defaultOptions:{staleTime:ie.Ow},queryFn:async({orderNumber:e})=>{const{apiKey:r,apis:{orders:{endpointPaths:{shiptOrder:t}}},baseUrl:a}=(0,d.config)().services.apiPlatform,s=h.Z.buildURLWithParams(new URL(t,a),{}),{data:n,ok:o,statusText:i}=await(0,m.U2)(`${s}/${e}`,{headers:{"x-api-key":r},credentials:"include",timerTag:"shipt_fetch_feedback_api_call",errorTag:"shipt_fetch_feedback_api_error"});if(o)return null!==n&&void 0!==n?n:null;throw new Error(`${i}`)}}),de=(0,ne.H)(ce,{minimumAssuranceLevel:oe.Jr}),ue=()=>{const[e,r]=(0,n.I)({type:"drawer",shouldStack:!1}),[t,{open:u,close:h}]=(0,n.I)({type:"drawer",shouldStack:!1}),{trackRateAndTipPageload:m}=(0,ee.W)(),[b,{open:P}]=ae(),[x,{open:k}]=(()=>{const[e,{close:r,closeAll:t,open:o,isShown:i}]=(0,n.I)({type:"drawer",shouldStack:!1});e.displayName="DuplicateTipDrawerOverlay";const p=({order:t})=>{var s,n,o;return(0,a.jsx)(e,{headingText:"You're all set",children:(0,a.jsx)("div",{className:"h-text-center","data-test":"tip-drawer-duplicate",children:(0,a.jsxs)("div",{className:"h-padding-b-jumbo",children:[(0,a.jsx)(v.N,{shopperName:null!==(s=null===t||void 0===t||null===(n=t.shopper)||void 0===n?void 0:n.name)&&void 0!==s?s:"your shopper",shopperPicture:null===t||void 0===t||null===(o=t.shopper)||void 0===o?void 0:o.photo,size:"medium"}),(0,a.jsx)(g.X,{className:"h-margin-a-wide",level:3,children:"This shopper has already been tipped"}),(0,a.jsx)("div",{children:"Only one tip is allowed per order."}),(0,a.jsx)(w.P,{className:"h-margin-t-default","data-test":"done-btn",id:"done-btn",isFullWidth:!0,onClick:r,children:"Close"})]})})})};p.displayName="DuplicateTipDrawer";const l=(0,s.useCallback)(p,[e,r]);return(0,s.useMemo)((()=>[l,{close:r,closeAll:t,open:o,isShown:i}]),[l,r,t,o,i])})(),{0:O,1:_}=(0,s.useState)(),{0:N,1:D}=(0,s.useState)(null),C=(0,o.zy)(),E=(0,d.flags)("GLOBAL_TRBUY_PREFERRED_SHOPPER_ENABLED"),A=(0,f.T)().GLOBAL_PREFERRED_SHOPPER_DRAWER_ENABLED,I=E&&A,[R,{suppressDrawerTemporarily:U}]=(0,se.zA)(),L=(0,s.useCallback)((()=>{R||U()}),[R,U]),Z=({orderNumber:n}={})=>{var o;const{order:d,invalidateQueries:f}=(({orderNumber:e,enabled:r=!0}={})=>{const[t]=(0,l.fo)(void 0,{enabled:r}),a=Boolean(t(c.QA)),[n]=le(void 0,{enabled:a&&r}),o=n(e?r=>{var t;return null===r||void 0===r||null===(t=r.orders)||void 0===t?void 0:t.find((r=>(null===r||void 0===r?void 0:r.id)===e))}:e=>{var r;return null===e||void 0===e||null===(r=e.orders)||void 0===r?void 0:r[0]});return{order:!o||null!==o&&void 0!==o&&o.feedback?void 0:o,invalidateQueries:(0,s.useCallback)((()=>{(0,j.Lh)(le.queryName),(0,j.Lh)(de.queryName),(0,j.Dm)(le),(0,j.Dm)(de)}),[])}})({orderNumber:n});(0,s.useEffect)((()=>{!d||O||R||(r.open(),_(!0),m({orderId:null===d||void 0===d?void 0:d.id}))}),[d]),(0,s.useEffect)((()=>{R&&O&&(r.close(),_(!1))}),[]);const g=(0,s.useCallback)((()=>{C?f():U(),_(!1)}),[f]),[v]=(0,l.fo)({responseGroup:["shipt"]},{enabled:r.isShown&&I}),w=v(c.hs),[E,{status:A}]=y(void 0,{enabled:r.isShown&&w&&I&&C}),Z=null===d||void 0===d||null===(o=d.shopper)||void 0===o?void 0:o.id,G=E(),B=G?G.filter((e=>{var r;return(null===e||void 0===e||null===(r=e.shopper)||void 0===r?void 0:r.id)===Z})):[],$=A!==p.o.Error&&(null===d||void 0===d?void 0:d.shopper)&&0===B.length&&I&&w,M=(0,s.useCallback)(((e,r)=>{$&&5===r?(D(e),P()):u()}),[$]),F=(0,s.useCallback)((()=>k()),[]);return(0,a.jsxs)(i.n,{tag:"error_boundary_shipt_tip_drawer",children:[(0,a.jsx)(e,{hasCloseButton:!C,hasDisabledCloseOptions:C,headingText:"Your order was delivered!",children:(0,a.jsx)(T,{closeAndSuppressDrawer:L,handleDuplicateTip:F,onTipFormSuccess:M,order:d})}),(0,a.jsx)(t,{headingText:"Thank you",onAfterClose:g,children:(0,a.jsx)(S,{closeDrawer:h})}),(0,a.jsx)(b,{onAfterClose:g,orderId:null===d||void 0===d?void 0:d.id,shopper:null===d||void 0===d?void 0:d.shopper,tipAmount:N}),(0,a.jsx)(x,{order:d})]})};Z.displayName="RateAndTipDrawer";return[(0,s.useCallback)(Z,[L,h,e,x,C,R,I,O,k,P,u,r,b,U,t,N,m]),r]}},74451:function(e,r,t){t.d(r,{N:function(){return p}});var a=t(85893),s=t(51480),n=t(19521),o=t(56947);const i=n.ZP.div.withConfig({displayName:"styles__ShopperProfilePic",componentId:"sc-nfphzt-0"})(["display:inline-block;overflow:hidden;position:relative;transition:width 1s;transition:margin-top 1s;"," img,svg{",";",";object-fit:cover;border-radius:50%;}"],(({isPreferredShopper:e})=>(({isPreferredShopper:e})=>e?"\n        margin-top:0px;\n    ":`\n  margin-top: ${o.space.generic.x7};\n    `)({isPreferredShopper:e})),(({isGrayscale:e})=>!0===e?"filter: grayscale(1)":null),(({size:e})=>(({size:e})=>"small"===e?"\n        width: 88px;\n        height: 88px;\n    ":"\n    width: 215px;\n    height: 215px;\n    ")({size:e}))),p=({isGrayscale:e,isPreferredShopper:r,size:t,shopperName:n,shopperPicture:o,showDefaultImage:p=!1,showThankYouDefault:l=!1})=>{let c;return c=l?(0,a.jsx)("img",{alt:"Thank You",src:s.er}):!p&&o?(0,a.jsx)("img",{alt:n,src:o}):e?(0,a.jsx)("img",{alt:"Shipt Shopper",src:s.YH}):(0,a.jsx)("img",{alt:"Shipt Shopper",src:s.G_}),(0,a.jsx)(i,{isGrayscale:e,isPreferredShopper:r,size:t,children:c})};p.displayName="ShopperProfilePicture"},82149:function(e,r,t){t.d(r,{zA:function(){return p}});var a=t(67294),s=t(23609),n=t(58545);const o="SDRAT_SUPRESS",i="SDRAT_SUPRESS_COUNT",p=()=>{const{0:e,1:r}=(0,a.useState)(!1),t=(0,a.useCallback)((()=>s.ZP.remove(o)),[]),p=(0,a.useCallback)((()=>s.ZP.remove(i)),[]),l=(0,a.useCallback)((async()=>{var e;return null!==(e=await s.ZP.get(i))&&void 0!==e?e:0}),[]),c=(0,a.useCallback)((async()=>{var e,r;const t=null!==(e=await s.ZP.get(o))&&void 0!==e&&e,a=null===(r=await s.ZP.isExpired(o))||void 0===r||r;return Boolean(t&&!a)}),[]),d=(0,a.useCallback)((e=>{p(),t();const r=(0,n.Z)(new Date,30);return s.ZP.set(o,e,{expiry:r.getTime()})}),[p,t]);(0,a.useEffect)((()=>{(async()=>{if(e)return;const t=await c();r(t)})()}),[c,r,e]);const u=(0,a.useCallback)((()=>{(async()=>{if(e)return;const r=await l();r<1?s.ZP.set(i,r+1):await d(!0)})()}),[e,l,d]),h=(0,a.useCallback)((()=>{e||r(!0)}),[e]);return(0,a.useMemo)((()=>[e,{suppressDrawer:u,suppressDrawerTemporarily:h,clearDrawerSuppressionCount:p,clearShouldSuppress:t}]),[e,u,h,p,t])}},73511:function(e,r,t){t.d(r,{W:function(){return n}});var a=t(67294),s=t(38927);const n=()=>{const e=(0,s.rS)();return{trackRatingAndTipSubmissionClick:(0,a.useCallback)((({orderId:r,rating:t,tip:a,tipPercentage:s})=>{e.trackEvent({guest:{eventType:"click"},appState:{pageName:"rate and tip",pageType:"rate and tip",cmsPageId:"/rateAndTip/",cmsPageType:"/rateAndTip/"},lnk:{contentClick:{componentType:`rate and tip: star rating : ${t}`,contentType:r,componentSubType:a,linkName:s}}})}),[e]),trackOrderDetailsLitePageload:(0,a.useCallback)((({orderId:r})=>{e.trackEvent({guest:{eventType:"pageload"},appState:{pageName:"rate and tip: order details",pageType:"rate and tip: order details",cmsPageId:"/rateAndTip/orderDetails/",cmsPageType:"/rateAndTip/orderDetails/",previousPageName:"rate and tip"},components:[{componentType:"rate and tip",contentType:r}]})}),[e]),trackPreferredShopperPageload:(0,a.useCallback)((({orderId:r})=>{e.trackEvent({guest:{eventType:"pageload"},appState:{pageName:"rate and tip/favoriteshopper",pageType:"rate and tip",cmsPageId:"/rateAndTip/favoriteshopper",cmsPageType:"/rateAndTip"},components:[{componentType:"rate and tip: Favorite shopper",contentType:r}]})}),[e]),trackPreferredShopperAdditionClick:(0,a.useCallback)((({shopperId:r,orderId:t})=>{e.trackEvent({guest:{eventType:"click"},appState:{pageName:"rate and tip/favoriteshopper",pageType:"rate and tip",cmsPageId:"/rateAndTip/favoriteshopper",cmsPageType:"/rateAndTip"},lnk:{contentClick:{component:`Shopper id: ${r}`,contentType:t,componentType:"rate and tip: Favorite shopper added"}}})}),[e]),trackRateAndTipPageload:(0,a.useCallback)((({orderId:r})=>{e.trackEvent({guest:{eventType:"pageload"},appState:{pageName:"rate and tip",pageType:"rate and tip",cmsPageId:"/rateAndTip/",cmsPageType:"/rateAndTip/"},components:[{componentType:"rate and tip",contentType:r}]})}),[e])}}},51480:function(e,r){var t,a;var s,n=[{start:new Date("2020-10-18T00:00:00-05:00"),end:new Date("2020-10-25T00:00:00-07:00")},{start:new Date("2020-11-08T00:00:00-05:00"),end:new Date("2020-11-15T00:00:00-08:00")}],o="87373691",i={cart_item:{item_type:"SHIPT_MEMBERSHIP",quantity:1,tcin:o},fulfillment:{type:"EMAIL"},cart_type:"REGULAR",channel_id:"10"};r.Lr=void 0,(s=r.Lr||(r.Lr={})).BEST_JUDGEMENT="BEST_JUDGEMENT",s.CONTACT_CUSTOMER="CONTACT_CUSTOMER",s.NO_SUBSTITUTION="NO_SUBSTITUTION";var p=((t={})[r.Lr.BEST_JUDGEMENT]="Get similar item",t[r.Lr.CONTACT_CUSTOMER]="Text me",t[r.Lr.NO_SUBSTITUTION]="Don\u2019t substitute",t),l=((a={})[r.Lr.BEST_JUDGEMENT]="Shopper can use their best judgment.",a[r.Lr.CONTACT_CUSTOMER]="Let me help choose a substitute.",a[r.Lr.NO_SUBSTITUTION]="Get only the items or backups I selected.",a);r.r2=i,r.kH=o,r.Gm="$35",r.tT="$9.99",r.SP="https://help.target.com/help/subcategoryarticle?childcat=Same+Day+Delivery+%28shopped+by+Shipt%29&parentcat=Delivery+%26+Pickup&searchQuery=search+help",r.G_="https://target.scene7.com/is/image/Target/GUEST_bab38ca0-c750-488f-b10c-c20a40871861",r.YH="https://target.scene7.com/is/content/Target/GUEST_b77289f9-78a0-4799-aece-c231b1c5bc32",r.ks="https://target.scene7.com/is/content/Target/GUEST_189c0c4d-a730-4459-b564-96ae5f29f6cd",r.er="https://target.scene7.com/is/image/Target/GUEST_291b667d-1dee-450d-980e-fe4463d51538",r.pj="$99",r.o2="$99.00",r.E1=99},53275:function(e,r,t){t.d(r,{I_:function(){return s},Ow:function(){return a},S3:function(){return i},kI:function(){return n},ud:function(){return o}});const a=3e5,s="@web/domain-orders/get-pending-shipt-orders",n="@web/domain-orders/get-shipt-order",o="@web/domain-orders/post-shopper-rating-and-tip",i={pending_order:!0,shipt_status:!0}}}]);