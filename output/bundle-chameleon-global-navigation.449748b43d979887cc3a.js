"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5374],{22220:function(n,t,e){e.r(t),e.d(t,{default:function(){return u}});var i=e(27378),a=(e(42668),e(4669)),r=e(65779),c=e(62339),o=e(62594),s=e(90392);function l(n,t,e,i,a,r,c){try{var o=n[r](c),s=o.value}catch(l){return void e(l)}o.done?t(s):Promise.resolve(s).then(i,a)}var u=n=>{var{data:{homepageLink:t,notificationsLink:e,accountLabel:u,signInLabel:p,accessibilityLinks:d,chameleonSearchLink:h,moreMenuLabel:g,closeButtonLabel:m,chameleonNavigationLinks:f},showServiceIdentifiers:L,currentPageAnalyticsDestination:b}=n,v="https://account.bbc.com/account",y=(0,r.TH)(),{host:_,language:I,country:k}=(0,o.B)(),D=!I||"cy"!==I&&"gd"!==I&&"en"!==I||I.endsWith("-GB")?I:"".concat(I,"-GB"),A="https://".concat(_).concat(y.pathname),[E,N]=(0,i.useState)({signedIn:!1,prompt:u,url:v}),S=_&&!_.endsWith(".com")?"https://idcta.api.bbc.co.uk/idcta/config":"https://idcta.api.bbc.com/idcta/config";return(0,i.useEffect)((()=>{var n=(0,c.ej)({name:"ckns_id"}),t=new AbortController,{signal:e}=t,i=function(){var t,i=(t=function*(){try{var t=yield(0,a.Z)(S,{signal:e}),i=yield t.json();if("GREEN"===i["id-availability"])if(n)try{var r=JSON.parse(window.atob(n));N({signedIn:!0,prompt:r.dn?r.dn:u,url:v,hasDisplayName:!!r.dn})}catch(c){N({signedIn:!1,prompt:p,url:i.signin_url})}else N({signedIn:!1,prompt:p,url:i.signin_url})}catch(o){N({signedIn:!1,prompt:u,url:v})}},function(){var n=this,e=arguments;return new Promise((function(i,a){var r=t.apply(n,e);function c(n){l(r,i,a,c,o,"next",n)}function o(n){l(r,i,a,c,o,"throw",n)}c(void 0)}))});return function(){return i.apply(this,arguments)}}();return i(),()=>{t.abort()}}),[u,S,p]),i.createElement(s.Z,{signedIn:E.signedIn,signInPrompt:E.prompt,signInUrl:E.url,hasDisplayName:E.hasDisplayName,signInPtrt:A,language:D,homepageLink:t,notificationsLink:e,accessibilityLinks:d,chameleonSearchLink:h,closeButtonLabel:m,items:f,country:k,moreMenuLabel:g,showServiceIdentifiers:L,currentPageAnalyticsDestination:b})}}}]);