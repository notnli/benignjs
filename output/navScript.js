!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).oneapp=t()}(this,(function(){"use strict";const e="gnav_login",t="gnav_logout";return function(){if(null!=document.getElementById("menuList")){const e=document.getElementById("menuList").children;for(let t=0;t<e.length;t+=1){const n=e[t].getElementsByTagName("label");console.log("labelList = ",n[0].id);document.getElementById(n[0].id).addEventListener("keypress",(e=>{var t,n;e.preventDefault(),t=e,n=e.target.id,"Enter"!==t.key||null===document.getElementById(n)||document.getElementById(n).click()}))}}const n={isLoggedIn(e){if("boolean"==typeof e)return e;const t=n.readCookie("amexsessioncookie"),o=n.readCookie("blueboxvalues"),l=n.readCookie("SMSESSION");let s=!1;if(null!==t&&""!==t){const e=(new Date).getTime(),n=/uts=([^|]+)/.exec(t);if(!n)return!1;(e-parseInt(n[1],10))/6e4<5&&(s=!0)}else(null!==o&&""!==o||null!==l&&"LOGGEDOFF"!==l)&&(s=!0);return s},readCookie(e){const t=document.cookie.split(";"),n=`${e}=`;let o=null;for(let e=0;e<t.length;e+=1){const l=t[e].trim();if(0===l.indexOf(n)){o=l.substring(n.length,l.length);break}}return o},appendQueriesToUrl({url:e,queries:t}){let n=e;return t.forEach((({key:t,value:o})=>{if(n.indexOf(`${t}=`)>-1){const l=new RegExp(`[\\?&]${t}=([^&#]*)`),s=l.exec(e)[0].charAt(0);let i=e.replace(l,`${s}${t}=${o}`);return"undefined"===o&&(i=i.replace(new RegExp(`[\\?&]${t}=${o}`),"")),void(n=i)}if("undefined"===o)return;const l=n.indexOf("?")>-1?"&":"?";n=`${n}${l}${t}=${o}`})),n},appendDestPageQuery:(e,t)=>n.appendQueriesToUrl({url:e,queries:[{key:"DestPage",value:encodeURIComponent(t)}]}),updateAuthView(o){try{const l=document.getElementById(t),s=document.getElementById(e);n.isLoggedIn(o)?(l.style.display="inline-block",s.style.display="none"):(l.style.display="none",s.style.display="inline-block")}catch(e){console.warn(e)}},setLoginDestPage(t){try{const o=document.getElementById(e);o.href=n.appendDestPageQuery(o.href,t)}catch(e){console.warn(e)}},setLogoutDestPage(e){try{const o=document.getElementById(t);o.href=n.appendDestPageQuery(o.href,e)}catch(e){console.warn(e)}}};return n.updateAuthView(),window.AmexNavigation={updateAuthView:n.updateAuthView,setLoginDestPage:n.setLoginDestPage,setLogoutDestPage:n.setLogoutDestPage},n}()}));
