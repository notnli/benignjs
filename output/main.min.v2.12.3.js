function build_ga_track_event(e,t,a){return"dataLayer.push({'event': 'trackEvent','eventDetails.category': "+e+", 'eventDetails.action': "+t+", 'eventDetails.label': "+a+"});"}function build_ga_track_event_custom(e,t,a,s){return"dataLayer.push({'event': 'trackEvent', 'eventDetails.category': "+e+",'eventDetails.action': "+t+", 'eventDetails.label': "+a+","+s+"});"}function build_ga_custom_track_share_thread(e,t,a,s,o){var i=s.attr("data-threadid"),r=decodeURIComponentSafe(s.attr("data-title")).replace("&#92;",""),n=s.attr("data-author"),l=s.attr("data-forum-id"),d=s.attr("data-forum-name"),c=s.attr("data-forum-parent-id"),u=s.attr("data-forum-parent-name"),p=s.attr("data-channel-id"),m=s.attr("data-channel-name"),h=user_id,s=s.attr("data-profile-user-id"),e={event:"trackEvent","eventDetails.category":e,"eventDetails.action":t,"eventDetails.label":a,threadShared:"1",userID:h=void 0!==s&&!1!==s?s:h,threadId:i,threadTitle:r,author:n,forumId:l,forumName:d,forumParentId:c,forumParentName:u,channelId:p,channelName:m};return o&&(e=Object.assign(e,o)),"dataLayer.push("+JSON.stringify(e).replace(/"/g,"'")+");"}function decodeURIComponentSafe(e,t){var a,s,o,i=new String,r=0;for(void 0===t&&(t=0),s=(a=e.split(/(%(?:d0|d1)%.{2})/)).length;r<s;r++){try{o=decodeURIComponent(a[r])}catch(e){o=t?a[r].replace(/%(?!\d+)/g,"%25"):a[r]}i+=o}return i}function buildAdditionalCustomMetricAttr(e){var t=e.attr("data-author"),a=decodeURIComponentSafe(e.attr("data-title")).replace("&#92;",""),s=e.attr("data-forum-id"),o=e.attr("data-forum-name"),i=e.attr("data-forum-parent-id"),r=e.attr("data-forum-parent-name"),n=e.attr("data-channel-id"),l=e.attr("data-channel-name"),d=user_id,e=e.attr("data-profile-user-id");return'data-userid="'+(d=void 0!==e&&!1!==e?e:d)+'" data-author="'+t+'" data-title="'+a+'" data-forumid="'+s+'" data-forum-name="'+o+'" data-forum-parentid="'+i+'" data-forum-parent-name="'+r+'" data-channelid="'+n+'" data-channel-name="'+l+'" '}function createThreadlistShareMenuData(e){var t,a,s,o,i,r,n,l,d,c,u,p,m,h,e=e.parent().find(".jsPopoverMenu:first");"false"==e.attr("data-created")&&(p=e.attr("data-thread-subscription"),h=e.attr("data-subscribe-tracking"),m=e.attr("data-subscribe-label"),u=e.attr("data-is-subscribe"),t=e.attr("data-threadid"),a=e.attr("data-forum-id"),s=decodeURIComponentSafe(e.attr("data-title")).replace("&#92;",""),o=e.attr("data-slugtitle"),i=e.attr("data-show-button-first-post"),r=e.attr("data-show-button-goto-last-post"),n=e.attr("data-last-post-id"),e.attr("data-fb-href"),l=e.attr("data-fb-url"),d=e.attr("data-twitter-href"),c="",c="true"==u?'<a href="javascript:void(0);"class="D(b) C(c-normal) Bgc(c-lightgrey):h My(3px) Py(5px) Px(10px) jsSubscribeThreadIcon"data-type="thread" '+("true"==p?'data-thread-subscription="true" ':"")+'data-id="'+t+'" '+buildAdditionalCustomMetricAttr(e)+'data-label="'+m+'" data-state="unsubscribe" data-style="menu" data-category="'+h+'"> <i class="Mend(12px) Va(m) fas Fz(14px) fa-bookmark fa-fw"></i><span class="Fz(12px)">'+window.KASKUS_lang.unsubscribe_button+"</span> </a>":'<a href="javascript:void(0);" class="D(b) C(c-normal) Bgc(c-lightgrey):h My(3px) Py(5px) Px(10px) jsSubscribeThreadIcon"data-type="thread" data-id="'+t+'" '+buildAdditionalCustomMetricAttr(e)+'data-label="'+m+'" data-state="subscribe" data-style="menu" data-category="'+h+'"> <i class="Mend(12px) Va(m) fas Fz(14px) fa-bookmark fa-fw"></i> <span class="Fz(12px)">'+window.KASKUS_lang.subscribe_button+"</span> </a>",u="","true"==i&&(u='<li class="D(b)"><a href="/thread/'+t+"/"+o+'?goto=newpost" class="D(b) C(c-normal) Bgc(c-lightgrey):h My(3px) Py(5px) Px(10px)"><i class="Mend(12px) Va(m) fas Fz(14px) fa-chevron-square-down fa-fw"></i> <span class="Fz(12px)">'+window.KASKUS_lang.go_first_new_post_button+"</span> </a> </li>"),p="","true"==r&&(p='<li class="D(b)"><a href="/lastpost/'+t+"#post"+n+'" class="D(b) C(c-normal) Bgc(c-lightgrey):h My(3px) Py(5px) Px(10px)" rel="nofollow"> <i class="Mend(12px) Va(m) fas Fz(14px) fa-chevron-square-right fa-fw"></i> <span class="Fz(12px)">'+window.KASKUS_lang.go_last_post_button+"</span> </a></li>"),m="",null==l&&null==d||(m='<div class="H(1px) Bgc(#d4d4d4) Mx(10px)"></div> ',null!=l&&(m+='<li class="D(b) Cur(p)"> <a href="javascript:void(0);" data-url="'+l+'" data-threadid="'+t+'" onclick="threadlist_facebook_share(\''+l+"', '"+t+"');"+build_ga_custom_track_share_thread("'"+a+" "+s+"'","'share thread'","'facebook'",e)+'" class="D(b) C(c-normal) Bgc(c-lightgrey):h My(3px) Py(5px) Px(10px)"> <i class="Mend(12px) Va(m) fab Fz(14px) fa-facebook-square fa-fw"></i> <span class="Fz(12px)">'+window.KASKUS_lang.share_facebook_button+"</span> </a></li>"),null!=d&&(m+='</li> <li class="D(b) Cur(p)"> <a target="_blank" href="'+d+'" data-threadid="'+t+'" onclick="threadlist_share_count(\''+t+"', 'twitter');"+build_ga_custom_track_share_thread("'"+a+" "+s+"'","'share thread'","'twitter'",e)+'" class="D(b) C(c-normal) Bgc(c-lightgrey):h My(3px) Py(5px) Px(10px)"> <i class="Mend(12px) Va(m) fab Fz(14px) fa-twitter-square fa-fw"></i> <span class="Fz(12px)">'+window.KASKUS_lang.share_twitter_button+"</span> </a> </li> "),m+='<div class="H(1px) Bgc(#d4d4d4) Mx(10px)"></div>'),h='<ul><li class="D(b) Cur(p)">'+c+"</li>"+m+u+p+"</ul>",e.attr("data-created","true"),e.append($.parseHTML(h)),$(document).on("click",".jsSubscribeThreadIcon",function(){subscribeUnsubscribe($(this))}))}function bindThreadListShareMenuData(){$(".jsThreadListShareMenuData").click(function(){createThreadlistShareMenuData($(this))})}function bindQNTForumDropdown(){var e=$(".jsPilihKategori");0<e.length&&($(e).select2({ajax:{url:"/forum_misc/get_dropdown_quicknewthread/",delay:1e3,data:function(e){return{keyword:e.term,page:e.page||1}}},escapeMarkup:function(e){return e},placeholder:window.KASKUS_lang.forum_option_placeholder,dropdownCssClass:"communitySelectDropdown",width:"100%",templateResult:formatCommunitySelectOutput,language:{loadingMore:function(){return $('<div class="Ta(c)"><div class="lds-ring"><div></div><div></div><div></div><div></div></div></div>')},searching:function(){return $('<div class="Ta(c)"><div class="lds-ring"><div></div><div></div><div></div><div></div></div><div class="Mt(4px) C(c-secondary) nightmode_C(c-secondary-night) Fz(12px)">'+window.KASKUS_lang.loading_label+"</div></div>")}}}),$("#forums").on("select2:select",function(e){$("#forum_id").val($("#forums").select2("data")[0].id).trigger("change"),$(".jsCommunityDescriptionShowMore").html($("#forums").select2("data")[0].description),$("#submitFormBtn").attr("text",$("#forums").select2("data")[0].btn_text)}),$(document).on("select2:open",()=>{document.querySelector(".select2-search__field").focus()}))}function formatCommunitySelectOutput(e){return e.id?container=$('<div class="Fz(14px)">'+e.text+'<span class="Mstart(8px) Fz(12px) C(c-tertiary)">'+e.subscribed+"</span></div>"):e.text}function forumAllEventTracking(){$(".jsChannelForumButton").length&&$(".jsChannelForumButton").click(function(){var e=$(this).attr("data-state"),t=$(this).attr("data-id");dataLayer.push({event:"trackEvent","eventDetails.category":"forumall","eventDetails.action":e+" channel","eventDetails.label":"channel-"+t}),"open"===e?$(this).attr("data-state","close"):$(this).attr("data-state","open")})}function bindForumAllIconCancel(){$("#search-icon").length&&$("#search-icon").click(function(){$(this).hasClass("fa-times")&&($("#search-category").val(""),hide_forum_all_search_result(),change_forum_all_icon_search())})}function bindForumAllSearchResult(){$("#search-result").length&&$("#search-result").children().length&&(jQuery.expr[":"].icontains=function(e,t,a){return 0<=jQuery(e).text().toUpperCase().indexOf(a[3].toUpperCase())},$("#search-category").keyup(function(e){if(""===(phrase=$(this).val())||void 0===phrase)return hide_forum_all_search_result(),change_forum_all_icon_search(),!1;show_forum_all_search_result(),change_forum_all_icon_cancel(),$("#search-result").children().hide(),(search_container=$(".listForumItem span span:icontains("+phrase+")")).closest(".listForumItem").show()}))}function bindForumAllSubscribeEvent(){$("[id^=bookmark-forum]").length&&$("[id^=bookmark-forum]").click(function(){return subscribeUnsubscribe($(this)),!1}),$("[id^=bookmark-search-forum]").length&&$("[id^=bookmark-search-forum]").click(function(){return subscribeUnsubscribe($(this)),!1})}function show_forum_all_search_result(){$(".jsChannelForumItem").hide(),$("#search-result").show()}function hide_forum_all_search_result(){$(".jsChannelForumItem").show(),$("#search-result").hide()}function change_forum_all_icon_search(){$("#search-icon").hasClass("fa-times")&&($("#search-icon").removeClass("fa-times"),$("#search-icon").addClass("fa-search"))}function change_forum_all_icon_cancel(){$("#search-icon").hasClass("fa-search")&&($("#search-icon").removeClass("fa-search"),$("#search-icon").addClass("fa-times"))}function bindTrhHome(){0<$("#recommended-thread-home").length&&$.get(url_recommendation,function(e){var i,r;!1!==(e="object"!=typeof e?$.parseJSON(e):e).result&&(r=i="",$.each(e.result,function(e,t){var s=1,o=Object.keys(t).length;i+='<div id="'+e+'" class="Px(15px) Py(15px) Bgc(c-white) Bd(borderSolidLightGrey) Mb(15px)" '+r+'><div class="D(f) Ai(c) Mb(15px)"><img src="'+assetsFolderNew+'/images/ic-rekomendasi-thread.svg" width="28" alt="recommended-thread"><div><span class="Ff(VagRounded) Lts(0.2px) Fz(20px) Mstart(10px) D(ib) Mt(4px) Mend(5px)">'+window.KASKUS_LANG.thread_recommendation_title+"</span></div></div>",$.each(t,function(e,t){var a;s++,i+='<a class="C(c-dark-grey)" href="'+t.href+'" onclick="'+t.ga_track+'"><div class="D(f) Mb(10px) '+(s<=o?"Bdb(borderSolidLightGrey)":"")+' Pb(15px)"><div class="Fx(flexOne)"><div class="C(c-dark-grey) Fz(14px) Lh(19px) Lts(0.1px) Fw(500)">'+t.title+'</div><a href="'+t.forum_href+'" class="C(c-secondary)" onclick="'+t.ga_track+t.ga_track_community+'"><div class="Fz(12px) C(c-secondary) Mt(5px)">'+t.forum_name+"</div></a></div>",Boolean(t["data-img-src"])&&(a=t.is_safe,i+='<div class="Pos(r) W(60px) H(60px) Fx(flexZero) Mstart(10px) Bdrs(5px) Bdrsbstart(0) Ov(h) '+(a?"":"jsHiddenImage is-active")+'">'+(a?"":'<i class="jsHiddenImageTrigger Pos(a) T(50%) Start(50%) Trf(transformCenter) C(c-white) Fz(32px) far fa-eye-slash Z(1)"></i>')+'<img alt="'+t.slug_title+'" data-src="'+t["data-img-src"]+'" class="mls-img Bdrs(5px) Bdrsbstart(0) W(100%) oFitCover H(100%)"></div>'),i+="</div></a>",r=' style="display: none;"'}),i+="</div>"}),$("#recommended-thread-home").replaceWith(i),$(".mls-img").kslzy(300),1<Object.keys(e.result).length&&dataLayer.push({event:"optimize.activate"}))})}function bindTrhThreadList(){0<$("#recommended-thread-threadlist").length&&$.post(url_recommendation,{hot_threads:hot_thread_data},function(e){var o,a,s,i;!1!==(e="object"!=typeof e?$.parseJSON(e):e).result&&(s=o="",i=a=0,o+='<div class="Px(15px) Py(15px) Bgc(c-white) Bd(borderSolidLightGrey) Mb(15px)"><div class="D(f) Ai(c) Mb(15px)"><img src="'+assetsFolderNew+'/images/ic-rekomendasi-thread.svg" width="28" alt="recommended-thread"><div><span class="Ff(VagRounded) Lts(0.2px) Fz(20px) Mstart(10px) D(ib) Mt(4px) Mend(5px)">'+window.KASKUS_LANG.thread_recommendation_title+"</span></div></div>",$.each(e.result,function(e,t){0==Object.keys(t).length?a++:""==s&&(s=e)}),$.each(e.result,function(e,t){var s=Object.keys(t).length;$.each(t,function(e,t){var a;i++,o+='<a class="C(c-secondary) Td(n):h '+t.model_name+'" href="'+t.href+'" '+(t.ga_track?'onclick="'+t.ga_track+'"':"")+' style="display: none;"><div class="D(f) Mb(10px) '+(i<s?"Bdb(borderSolidLightGrey)":"")+' Pb(15px)"><div class="Fx(flexOne)"><div class="C(c-dark-grey) Fz(14px) Lh(19px) Lts(0.1px) Fw(500)">'+t.title+'</div><div class="Fz(12px) C(c-secondary) Mt(5px)">'+t.thread_label+"</div></div>",Boolean(t.image_source)&&(a=t.is_safe,o+='<div class="Pos(r) Fx(flexZero) Mstart(10px) Bdrs(5px) Bdrsbstart(0) Ov(h) W(60px) H(60px) '+(a?"":"jsHiddenImage is-active")+'">'+(a?"":'<i class="jsHiddenImageTrigger Pos(a) T(50%) Start(50%) Trf(transformCenter) C(c-white) Fz(32px) far fa-eye-slash Z(1)"></i>')+'<img alt="'+t.slug_title+'" data-src="'+t["data-img-src"]+'" class="mls-img Bdrs(5px) Bdrsbstart(0) W(100%) oFitCover H(100%)"></div>'),o+="</div></a>"})}),o+="</div>",0<i&&$("#recommended-thread-threadlist").replaceWith(o),$(".mls-img").kslzy(300),""!=s&&$("."+s).show(),1<Object.keys(e.result).length&&0==a&&dataLayer.push({event:"optimize.activate"}))})}function bindSubscribeButton(){"function"==typeof subscribeUnsubscribe?($(".jsSubscribeThreadIcon").unbind(),$(document).on("click",".jsSubscribeThreadIcon",function(){return subscribeUnsubscribe($(this)),!1})):window.setTimeout(bindSubscribeButton,1e3)}function bindOpenWhoPosted(){"function"==typeof openWhoPosted?($(".openwhoposted").unbind(),$(".openwhoposted").on("click",function(e){e.preventDefault(),openWhoPosted($(this))})):window.setTimeout(bindOpenWhoPosted,1e3)}var whoposted_page=1,whoposted_load_more='<li id="whoposted-loadmore" class="D(f) Ai(c) Mb(15px)"><a data-id="whoposted-load-more" onclick="load_more_whoposted()" href="javascript:void(0)" class="D(b) W(100%) Bgc(#1998ed):h C(c-white):h Td(n):h D(b) Py(7px) Px(7px) Fw(500) Ta(c) C(#1998ed) Bd(borderSolidBlue) Bdrs(5px) Mb(10px)">Lihat Lainnya</a></li>',whoposted_urlAjax="";function openWhoPosted(e){whoposted_page=1,whoposted_urlAjax=e.attr("href"),$("#jsModalWhoPosted").empty();var a=(a='<div class="modal-dialog jsModalDialog Ov(h)"><div class="modal-content jsModalContent"><div class="modal-section W(400px)"><div class="modal-header H(140px) Bgc(c-aqua-light) Bdrs(5px) Pos(r) Maw(360px) Mx(a) Bdrsbend(0) Bdrsbstart(0)"><div class="W(100%) H(130px) Bg(bgImageProps) Bgi(imagePopupWhoposted) Pos(a) B(0)"></div><button class="Pos(a) End(10px) T(10px) jsModalCloseButton Z(1)" type="button"><i class="fas fa-times C(#6e6e6e) Fz(20px)"></i></button></div><div class="modal-body Bgc(c-white) Bdrs(5px) Py(15px) Px(40px)"><div class="Fz(18px) Fw(700) Mb(20px)">Who Posted</div><div class="D(f) Jc(sb) Ai(c) Fz(13px) C(c-normal) Py(8px)"><div>Username</div><div class="W(80px)" id="whoposted_total_post">Post</div></div><div class="Ovy(a) Mah(350px) Mb(15px) Mt(10px)"><div class="D(f) Fld(c)" id="whoposted_list_user"><ul>')+('<img id="whoposted-loading-image" src="'+assetsFolderNew+'/images/icon-load-biru.gif" width="40" height="40" alt="notification-loading" />')+"</ul></div></div></div></div></div></div>";return $("#jsModalWhoPosted").html(a),bindJsModalCloseButton(),$.ajax({url:whoposted_urlAjax+"/?whoposted_page="+whoposted_page,success:function(e){"object"!=typeof e&&(e=$.parseJSON(e)),$("#whoposted_list_user").empty(),whoposted_data=e.result.whoposted,post_userid=e.result.post_userid,thread_id=e.result.thread_id,total_post=parseInt(e.result.total_post)||0,whoposted_page=e.result.next_page,page_remaining=e.result.page_remaining,a="<ul>",0<Object.keys(whoposted_data).length?$.each(whoposted_data,function(e,t){void 0!==t.userid&&(a+='<li class="D(f) Ai(c) Mb(15px)"><a href="/profile/'+t.userid+'" target="_blank"><div class="Pos(r)"><img src="'+t.profile_picture+'" class="W(36px) H(36px) Bdrs(50%)">'+(t.is_online?'<i class="W(12px) H(12px) Bdrs(50%) Bgc(c-green) Pos(a) End(0) B(0) Bd(borderSolidGreen)"></i>':"")+'</div></a><div class="Fx(flexOne) Mx(10px) Ta(start)"><a href="/profile/'+t.userid+'" class="C(c-normal) D(f) Ai(c) Jc(fs) Mb(5px)" target="_blank">'+(t.userid==post_userid?'<span class="Bgc(#f8c31c) Bdrs(5px) P(3px) Fw(b) Fz(11px) Mend(5px)">TS</span>':"")+'<div class="Fz(13px) Fw(500)">'+t.username+'</div></a><div class="C(#a3a3a3) Fz(11px)">'+t.user_title+'</div></div><div class="W(80px)"><a href="/viewallposts/'+t.userid+"?thread_id="+thread_id+"&count="+t.total_post+'" class="Td(u):h C(c-normal) Fz(12px) Fw(500) Ta(c)">'+t.total_post+"</a></div></li>")}):a='<ul><li class="D(f) Ai(c) Mb(15px)">Empty Post</li></ul>',a+="</ul>",$("#whoposted_total_post").html("Post("+total_post+")"),$("#whoposted_list_user").html(a),0<page_remaining&&$("#whoposted_list_user ul").append(whoposted_load_more)}}),!1}function bindShowOrHideSelect2Dropdown(){$(".createThreadTagForm .select2, .sfthForm .select2, .jsShowTagSuggestionModal .select2").bind("click keyup",function(){$("ul.select2-results__options").children("li").map(function(){return $(this).attr("aria-selected")}).toArray().every(e=>"true"===e)?$(this).closest("body").find($(".select2-dropdown")).css("display","none"):$(this).closest("body").find($(".select2-dropdown")).css("display","block")})}function load_more_whoposted(){$("#whoposted-loadmore").hide(),html_view='<img id="whoposted-loading-image" src="'+assetsFolderNew+'/images/icon-load-biru.gif" width="40" height="40" alt="notification-loading" />',$("#whoposted_list_user ul").append(html_view),$.ajax({url:whoposted_urlAjax+"/?whoposted_page="+whoposted_page,success:function(e){"object"!=typeof e&&(e=$.parseJSON(e)),whoposted_data=e.result.whoposted,post_userid=e.result.post_userid,thread_id=e.result.thread_id,whoposted_page=e.result.next_page,page_remaining=e.result.page_remaining,html_view="",0<Object.keys(whoposted_data).length&&$.each(whoposted_data,function(e,t){void 0!==t.userid&&(html_view+='<li class="D(f) Ai(c) Mb(15px)"><a href="/profile/'+t.userid+'" target="_blank"><div class="Pos(r)"><img src="'+t.profile_picture+'" class="W(36px) H(36px) Bdrs(50%)">'+(t.is_online?'<i class="W(12px) H(12px) Bdrs(50%) Bgc(c-green) Pos(a) End(0) B(0) Bd(borderSolidGreen)"></i>':"")+'</div></a><div class="Fx(flexOne) Mx(10px) Ta(start)"><a href="/profile/'+t.userid+'" class="C(c-normal) D(f) Ai(c) Jc(fs) Mb(5px)" target="_blank">'+(t.userid==post_userid?'<span class="Bgc(#f8c31c) Bdrs(5px) P(3px) Fw(b) Fz(11px) Mend(5px)">TS</span>':"")+'<div class="Fz(13px) Fw(500)">'+t.username+'</div></a><div class="C(#a3a3a3) Fz(11px)">'+t.user_title+'</div></div><div class="W(80px)"><a href="/viewallposts/'+t.userid+"?thread_id="+thread_id+"&count="+t.total_post+'" class="Td(u):h C(c-normal) Fz(12px) Fw(500) Ta(c)">'+t.total_post+"</a></div></li>")}),$("#whoposted_list_user ul").append(html_view),$("#whoposted-loadmore").remove(),$("#whoposted-loading-image").remove(),0<page_remaining&&$("#whoposted_list_user ul").append(whoposted_load_more)}})}function bindJsModalCloseButton(){$(".jsModalCloseButton").click(function(){$(".jsModal").removeClass("is-open"),$("body").removeClass("Ov(h)")})}$(".openwhoposted").on("click",function(e){e.preventDefault(),openWhoPosted($(this))});var htLoadNumber=0,load_ht_without_cursor=1,ht_is_loading=!1;function show_ht_channel(e){show_request_fcm_popup(),ht_is_loading=!0;var a=$(window).scrollTop(),s='<a id="ht-next" class="Bgc(#1998ed):h C(c-white):h Td(n):h D(b) Py(7px) Px(7px) Fw(500) Ta(c) C(#1998ed) Bd(borderSolidBlue) Bdrs(5px) Mb(10px)" data-tracking="'+data_tracking+'" data-channel="'+e+'">Lanjut Gan!</a>',t=$("#ht_counter").val(),o=$("#ht_cursor").val(),i=$("#ht_hash_key").val(),r=$("#channel_for_you").val();$("#ht-loading-area").html(next_ht_image),$.ajax({url:"/misc/get_hotthread_channel/"+t+"/"+e,dataType:"json",type:"post",data:{cursor:o,disable_cursor:load_ht_without_cursor,exc_thread_ids:i,is_channel_for_you:r},success:function(e){$(e.html).insertBefore($("#ht-loading-area")),$("#ht-loading-area").html(s),$("#ht_counter").val(e.counter);var t=$("#ht_cursor").val();0==load_ht_without_cursor?e.cursor&&"*"!=e.cursor&&t!=e.cursor||removeHtAutoload():bindHtNext(),load_ht_without_cursor=e.next,$("#ht_cursor").val(e.cursor),ht_is_loading=!1,$(".mls-img").kslzy(300),window.scrollTo(0,a),$(document.body).trigger("sticky_kit:recalc"),window.scrollTo(0,a+1),bindSubscribeButton(),bindOpenWhoPosted(),bindThreadListShareMenuData(),bindJsTippy(),htLoadNumber++,dataLayer.push({event:"trackEvent","eventDetails.category":data_tracking,"eventDetails.action":"load more "+htLoadNumber,"eventDetails.label":"hot thread"})},error:function(){ht_is_loading=!1,removeHtAutoload()}})}function removeHtAutoload(){window.removeEventListener("resize",htloadnext),window.removeEventListener("scroll",htloadnext),window.removeEventListener("touch",htloadnext),window.removeEventListener("click",htloadnext),$("#ht-next").hide()}function htloadnext(){var e;0==ht_is_loading&&isElementInViewport($("#ht-next"))&&(e=$("#ht-next").attr("data-channel"),$("#ht-next").attr("data-tracking"),show_ht_channel(e))}function bindHtNext(){0<$("#ht-next").length&&(window.addEventListener("resize",htloadnext,{passive:!0}),window.addEventListener("scroll",htloadnext,{passive:!0}),window.addEventListener("touch",htloadnext,{passive:!0}),window.addEventListener("click",htloadnext,{passive:!0}))}function isElementInViewport(e,t){t=t||0;var a=($w=$(window)).height(),s=$w.scrollTop(),o=$(e).offset().top,e=$(e).height();return o<a+s+t&&s-e-t<o}var tl_limit=20,tl_is_loading=!1,tl_page=1;function show_thread_list(e,t,a,s,o){tl_is_loading=!0;var i=$(window).scrollTop();$.post("/misc/get_threadlist_forum_landing/",{sort:e,cursor:t,order:a,feedtype:s,channel:o},function(e){tl_page++;var t=e.totalcount;$(e.html).insertBefore($("#threadlist-loading-area")),$("#tl_cursor").val(e.cursor),$(".mls-img").kslzy(300),window.scrollTo(0,i),$(document.body).trigger("sticky_kit:recalc"),window.scrollTo(0,i+1),bindSubscribeButton(),bindOpenWhoPosted(),bindThreadListShareMenuData(),bindJsTippy(),t<tl_limit||1e3<tl_page?($("#threadlist-loading-area").hide(),window.removeEventListener("resize",tlload),window.removeEventListener("scroll",tlload),window.removeEventListener("touch",tlload),window.removeEventListener("click",tlload)):tl_is_loading=!1},"json")}function updateNotice(e){var t=$.parseJSON($.cookie("notices"));t.push(e),$.cookie("notices",JSON.stringify(t),{expires:null,path:"/",domain:"",secure:!1})}function bindNotice(){0<$(".btn_close").length&&$(".btn_close").click(function(){var e=$(this).closest(".jsNoticeBoard");updateNotice(e.attr("data-id")),e.remove()})}function setThreadDisplay(e){var t=$("body").hasClass("is-title"),a=$("body").hasClass("is-compact"),t="forum"!=e||t?a?"thumb":"compact":"list";$.ajax({url:"/misc/set_thread_list_display/"+t+"/"+e,success:function(e){location.reload()},error:function(){}})}function bindSetThreadDisplay(){var e;0<$(".jsCompactTrigger").length&&(e=$(".jsCompactTrigger").attr("data-style"),$(".jsCompactTrigger").click(function(){setThreadDisplay(e)}))}function setFeedDisplay(e){$(".jsFeedTrigger").unbind("click"),$.ajax({url:"/misc/set_feed_display/"+e,success:function(e){var t;bindSetFeedDisplay(),""==location.search?window.location="":((t=new URLSearchParams(location.search)).delete("feed"),window.location="?"+t)},error:function(){bindSetFeedDisplay()}})}function bindSetFeedDisplay(){0<$(".jsFeedTrigger").length&&$(".jsFeedTrigger").click(function(){setFeedDisplay($(this).attr("data-style"))})}function setSubscribedForumOrder(e){$(".jsSubsForumTrigger").unbind("click"),$.ajax({url:"/myforum/set_subscribed_forum_order/"+e,success:function(e){bindSetSubscribedForumOrder(),location.reload()},error:function(){bindSetSubscribedForumOrder()}})}function bindSetSubscribedForumOrder(){0<$(".jsSubsForumTrigger").length&&$(".jsSubsForumTrigger").click(function(){setSubscribedForumOrder($(this).attr("data-type"))})}function setSubscribedThreadTab(e){$(".jsSubsThreadTrigger").unbind("click"),$.ajax({url:"/myforum/set_subscribed_thread_tab/"+e,success:function(){bindSetSubscribedThreadTab(),window.location="/myforum/subscribe_thread"},error:function(){bindSetSubscribedThreadTab()}})}function bindSetSubscribedThreadTab(){0<$(".jsSubsThreadTrigger").length&&$(".jsSubsThreadTrigger").click(function(){setSubscribedThreadTab($(this).attr("data-type"))})}function bindSetSubcategoryItem(e){$(e).hasClass("is-selected")?$(e).removeClass("is-selected"):$(e).addClass("is-selected"),0==$(".jsCategoryPersonalizationItem.is-selected").length?($(".jsButtonSubscribe").addClass("is-disabled"),$(".jsButtonSubscribe button").prop("disabled",!0),$(".jsButtonSubscribe button").toggleClass("Bgc(c-grey-light) C(c-grey) Bgc(c-blue) Bgc(c-blue-hover):h C(c-white)")):1==$(".jsCategoryPersonalizationItem.is-selected").length&&$(".jsButtonSubscribe").hasClass("is-disabled")&&($(".jsButtonSubscribe").removeClass("is-disabled"),$(".jsButtonSubscribe button").prop("disabled",!1),$(".jsButtonSubscribe button").toggleClass("Bgc(c-grey-light) C(c-grey) Bgc(c-blue) Bgc(c-blue-hover):h C(c-white)"))}function bindSetjsCategoryPersonalizationItem(){$("#subscribedFeed").click(function(){var e=[],a=[];$(".jsCategoryPersonalizationItem.is-selected").each(function(){e.push($(this).attr("data-forumid")),a.push("forum-"+$(this).attr("data-forumid")),dataLayer.push({forumSubscriber:1,userID:$(this).attr("data-userid"),forumId:$(this).attr("data-forumid"),forumName:$(this).attr("data-forumname"),forumParentId:$(this).attr("data-forumParentId"),forumParentName:$(this).attr("data-forumParentName"),channelId:$(this).attr("data-channelId"),channelName:$(this).attr("data-channelName")})}),$.ajax({url:"/misc/subscribe_multiple_forum",type:"post",data:{forumIds:e},success:function(e,t){"ok"==$.parseJSON(e).status?(dataLayer.push({event:"trackEvent","eventDetails.category":"feeds subscription","eventDetails.action":"subscribe","eventDetails.label":a.join(",")}),location.reload()):window.location="/user/login/forum"},error:function(e){window.location="/user/login/forum"}})}),$("#subscribedFeedLater").click(function(){dataLayer.push({event:"trackEvent","eventDetails.category":"feeds subscription","eventDetails.action":"skip","eventDetails.label":""}),setFeedDisplay("all_feed")})}function bindSetjsButtonSubscribe(){$(".jsCategoryPersonalizationItem").click(function(){bindSetSubcategoryItem($(this))})}var community_list_loading_image='<img src="'+assetsFolderNew+'/images/icon-load-biru.gif" width="40" height="40" alt="conection-loading" />';function get_popular_forum_list(){$(".popular_community_list").addClass("Ta(c)"),$(".popular_community_list").html(community_list_loading_image);var e=$(".popular_community_list").attr("data-channel-id"),t=$(".popular_community_list").attr("data-channel-for-you");$.get("/forum_misc/get_community_list/popular/"+e+"/"+t,function(e){$(".popular_community_list").removeClass("Ta(c)"),$(".popular_community_list").html(e.popular_community_list)},"json")}function get_newest_forum_list(){$(".newest_community_list").addClass("Ta(c)"),$(".newest_community_list").html(community_list_loading_image);var e=$(".newest_community_list").attr("data-channel-id"),t=$(".newest_community_list").attr("data-channel-for-you");$.get("/forum_misc/get_community_list/newest/"+e+"/"+t,function(e){$(".newest_community_list").removeClass("Ta(c)"),$(".newest_community_list").html(e.newest_community_list)},"json")}function leaveNextStep(e,t){subscribeUnsubscribe($(e[0])),closeModal(t)}function confirmLeaveCommunity(e){e=e.getAttribute("data-modal-id");leaveNextStep($("body").find('button[data-modal="'+e+'"]'),e)}function ajaxThenReplace(e,t){0<$(t).length&&$.ajax({method:"GET",url:e,success:function(e){1==(e=JSON.parse(e)).result&&$(t).replaceWith(e.html)}})}function getPromotedForumsAndHt(){var e,t=$(".promoted-forums-placeholder");0!=t.length&&(e=t.data("forumid"),$.ajax({method:"GET",url:"/misc/get_promoted_forum_and_ht/"+e,success:function(e){1==(e=JSON.parse(e)).result&&(t.replaceWith(e.promoted_forum),$(".hot-thread-placeholder").replaceWith(e.hot_thread),$(".mls-img").kslzy(300),hot_thread_data=e.hot_thread_data,bindTrhThreadList())}}))}function loadListEvents(){var e,t=$(".list-event-placeholder");0<t.length&&(e=t.data("forum-id"),fetch("/misc/get_active_events/"+e,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(e=>e.json()).then(e=>{1==e.result?t.replaceWith(e.html):t.replaceWith('<div class="M(zeroAuto) W(50%)">Something went wrong. Refresh page.</div>')}).catch())}$(document).on("click",".jsModalLoad",function(){var e,t;$(this).hasClass("jsModalTrigger")&&(e=$(this).attr("data-modal"),t=$(this).attr("data-leave-message"),$(".jsModalSubscription").attr("id",e),$(".confirmModalButton").attr("data-modal-id",e),$(".confirmModalButton").attr("onclick","confirmLeaveCommunity(this)"),$(".leave_confirmation_message").html(t))}),$(document).on("click",".js-load-community-rules",function(){ajaxThenReplace("/misc/get_community_rules/"+$(this).data("forumid"),".community-rules-placeholder")}),$(document).on("click",".js-load-community-detail",function(){ajaxThenReplace("/misc/get_detail_community/"+$(this).data("forumid"),".community-detail-placeholder")});var spoilerTemplate,quoteTemplate,mentionToolbar,mentionTemplate,youtubeTemplate,youtubeId,twitterTemplate,tiktokTemplate,instagramTemplate,vimeoTemplate,vimeoId,twitchTemplate,fbvideoTemplate,soundcloudTemplate,soundcloudId,dailymotionTemplate,dailymotionId,smuleTemplate,smuleId,kaskusTvVodTemplate,KaskusTvLivetemplate,KaskusLiveTemplate,pic,pic2,pic3,pic4,pic5,pic6,pic7,pic8,pic9,pic10,pic11,pic12,pic13,textareaSCeditor,toolbarSCEditor,heightSCEditor,createThreadEditor,sceditorInstance,receivedTokens={},typingTid=0,retrieveDone=!1,incompleteResponse=!1,isRequesting=!1,lastTopic={Title:"",Content:""},lastRequestParentId={Title:"",Content:""},lastRequestId={Title:"",Content:""},gptRequests={},sentFeedback={},responseVariants={},gptResizeObservers={},kgptCredit=0,alreadyShowOnboarding=!1,receivedStreamRids={},stoppedRequests=[];const gptResizeObserver=new ResizeObserver(e=>{for(const t of e)t.contentBoxSize&&(boundingRect=document.getElementById("createContentContainer").getBoundingClientRect(),$(".gptForm").css({top:boundingRect.top+document.documentElement.scrollTop,height:boundingRect.height,left:boundingRect.left,width:boundingRect.width}),$(".gptResult").css({height:boundingRect.height-150}),$("#gptOnboarding").css({top:boundingRect.top+document.documentElement.scrollTop+boundingRect.height-250,left:boundingRect.left+boundingRect.width-235}))});function createObserver(a,e){gptResizeObservers[e]=new ResizeObserver(e=>{for(const t of e)setTimeout(function(){$("#gptResult"+a).each(function(){var e=Math.max(this.scrollHeight,this.clientHeight);this.scrollTop=e-this.clientHeight})},50)}),setTimeout(function(){gptResizeObservers[e].observe(document.getElementById(`generated_${a.toLowerCase()}_`+e))},50)}function llmStreamMessageReceived(e){if(window.getTemplate&&gptRequests[e.reqid]&&!stoppedRequests.includes(e.reqid)){var t,a=gptRequests[e.reqid].type,s=gptRequests[e.reqid].parentRid,o=e.reqid;switch(e.token){case"":break;case"[start]":$(`#gptResult${a} .loading_response`).remove(),getKgptCredit(),receivedTokens[o]=[],getTemplate("generated_"+a.toLowerCase(),{rid:o,content:""}).appendTo("#paginator_wrapper_list_"+(s||o)),createObserver(a,o),receivedStreamRids[o]=!0,retrieveDone=!1,clearInterval(typingTid),typingTid=setInterval(function(){"Title"==a?updateRadio(`#generated_${a.toLowerCase()}_items_${o} > div:last-child`,o):"Content"==a&&appendText(`generated_${a.toLowerCase()}_item_`+o,o)},50);break;case"[incomplete]":incompleteResponse=!0;case"[end]":retrieveDone=!0;break;default:if(!receivedTokens[o]||stoppedRequests.includes(o))return;"=="==e.token?receivedTokens[o].push("=="):(t=e.token.split("").map(e=>e.replace(/\n/g,"<br>")),receivedTokens[o].push(...t))}}}function stopGenerate(e){var t=lastRequestId[e];$("#stopGenerate"+e).fadeOut(),stoppedRequests.push(t),isRequesting=!(retrieveDone=!0),clearInterval(typingTid),gptResizeObservers[t]&&gptResizeObservers[t].disconnect(),$(`#gptResult${e} .loading_response`).remove(),showFeedbackForm(t)}function appendText(e,t){var a;0==receivedTokens[t].length?retrieveDone&&(incompleteResponse&&(document.getElementById(e).innerHTML+="&#8230;",incompleteResponse=!1),showFeedbackForm(t)):10<receivedTokens[t].length?(a=receivedTokens[t].splice(0,10).join(""),document.getElementById(e).innerHTML+=a):(a=receivedTokens[t].shift(),document.getElementById(e).innerHTML+=a)}function updateRadio(e,t){var a;0==receivedTokens[t].length?retrieveDone&&(incompleteResponse&&(document.getElementById(e).innerHTML+="&#8230;",incompleteResponse=!1),1<document.querySelectorAll(`input[name=title_${t}]`).length?showFeedbackForm(t,!0):(enableInput("Title"),gptResizeObservers[t].disconnect(),isRequesting=!1,clearInterval(typingTid))):"=="==(a=receivedTokens[t].shift().replace(/"/g,"&quot;"))?getTemplate("title_item",{rid:t,title:""}).appendTo("#generated_title_items_"+t):"<br>"!=a&&(document.querySelector(e+" span")||(getTemplate("title_item",{rid:t,title:""}).appendTo("#generated_title_items_"+t),$(`#generated_title_items_${t} .radio`).removeClass("radio"),$(`#generated_title_items_${t} input[type=radio]`).addClass("D(n)")),document.querySelector(e+" span").innerHTML+=a,document.querySelector(e+" input[type=radio]").value+=a)}function showFeedbackForm(e,t=!1){var a=gptRequests[e].type;$("#stopGenerate"+a).fadeOut(),"maaf"!=$(`#generated_${a.toLowerCase()}_item_`+e).text().substring(0,4).toLowerCase()&&(getTemplate(gptRequests[e].parentRid?"feedback_regenerate":"feedback",{rid:e,type:a}).appendTo(`#generated_${a.toLowerCase()}_`+e),t&&$("#use_result_"+e).addClass("Bgc(c-grey)").removeClass("Bgc(general)"),$("#regenerate"+a).fadeIn()),enableInput(a),clearInterval(typingTid),gptResizeObservers[e]&&gptResizeObservers[e].disconnect(),isRequesting=!1}function getTrendingTopic(a){var s=requestId();disableInput(a),sendGaEventTracking("","generate topic","generate "+a.toLowerCase()),$.ajax({url:"/api/gpt/trending_topic",dataType:"json",success:function(e){enableInput(a),e.data&&e.data.success?(getTemplate("trending_topic",{rid:s}).appendTo("#gptResult"+a),$.each(e.data.result,function(e,t){getTemplate("trending_topic_item",{rid:s,topic:t,type:a}).appendTo("#trending_topic_items_"+s)})):(getTemplate("paginator_wrapper",{rid:s}).appendTo("#gptResult"+a),showFailedResult("saran topik",a,s))},error:function(){enableInput(a),getTemplate("paginator_wrapper",{rid:s}).appendTo("#gptResult"+a),showFailedResult("saran topik",a,s)}})}function getKgptCredit(){$.ajax({url:"/api/gpt/credit",dataType:"json",success:function(e){e.data&&(kgptCredit=parseInt(e.data),$(".kgpt_credit").text(kgptCredit),showOnboarding())}})}function sendPrompt(a,e=null){if(isRequesting)showToastMessage("Masih ada proses yang berjalan. Mohon tunggu sampai proses selesai.");else if(kgptCredit<=0)showToastMessage("Maaf, Poin Anda tidak mencukupi untuk melakukan proses.");else{isRequesting=!0;var t,s,o=requestId();if(e)t=lastTopic[a],sendGaEventTracking("","regenerate","generate "+a.toLowerCase()),disableInput(a,e),responseVariants[e].push(o),$("#paginator_"+e).data("current",responseVariants[e].length).data("variant",responseVariants[e].length).removeClass("D(n)"),$(`#paginator_wrapper_list_${e} > div:not(.loading_response)`).removeClass("D(n)").addClass("D(n)"),$(`#generated_${a.toLowerCase()}_`+o).removeClass("D(n)"),$("#paginator_page_"+e).text(responseVariants[e].length+" / "+responseVariants[e].length).removeClass("D(n)"),$(`#paginator_${e} .fa-chevron-left`).removeClass("C(c-gray-2)"),$(`#paginator_${e} .fa-chevron-right`).addClass("C(c-gray-2)"),s=gptRequests[e].style;else{if(!(t=$("#gptInput"+a).val()).trim())return!1;sendGaEventTracking("","generate "+a.toLowerCase(),""),getTemplate("input_prompt",{prompt:t}).appendTo("#gptResult"+a),disableInput(a,o),responseVariants[o]=[o],s=$("#formalStyle"+a).is(":checked")?"generic":"kaskus"}var i={Title:"judul dengan topik tersebut",Content:"konten dengan topik tersebut"};lastTopic[a]=t,lastRequestParentId[a]=e||o,lastRequestId[a]=o,gptRequests[o]={type:a,topic:t,parentRid:e,style:s},$.ajax({type:"POST",url:"/api/gpt/generate_"+a.toLowerCase(),contentType:"application/json",dataType:"json",data:JSON.stringify({topic:t,reqid:o,style:s}),success:function(e){getKgptCredit(),$("#stopGenerate"+a).fadeIn()},error:function(e){var t=i[a];403==e.status&&(t+=". "+JSON.parse(e.responseText).error.message),showFailedResult(t,a,o),getKgptCredit(),$("#stopGenerate"+a).fadeIn()}})}return!1}function regenerate(e){sendPrompt(e,lastRequestParentId[e])}function prevVariant(e){var t,a,s=$("#paginator_"+e).data("current");1!=s&&(s=s-1,$("#paginator_"+e).data("current",s),$("#paginator_page_"+e).text(s+" / "+responseVariants[e].length),$(`#paginator_wrapper_list_${e} > div`).removeClass("D(n)").addClass("D(n)"),t=responseVariants[e][s-1],a=gptRequests[t].type,$(`#generated_${a.toLowerCase()}_`+t).removeClass("D(n)"),$(`#paginator_${e} .fa-chevron-right`).removeClass("C(c-gray-2)"),1==s&&$(`#paginator_${e} .fa-chevron-left`).addClass("C(c-gray-2)"))}function nextVariant(e){var t,a,s=$("#paginator_"+e).data("current");s!=responseVariants[e].length&&(s=s+1,$("#paginator_"+e).data("current",s),$("#paginator_page_"+e).text(s+" / "+responseVariants[e].length),$(`#paginator_wrapper_list_${e} > div`).removeClass("D(n)").addClass("D(n)"),t=responseVariants[e][s-1],a=gptRequests[t].type,$(`#generated_${a.toLowerCase()}_`+t).removeClass("D(n)"),$(`#paginator_${e} .fa-chevron-left`).removeClass("C(c-gray-2)"),s==responseVariants[e].length&&$(`#paginator_${e} .fa-chevron-right`).addClass("C(c-gray-2)"))}function disableInput(e,t=null){t?(document.getElementById("paginator_wrapper_list_"+t)||getTemplate("paginator_wrapper",{rid:t}).appendTo("#gptResult"+e),getTemplate("loading_response").appendTo("#paginator_wrapper_list_"+t)):getTemplate("loading_response").appendTo("#gptResult"+e),$("#regenerate"+e).fadeOut(),$("#gptInput"+e).prop("disabled",!0).val(""),$("#gptInput"+e).closest("form").addClass("Bgc(c-gray-1)").removeClass("Bgc(c-white)"),scrollResult(e),$("#gptInput"+e).closest("form").find("button[type=submit]").attr("disabled",!0).removeClass("C(c-blue)")}function enableInput(e){$(`#gptResult${e} .loading_response`).remove(),$("#gptInput"+e).prop("disabled",!1),$("#gptInput"+e).closest("form").removeClass("Bgc(c-gray-1)").addClass("Bgc(c-white)"),scrollResult(e)}function scrollResult(e){setTimeout(function(){$("#gptResult"+e).animate({scrollTop:document.getElementById("gptResult"+e).scrollHeight},500)},50)}function setTopic(e,t){sendGaEventTracking("","use generate topic","generate "+t.toLowerCase());e=$(e).find(".topic").text();$("#gptInput"+t).val(e).focus().keyup()}function sendFeedback(e,t){var a,s=$(e).data("rid"),o=$(e).data("type");sentFeedback[s]||(sentFeedback[s]=!0,a={generatedContent:getGeneratedContent(o,s),keywords:gptRequests[s].topic},$(e).parent().find("a").removeClass("C(c-blue):h C(c-red):h"),0<t?(a.totalLike=1,$(e).removeClass("C(#c7c7c7)").addClass("C(c-blue) Bgc(c-blue-light)"),sendGaEventTracking("","like","generate "+o.toLowerCase(),a),showToastMessage("Terima kasih untuk feedback Anda")):(a.totalDislike=1,$(e).removeClass("C(#c7c7c7)").addClass("C(c-red) Bgc(c-red-transparent-2)"),sendGaEventTracking("","dislike","generate "+o.toLowerCase(),a),getTemplate("feedback_input",{rid:s,type:o}).appendTo(`#generated_${o.toLowerCase()}_`+s),scrollResult(o),$("#feedback_input_"+s).focus()))}function showToastMessage(e){$(".bottomToast").css({zIndex:200}),showBottomToast(e,2800)}function sendFeedbackRegenerate(e,t){var a=$(e).data("rid"),s=$(e).data("type");if(!sentFeedback[a]){switch(sentFeedback[a]=!0,$(e).parent().find("a").removeClass("C(c-blue):h C(c-red):h C(c-secondary):h"),t){case"better":$(e).removeClass("C(#c7c7c7)").addClass("C(c-blue) Bgc(c-blue-light)");break;case"worse":$(e).removeClass("C(#c7c7c7)").addClass("C(c-red) Bgc(c-red-transparent-2)");break;case"same":$(e).removeClass("C(#c7c7c7)").addClass("C(c-secondary) Bgc(c-gray-2)")}a={keywords:gptRequests[a].topic,generatedContent:getGeneratedContent(s,gptRequests[a].parentRid),regeneratedContent:getGeneratedContent(s,a)};sendGaEventTracking(t,"feedback regenerator","generate "+s.toLowerCase(),a),showToastMessage("Terima kasih untuk feedback Anda")}}function sendFeedbackInput(e,t){var a,s=$("#feedback_input_"+t).val().trim();return 0!=s.length&&(a=gptRequests[t].type,s={feedbackText:s.substring(0,200),keywords:gptRequests[t].topic,generatedContent:getGeneratedContent(a,t)},sendGaEventTracking("","feedback generator","generate "+a.toLowerCase(),s),showToastMessage("Terima kasih untuk feedback Anda"),$(e).remove()),!1}function getGeneratedContent(e,t){var a="";return"Title"==e?($(`input[name=title_${t}]`).each(function(){a+=$(this).val().trim()+"|"}),a=$.trim(a)):"Content"==e&&(a=$("#generated_content_item_"+t).text()),a}function useResult(e,t){if("Title"==e){var a=$(`input[name=title_${t}]:checked`);if(!(0<a.length))return void showToastMessage("Silakan pilih judul yang ingin Anda gunakan");$("#formTitleText").val(a.val().trim()),closeGpt()}else"Content"==e&&(a=$("#generated_content_item_"+t).html(),$(sceditorInstance.getBody()).removeClass("placeholder"),sceditorInstance.setWysiwygEditorValue(a),countChars(),closeGpt());sendGaEventTracking("","use generate "+e.toLowerCase(),"")}function showFailedResult(e,t,a){e=getTemplate("generated_content",{rid:a,content:`Maaf, saat ini kami tidak dapat membuat ${e}. `});$(`#gptResult${t} .loading_response`).remove(),$(e).appendTo("#paginator_wrapper_list_"+a),enableInput(t),isRequesting=!1}function toggleGptMenu(){0==$(".jsGptForm").length&&getTemplate("gpt_toolbar").appendTo("#jsToolbarSCEditor"),0==$(".jsGptContainer:visible").length?$(".jsGptContainer").removeClass("D(n)"):$(".jsGptContainer").addClass("D(n)")}function openGpt(e){sendGaEventTracking("","intent to generate","generate "+e.toLowerCase()),$(".jsGptBackgroundOverlay, #gptForm"+e).removeClass("D(n)"),$("#gptInput"+e).focus(),scrollResult(e)}function closeGpt(){$(".jsGptBackgroundOverlay, .gptForm").addClass("D(n)")}function showOnboarding(){isRequesting||"1"!=$("#formThreadType").val()||(0<kgptCredit?(alreadyShowOnboarding=$.cookie("gpt_onboarding_beta"),$("a.beta").removeClass("D(n)").addClass("D(ib)"),$("a.non_beta").addClass("D(n)").removeClass("D(ib)")):alreadyShowOnboarding=$.cookie("gpt_onboarding_non_beta"),alreadyShowOnboarding||($(".jsGptBackgroundOverlay, #gptOnboarding").removeClass("D(n)"),alreadyShowOnboarding=!0))}function closeOnboarding(e){var t="non_beta";switch(e){case"reject":sendGaEventTracking("","onboarding generator","not now");break;case"signup":sendGaEventTracking("","onboarding generator","i'm interested");break;case"trynow":t="beta"}$(".jsGptBackgroundOverlay, #gptOnboarding").addClass("D(n)"),$.cookie("gpt_onboarding_"+t,"1",{path:"/"})}function requestId(){return Math.random().toString(36).substring(2,8)}function getTemplate(e,t){var a=$("#"+e+"_template").html();return $.each(t,function(e,t){a=a.replace(new RegExp("{{"+e+"}}","g"),t)}),$(a)}function sendGaEventTracking(e,t,a,s={}){e={event:"trackEvent","eventDetails.category":e,"eventDetails.action":t,"eventDetails.label":a},e=Object.assign(e,s);dataLayer.push(e)}function spoiler(e){"Show"==e.value?($(".content_"+$(e).attr("class")).slideDown(0),e.innerHTML="",e.value="Hide"):($(".content_"+$(e).attr("class")).slideUp(0),e.innerHTML="",e.value="Show")}function get_smilies(){var e;(localSmilies=get_MRU())&&(e={smilies:$.param(localSmilies)}),$.ajax({method:"POST",url:"/misc/get_smilies",data:e||{},success:function(e){e=JSON.parse(e),smilies=JSON.parse(e.kaskus),$(".smilies-tab").replaceWith(smilies.tab),$(".smilies-tab-content").replaceWith(smilies.content),e.mru?(smilies_mru=e.mru,$("#content-mru").html(smilies_mru),$("#mru").addClass("active"),$("#content-mru").addClass("active"),load_MRU()):$("#mru").hide(),show_tab(".smiley-wrapper .smiley-tab .tab-content > .active"),$(".smiley-tab__item").not(".smiley-tab__item--unavailable").find(".smilie__in-action").click(function(){get_focus(),smiley_tracking(this.children),insert_smilikiti(this.children)}),$("#emoticons").show()}})}function printDiv(e){window.frames.print_frame.document.body.innerHTML=document.getElementById(e).innerHTML,window.frames.print_frame.window.focus(),window.frames.print_frame.window.print()}function get_MRU(){var e=[];if(localStorage[mru_key]&&(mru=JSON.parse(localStorage[mru_key]))){for(var t in mru)-1<t.search("smilie")&&e.push(mru[t]);var a={smilies:e}}return a||{}}function load_MRU(){var e=$("#content-mru").find(".loadMRU");return e&&$.each(e,function(e,t){$(t).attr("src",$('.loadSmilies[alt="'+$(t).attr("alt")+'"]').attr("data-src")),$(t).attr("title",$('.loadSmilies[alt="'+$(t).attr("alt")+'"]').attr("title")),$(t).removeAttr("class")}),!0}function show_tab(e){e=$(e).find(".loadSmilies");return e&&$.each(e,function(e,t){$(t).attr("src",$(t).attr("data-src")),$(t).removeAttr("data-src"),$(t).removeAttr("class")}),!0}function insert_smilikiti(e){if(localStorage){if(a=JSON.parse(localStorage.getItem(mru_key)))for(var t in a)t==="smilie"+$(e).attr("alt")&&delete a[t];else var a=new Object;mru_limit==Object.keys(a).length&&delete a[Object.keys(a)[0]],a["smilie"+$(e).attr("alt")]=$(e).attr("alt"),localStorage.setItem(mru_key,JSON.stringify(a))}emoticon=$(e).attr("alt")+" ",$.markItUp({replaceWith:emoticon}),"1"!==$.cookie("use_old_qnt")&&(sceditorInstance.inSourceMode()?sceditorInstance.insert($(e).attr("alt")):sceditorInstance.insert('<img src="'+$(e).attr("src")+'" data-sceditor-emoticon="'+$(e).attr("alt")+'" border="0" alt="emoticon-'+$(e).attr("title")+'" title="'+$(e).attr("title")+'">',null,!1))}function jump_page(e){var e=$("#"+e).val(),t=$(".url_jump").val();window.location.href=t+e}function clickVideo(e){if(-1<(" "+e.className+" ").indexOf(" playing ")){e.className=e.className.replace(/(?:^|\s)playing(?!\S)/g,"");var t=e.getElementsByTagName("video")[0];for(t.setAttribute("src",""),t.pause();t.firstChild;)t.removeChild(t.firstChild)}else{e.className+=" playing";var a=document.createElement("source");a.src=e.getAttribute("data-src"),a.type="video/mp4",e.getElementsByTagName("video")[0].setAttribute("src",e.getAttribute("data-src")),e.getElementsByTagName("video")[0].appendChild(a),e.getElementsByTagName("video")[0].play(),e.hasAttribute("data-threadid")&&(listThreadId.push(e.getAttribute("data-threadid")),e.removeAttribute("data-threadid"),updateView())}}function showMe(e){for(var t=document.getElementsByName("timeout"),a="none",s=0,o=0;o<t.length;o++)if(t[o].checked){a="block",s=1;break}$("input[name=timeout]").val(s),document.getElementById(e).style.display=a}function changeValueCreatedPoll(e){var t=$("input[name=created_poll]").val();$("input[name=created_poll]").val(1-t)}function checkcreatedPoll(){1==$("input[name=created_poll]").val()&&$(".sceditor-button-polling").addClass("active createdPoll")}$(document).ready(function(){0<$("#createContentContainer").length&&(getKgptCredit(),getTemplate("gpt_onboarding").appendTo("body"),setTimeout(function(){gptResizeObserver.observe(document.body)},1e3),$(document).on("paste keyup","#gptInputTitle, #gptInputContent, .feedback_input",function(e){var e=$(this).val().trim()||e.originalEvent?.clipboardData?.getData("text"),t=$(this).closest("form").find("button[type=submit]");$(this).hasClass("feedback_input")?e?(t.attr("disabled",!1),t.addClass("Bgc(general)").removeClass("Bgc(c-grey)")):(t.attr("disabled",!0),t.removeClass("Bgc(general)").addClass("Bgc(c-grey)")):e?(t.attr("disabled",!1),t.addClass("C(c-blue)")):(t.attr("disabled",!0),t.removeClass("C(c-blue)"))}),$(document).on("click","input.title_radio",function(){var e=$(this).data("rid");$("#use_result_"+e).removeClass("Bgc(c-grey)").addClass("Bgc(general)")}))});{function create_spoiler(t){swal("Masukkan Judul Spoiler:",{content:"input"}).then(e=>{null!==e&&($(".sceditor-button-source").hasClass("active")||(e=e.replace(/"/g,"&quot;")||"spoiler"),t.insert("[spoiler="+e+"]","[/spoiler]"))})}function toggleSmilies(){1==$(".jsExtraForm:visible").length&&0==$(".jsSmiliesEditor:visible").length&&($(".jsExtraForm").hide(),$(".sceditor-button-polling.active, .sceditor-button-media.active, .sceditor-button-smilies.active").removeClass("active")),0==$(".jsSmiliesEditor:visible").length?($(".jsSmiliesEditor").show(),$(".sceditor-button-smilies").addClass("active")):($(".jsSmiliesEditor").hide(),$(".sceditor-button-smilies").removeClass("active")),$(".jsMentionContainer").remove(),$(".sceditor-button-mention").removeClass("active")}function togglePolling(){var e;0==$(".jsPollingForm:visible").length?($(".jsPollingForm").slideDown(),$(".sceditor-button-polling").addClass("active createdPoll"),e=$(".jsExtraFormContainer").offset().top):swal({text:"Poll akan dihapus. Yakin?",icon:"warning",buttons:["Batal","Hapus"],dangerMode:!0}).then(e=>{e&&($(".jsPollingForm").slideUp(),$(".sceditor-button-polling").removeClass("active createdPoll"),e=$("#jsToolbarSCEditor").offset().top,$("html, body").animate({scrollTop:e},400))}),$("html, body").animate({scrollTop:e},400)}function insertLink(s){var e=s.toBBCode(s.getRangeHelper().selectedHtml().toString()),e=$.parseHTML('<div class="Ta(s)">        <div class="Fz(16px) Mb(10px)">URL:</div>        <input class="swal-content__input" id="jsLinkInputUrl" placeholder="http://">        <div class="Fz(16px) My(10px)">Text to display:</div>        <input value="'+e+'" class="swal-content__input" id="jsLinkMediaInputText" placeholder="Link Url">      </div>');swal({content:e[0],buttons:{confirm:{value:""}}}).then(e=>{var t=$("#jsLinkInputUrl").val(),a=$("#jsLinkMediaInputText").val();s.insert("[url="+t+"]"+a+"[/url]")})}function toggleMention(e){$(".jsExtraForm").hide(),$(".sceditor-button-polling.active, .sceditor-button-media.active, .sceditor-button-smilies.active").removeClass("active"),0==$(".jsMentionContainer").length?($(mentionToolbar).appendTo("#jsToolbarSCEditor"),$(".sceditor-button-mention").addClass("active"),$(".jsMentionContainer input").focus()):($(".jsMentionContainer").remove(),$(".sceditor-button-mention").removeClass("active"))}function getYoutubeId(e){e=e.match(/(^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?|^)([^#\&\?]*).*/);return!(!e||11!==e[8].length)&&e[8]}function getInstagramCode(e){e=e.match(/((?:(?:(?:(?:https?)(?::\/\/))?(?:www\.?)?)?)(?:instagram\.com|instagr\.am)\/?([a-zA-Z0-9_.]{1,30})?\/p\/([A-Za-z0-9_\-]+)\/?)/);return!!e&&e[3]}function getVimeoId(e){e=e.match(/(vimeo\.com\/|^)(\d+)/);return!!e&&e[2]}function getKaskusVideoId(e){e=e.match(/[0-9a-f]{24}/);return!!e&&e[1]}function getTwitchId(e){var t,e=new RegExp(/(?:https?:\/\/)?(?:(.*?)(?:\.)?)twitch\.tv\/((?:(videos)\/)|\?.*(?:(?:(clip|channel)=)|(?:(video)=v?))|(?:(?:embed\?.*?clip=)))?(.*?)(\]|\[|&|$)/g).exec(e);return null!==e&&((t=[]).id=e[6],"clips"==e[1]?t.type="twitch_clip":e[3]&&e[6]?t.type="twitch_video":t.type="twitch_channel",t)}function getFbvideoId(e){var t,e=new RegExp(/http(?:s?):\/\/(?:www\.|web\.|m\.)?facebook\.com\/([A-z0-9\.]+)\/videos(?:\/[0-9A-z].+)?\/(\d+)(?:.+)?$/g).exec(e);return null!==e&&((t=[]).user=e[1],t.id=e[2],t)}function getSoundCloudId(e){e=e.match(/(tracks\/|^)(\d+)/);return!!e&&e[2]}function getDailymotionId(e){e=e.match(/(?:(?:(?:dailymotion\.com(?:\/video|\/hub)|dai\.ly))\/([0-9a-z]+)(?:[\-_0-9a-zA-Z]+#video=(?:[a-z0-9]+))?|(^[0-9a-z]+$))/i);return!!e&&(e[1]||e[2])}function getSmuleId(e){e=e.match(/(\d+_\d+)/i);return!!e&&e[1]}function toggleMedia(){1==$(".jsExtraForm:visible").length&&0==$(".jsEmbedMediaForm:visible").length&&($(".jsExtraForm").hide(),$(".sceditor-button-polling.active, .sceditor-button-media.active, .sceditor-button-smilies.active").removeClass("active")),0==$(".jsEmbedMediaForm:visible").length?($(".jsEmbedMediaForm").show(),$(".sceditor-button-media").addClass("active")):($(".jsEmbedMediaForm").hide(),$(".sceditor-button-media").removeClass("active")),$(".jsMentionContainer").remove(),$(".sceditor-button-mention").removeClass("active")}function inserEmbedMedia(e,t){var a;getYoutubeId(t)?(a=getYoutubeId(t),e.insert("[youtube]"+a+"[/youtube]")):getFbvideoId(t)?(a=getFbvideoId(t),e.insert('[fb_video="'+a.user+'"]'+a.id+"[/fb_video]")):getVimeoId(t)?(a=getVimeoId(t),e.insert("[vimeo]"+a+"[/vimeo]")):getTwitchId(t)?(a=getVimeoId(t),e.insert("[twitch]"+a.id+"[/twitch]")):getSoundCloudId(t)?(a=getSoundCloudId(t),e.insert("[soundcloud]"+a+"[/soundcloud]")):getDailymotionId(t)?(a=getDailymotionId(t),e.insert("[dailymotion]"+a+"[/dailymotion]")):getKaskusVideoId(t)?(a=getKaskusVideoId(t),e.insert("[kaskus_video]"+a+"[/kaskus_video]")):swal("Tidaaaak!","Link URL yang Agan Masukkan Salah!","error")}function push_validate(){sceditorInstance.readOnly(!0),$.ajax({type:"POST",url:"/misc/preview_post_ajax/1",dataType:"json",data:{title:$("#form-title").val(),forum_id:$("#forum_id").val(),icon_id:parseInt($("input[name=iconid]:checked").val()),message:sceditorInstance.val(),parseurl:1},success:function(e){e=e.message.replace(/( <br \/>\n|<br \/>\n<br \/>\n)/g,"<div></div>");e=(e=e.replace(/class="mls-img" (?:src=".*?" )?data-src="(.*?)"/g,'src="$1"')).replace(/class="spoiler"/g,'class="spoiler open"'),sceditorInstance.setWysiwygEditorValue(e+="<div><br></div>"),sceditorInstance.readOnly(!1),setTimeout(function(){sceditorInstance.expandToContent()},100)},error:function(e){swal("Gagal ngecek, Gan!","Silakan dicoba kembali!","error"),sceditorInstance.readOnly(!1)}})}function countChars(){var e=sceditor.instance(textareaSCeditor).val().length;$(".jsCharacterCounter").text(2e4-e),2e4<e?($(".jsCharacterCounter").addClass("C(c-red)"),$(".jsCharacterCounter").removeClass("C(c-grey)")):($(".jsCharacterCounter").addClass("C(c-grey)"),$(".jsCharacterCounter").removeClass("C(c-red)"))}null!=document.getElementById("jsToolbarSCEditor")&&(sceditor.formats.bbcode.remove("ol"),sceditor.formats.bbcode.remove("li"),sceditor.formats.bbcode.remove("ul"),spoilerTemplate='<div class="spoiler sceditor-ignore"><span class="spoiler-head sceditor-ignore"><span class="spoiler-label">Spoiler</span>&nbsp;for <span class="spoiler-title">%title%</span>: <input type="button" value="Hide" class="spoiler-btn open" onclick="this.parentElement.parentElement.nextSibling.classList.toggle(\'open\');this.parentElement.parentElement.nextSibling.nextSibling.classList.toggle(\'open\');this.value=this.value==\'Hide\'?\'Show\':\'Hide\'"></span></div><div class="spoiler-mid sceditor-ignore"></div><div class="spoiler-content expandable open" data-title="%title%">%content%</div>',sceditor.formats.bbcode.set("spoiler",{tags:{div:{class:["spoiler-content expandable open","spoiler-content expandable"]}},allowsEmpty:!0,format:function(e,t){return"[spoiler="+($(e).data("title")||"spoiler")+"]"+t+"[/spoiler]"},html:function(e,t,a){t=t.defaultattr.replace(/"/g,"&quot;");return spoilerTemplate.replace(/%title%/g,t).replace(/%content%/g,a)},isInline:!1,quoteType:sceditor.BBCodeParser.QuoteType.never}),sceditor.command.set("spoiler",{exec:function(){create_spoiler(this)},txtExec:function(){create_spoiler(this)},tooltip:"Masukkan Spoiler"}),sceditor.formats.bbcode.set("img",{allowsEmpty:!0,tags:{img:{src:null},video:{class:["c-giphy__preview"]}},allowedChildren:["#"],quoteType:sceditor.BBCodeParser.QuoteType.never,format:function(e,t){return $(e).attr("data-sceditor-emoticon")?t:"[img]"+(t=(e=(t=$(e).attr("src")?$(e).attr("src"):$(e).attr("data-src")).split(new RegExp("(.+giphy.com.+)/.+.mp4$")))[1]?e[1]+"/giphy.gif":t)+"[/img]"},html:function(e,t,a){var s=a.split(new RegExp("(.+giphy.com.+)/.+.gif$"));return s[1]?(a=s[1]+"/giphy-downsized-small.mp4",'<video class="c-giphy__preview" autoplay loop data-src="'+sceditor.escapeUriScheme(a)+'"> <source src="'+sceditor.escapeUriScheme(a)+'" type="video/mp4"> </video>'):'<img style="max-width:100%" src="'+sceditor.escapeUriScheme(a)+'" />'}}),quoteTemplate='<div class="sceditor-ignore quote-mark">Quote:</div>  <div class="quote expandable" data-by="%quotedBy%" data-postid="%quotedPostId%">%cite%%content%</blockquote></div>',sceditor.formats.bbcode.set("quote",{tags:{div:{class:["quote expandable"]}},allowsEmpty:!0,format:function(e,t){var a=$(e).data("by"),e=$(e).data("postid");return"[quote"+(""!==a&&""!==e?"="+a+";"+e:"")+"]"+t+"[/quote]"},html:function(e,t,a){var s="",o="",i="";return t.defaultattr&&(o=(t=t.defaultattr.split(";"))[0])&&(s='<cite class="sceditor-ignore">Original Posted By <b>'+o+"</b> ",s+='<a href="/post/'+(i=t[1]||"")+"#post"+i+'"></a></cite>'),quoteTemplate.replace(/%quotedBy%/g,o).replace(/%quotedPostId%/g,i).replace(/%cite%/g,s).replace(/%content%/g,a)},isInline:!1,quoteType:sceditor.BBCodeParser.QuoteType.auto}),sceditor.command.set("quote",{exec:function(){this.insert("[quote]","[/quote]")},txtExec:function(){this.insert("[quote]","[/quote]")},tooltip:"Masukkan Quote"}),sceditor.command.set("smilies",{exec:function(){toggleSmilies()},txtExec:function(){toggleSmilies()},tooltip:"Masukkan Smilies"}),sceditor.command.set("polling",{exec:function(){togglePolling()},txtExec:function(){togglePolling()},tooltip:"Buat Poll"}),sceditor.command.set("link",{exec:function(){insertLink(this)},txtExec:function(){insertLink(this)},tooltip:"Masukkan Link"}),$(document).on("click",".jsDivCounter",function(){sceditorInstance.focus();var e,t=sceditorInstance.getRangeHelper(),a=t.cloneSelected();"selectNodeContents"in a&&(e=sceditorInstance.getBody().children,a.selectNodeContents(e[e.length-1]),a.collapse(!1),t.selectRange(a))}),$(document).on("click",".jsEmbedMediaButton",function(){var e=$.parseHTML('<div>      <input class="swal-content__input" id="jsEmbedMediaInputUrl" placeholder="Link Url">    </div>    <div class="Ta(c)">      <div class="My(15px)">Supported Media</div>      <div>        <i title="Youtube" class="fab fa-youtube"></i>        <i title="Vimeo" class="fab fa-vimeo-square"></i>        <i title="Soundcloud" class="fab fa-soundcloud"></i>        <i title="Twitch" class="fab fa-twitch"></i>        <i title="Facebook Video" class="icon icon-facebook-video"></i>        <i title="Dailymotion" class="icon icon-daily-motion"></i>        <i title="Smule" class="icon icon-smule"></i>      </div>    </div>');swal({text:"Masukkan URL Embed:",content:e[0],buttons:{confirm:{value:""}}}).then(e=>{var t=document.getElementById("jsEmbedMediaInputUrl").value;inserEmbedMedia(sceditor.instance(textareaSCeditor),t)})}),sceditor.command.set("mention",{exec:function(){toggleMention(this)},txtExec:function(){toggleMention(this)},tooltip:"Buat Mention"}),mentionToolbar='<div style="right: -65px;bottom: 43px;" class="jsMentionSCEditor jsMentionContainer W(205px) Pos(a) Z(1) B(25px) ">    <div class="W(15px) H(15px) Bgr(nr) Bgz(ct) Bgp(c) Bgi(bgTriangleGrey) Pos(a) Start(8px) B(-11px) Rotate(180deg)"></div>    <div class="Bd(borderSolidLightGrey) Bxsh(boxShadow)">      <div class="D(f) Pos(r) Bdb(borderSolidLightGrey)">        <input type="text" class="W(100%) autocomplete-mention Bd(none) Fz(14px) C(c-normal) Py(15px) Pstart(35px) Pend(15px)" placeholder="Cari username"/>        <i class="Pos(a) T(17px) Start(15px) fas fa-search C(c-grey)"></i>      </div>      <ul class="Bgc(c-white) mentionList">      </ul>    </div>  </div>',$(document).on("click",function(e){$(e.target).closest(".sceditor-button-mention, .jsMentionSCEditor ").length||$(".jsMentionSCEditor").length&&($(".jsMentionSCEditor").remove(),$(".sceditor-button-mention").removeClass("active"))}),mentionTemplate='<a class="mention" href="'+KASKUS_URL+'/@{username}">@{username}</a>',sceditor.formats.bbcode.set("mention",{tags:{a:{class:["mention"]}},allowsEmpty:!0,format:function(e,t){return"[mention]"+String($(e).attr("href")).split("@")[1]+"[/mention]"},html:function(e,t,a){return mentionTemplate.replace(/\{username\}/gi,a)},quoteType:sceditor.BBCodeParser.QuoteType.auto}),sceditor.command.set("gpt",{exec:function(){toggleGptMenu()},txtExec:function(){toggleGptMenu()},tooltip:"Kaskus-GPT"}),youtubeTemplate='<div class="sceditor-ignore youtube-player" onclick="this.nextElementSibling.style.display=\'block\'; this.style.display=\'none\';  this.nextElementSibling.src =\'https://www.youtube.com/embed/{id}?autoplay=1\'">  <div class="sceditor-ignore"><div class="icon" style="background-image:url(https://img.youtube.com/vi/{id}/0.jpg);padding-bottom:56.25%; width:100%; height: 0; background-size: cover; background-position:center; max-width: 100%"></div>  </div></div>  <iframe data-id="{id}" class="youtube-iframe" style="display:none" type="text/html" width="100%" height="350" frameborder="0"></iframe>',sceditor.formats.bbcode.set("youtube",{tags:{iframe:{class:["youtube-iframe"]}},allowsEmpty:!1,breakAfter:!0,format:function(e,t){return"[youtube]"+$(e).data("id")+"[/youtube]"},html:function(e,t,a){return(youtubeId=getYoutubeId(a))?youtubeTemplate.replace(/\{id\}/gi,youtubeId):""},quoteType:sceditor.BBCodeParser.QuoteType.auto}),twitterTemplate='<div class="sceditor-ignore" style="margin:0 auto;">\t\t\t\t\t\t\t<div style="position: relative;margin-top: 15px;margin-bottom: 15px;text-align: center">\t\t\t\t\t\t\t\t<img style="width: 480px" src="'+assetsFolderNew+'/images/image-placeholder-twitter.gif">\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="embed_twitter"  data-url="https://twitter.com/{user}/status/{id}"></div> ',sceditor.formats.bbcode.set("twitter",{tags:{div:{class:["embed_twitter"]}},allowsEmpty:!0,format:function(e,t){e=new RegExp(/(?:http(?:s)?:\/\/)?(?:www\.)?twitter\.com\/(?:#!\/)?(\w+)\/status(es)?\/(\d+)/).exec($(e).data("url"));return null!==e?'[twitter="'+e[1]+'"]'+e[3]+"[/twitter]":""},html:function(e,t,a){return twitterTemplate.replace(/\{id\}/gi,a).replace(/\{user\}/gi,t.defaultattr)},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto}),tiktokTemplate='<div class="sceditor-ignore" style="margin:0 auto;">  <div style="position: relative;margin-top: 15px;margin-bottom: 15px;text-align: center"><img style="width: 480px" src="'+assetsFolderNew+'/images/image-placeholder-tiktok.png"></div></div><div class="embed_tiktok" data-url="https://tiktok.com/@{username}/video/{id}"></div> ',sceditor.formats.bbcode.set("tiktok",{tags:{div:{class:["embed_tiktok"]}},allowsEmpty:!0,format:function(e,t){e=new RegExp(/(?:http(?:s)?:\/\/)?(?:www\.)?tiktok\.com\/@(\w.+)\/video\/(\d+)/).exec($(e).data("url"));return null!==e?'[tiktok="'+e[1]+'"]'+e[2]+"[/tiktok]":""},html:function(e,t,a){return tiktokTemplate.replace(/\{id\}/gi,a).replace(/\{username\}/gi,t.defaultattr)},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto}),instagramTemplate='<div class="sceditor-ignore wrapperEmbedIg" style="position:relative; margin:15px auto; max-width:480px; text-align:center;"><img style="width:480px;" src="'+assetsFolderNew+'/images/image-placeholder-ig.gif"><div style="position:absolute; top:72px; left:0; width:100%; height:100%; z-index:5;"></div></div><div class="embed_instagram" data-url="{url}" data-code="{code}"></div> ',sceditor.formats.bbcode.set("instagram",{tags:{div:{class:["embed_instagram"]}},allowsEmpty:!0,format:function(e,t){return"[instagram]"+$(e).data("url")+"[/instagram]"},html:function(e,t,a){return(instagramCode=getInstagramCode(a))?instagramTemplate.replace(/\{url\}/gi,a).replace(/\{code\}/gi,instagramCode):""},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto}),vimeoTemplate='<iframe class="vimeo-player" data-id="{id}" src="https://player.vimeo.com/video/{id}?title=0&byline=0&portrait=0"   width="520" height="300" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>',sceditor.formats.bbcode.set("vimeo",{tags:{iframe:{class:["vimeo-player"]}},allowsEmpty:!0,format:function(e,t){return"[vimeo]"+$(e).data("id")+"[/vimeo]"},html:function(e,t,a){return(vimeoId=getVimeoId(a))?vimeoTemplate.replace(/\{id\}/gi,vimeoId):""},quoteType:sceditor.BBCodeParser.QuoteType.auto}),sceditor.formats.bbcode.set("kaskus_video",{tags:{iframe:{class:["kaskus_video"]},div:{class:["kaskus_video"]}},allowsEmpty:!0,format:function(e,t){return"[kaskus_video]"+$(e).data("id")+"[/kaskus_video]"},html:function(e,t,a){a=a.match(/[0-9a-z]{1,}/)[0];return 5==a.length?'<iframe class="kaskus_video" data-id="'+a+'" style="display: block;" width="95%" height="350" frameborder="0" src="'+KASKUSTV_URL+"/api/embed/video/"+a+'"></iframe>':'<iframe class="kaskus_video" data-id="'+a+'" style="display: block;" width="95%" height="350" frameborder="0" src="'+KASKUS_URL+"/embed/"+a+'"></iframe>'},quoteType:sceditor.BBCodeParser.QuoteType.auto}),sceditor.formats.bbcode.set("video",{tags:{a:{class:["toggle-play"]}},allowsEmpty:!0,format:function(e,t){return"[video]"+$(e).find("source").attr("src")+"[/video]"},html:function(e,t,a){return'  \t\t\t<a class="toggle-play" href="'+a+'" data-src="'+a+'" onclick="clickVideo(this);return false;">  \t\t\t\t'+('<video preload="auto" poster="'+a+'.png" loop="" muted="" title="" width="100%"><source src="'+a+'" type="video/mp4"></video>')+'  \t\t\t\t<span>  \t\t\t\t\t<span class="empty-space"></span>  \t\t\t\t\t<span class="gif-space">GIF</span>  \t\t\t\t</span>  \t\t\t</a>'},quoteType:sceditor.BBCodeParser.QuoteType.auto}),twitchTemplate='<div class="sceditor-ignore twitch-player" onclick="this.nextElementSibling.style.display=\'block\'; this.style.display=\'none\';this.nextElementSibling.src =\'/embed/video/{type}/{id}\'" style="max-width: 100%;margin: 0 auto;display:inline-block;">  <div class="sceditor-ignore" style="position:relative;cursor:pointer;display:inline-block; overflow: hidden;">  <img src="/embed/thumbnail_video_third_party/{type}/{id}" style="max-width: 100%" alt="{thread_title}" />  <i></i></div></div>  <iframe data-type="{type}" data-id="{id}"  class="twitch-iframe" style="display:none" type="text/html" width="100%" height="350" frameborder="0"></iframe>',sceditor.formats.bbcode.set("twitch",{tags:{iframe:{class:["twitch-iframe"]}},allowsEmpty:!0,format:function(e,t){return'[twitch="'+$(e).data("type")+'"]'+$(e).data("id")+"[/twitch]"},html:function(e,t,a){return twitchTemplate.replace(/\{id\}/gi,a).replace(/\{type\}/gi,t.defaultattr)},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto}),fbvideoTemplate='<iframe id="fb-video" data-user="{user}" data-id="{id}" src="https://www.kaskus.co.id/embed/facebook/{user}/{id}" class="fb_video{id}" frameborder="0" allowfullscreen height="450px" width="100%" scrolling="no" onload="function resizeIframeFBBody(e){try{var t=JSON.parse(e.data); if( \'fb_video\' == t.type ){var vel = document.getElementsByClassName(\'fb_video\'+t.id); for(var v = 0; v < vel.length; v ++){if(vel[v].className.indexOf(\'resized\') > -1) continue; vel[v].className += \' resized\';vel[v].setAttribute(\'height\', t.height); if(t.width !== undefined){ vel[v].setAttribute(\'width\', t.width); };};};}catch(e){}}window.addEventListener(\'message\',resizeIframeFBBody,!1);"></iframe>',sceditor.formats.bbcode.set("fb_video",{tags:{iframe:{id:["fb-video"]}},allowsEmpty:!0,format:function(e,t){return'[fb_video="'+$(e).data("user")+'"]'+$(e).data("id")+"[/fb_video]"},html:function(e,t,a){return fbvideoTemplate.replace(/\{id\}/gi,a).replace(/\{user\}/gi,t.defaultattr)},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto}),soundcloudTemplate='<iframe class="soundcloud-player" data-id="{id}" width="100%" height="166" scrolling="no" frameborder="no"   src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/{id}&color=1484ce&auto_play=false"></iframe>',sceditor.formats.bbcode.set("soundcloud",{tags:{iframe:{class:["soundcloud-player"]}},allowsEmpty:!0,format:function(e,t){return"[soundcloud]"+$(e).data("id")+"[/soundcloud]"},html:function(e,t,a){return(soundcloudId=getSoundCloudId(a))?soundcloudTemplate.replace(/\{id\}/gi,soundcloudId):""},quoteType:sceditor.BBCodeParser.QuoteType.auto}),dailymotionTemplate='<div class="dailymotion-wrapper sceditor-ignore" onclick="this.nextElementSibling.style.display=\'block\';  this.style.display=\'none\';this.nextElementSibling.src =\'//www.dailymotion.com/embed/video/{id}?autoplay=1\'"><div>  <img src="https://www.dailymotion.com/thumbnail/video/{id}" alt="{thread_title}" /><i></i></div></div>  <iframe class="dailymotion-iframe" style="display:none" data-id="{id}" type="text/html" width="100%" height="350" frameborder="0"></iframe>',sceditor.formats.bbcode.set("dailymotion",{tags:{iframe:{class:["dailymotion-iframe"]}},allowsEmpty:!0,format:function(e,t){return"[dailymotion]"+$(e).data("id")+"[/dailymotion]"},html:function(e,t,a){return(dailymotionId=getDailymotionId(a))?dailymotionTemplate.replace(/\{id\}/gi,dailymotionId):""},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto}),smuleTemplate='<iframe class="smule-player" data-id="{id}" frameborder="0" width="100%" height="125"   src="https://www.smule.com/recording/preview/{id}/frame" scrolling="no"></iframe>',sceditor.formats.bbcode.set("smule",{tags:{iframe:{class:["smule-player"]}},allowsEmpty:!0,format:function(e,t){return"[smule]"+$(e).data("id")+"[/smule]"},html:function(e,t,a){return(smuleId=getSmuleId(a))?smuleTemplate.replace(/\{id\}/gi,smuleId):""},quoteType:sceditor.BBCodeParser.QuoteType.auto}),kaskusTvVodTemplate='<div class="sceditor-ignore" onclick="this.nextSibling.style.display=\'block\'; this.style.display=\'none\';this.nextSibling.src =\'//tv.kaskus.co.id/api/embed/live/{id}?autoplay&player_medium=kaskus-thread\'" style="max-width: 100%;margin: 0 auto;display:inline-block;">  <div style="position:relative;cursor:pointer;display:inline-block">  <img src="//tv.kaskus.co.id/api/video/{id}/thumbnail" width="700" height="350" style="max-width:100%" alt="{thread_title}" />  <i style="background: url(//s.kaskus.id/img/icon/player-yt-icon.png) center center no-repeat;height: 41px;left: 50%;margin: -20px 0 0 -30px;position:absolute;top: 50%;width: 60px;-moz-border-radius: 5px;opacity: 0.8;"></i>  </div>  </div><iframe data-id="{id}" class="kaskustv-vod-iframe" style="display:none" type="text/html" width="100%" height="350" frameborder="0"/></iframe>',sceditor.formats.bbcode.set("kaskustv",{tags:{iframe:{class:["kaskustv-vod-iframe"]}},allowsEmpty:!1,breakAfter:!0,format:function(e,t){return"[kaskustv]"+$(e).data("id")+"[/kaskustv]"},html:function(e,t,a){return kaskusTvVodTemplate.replace(/\{id\}/gi,a)},quoteType:sceditor.BBCodeParser.QuoteType.auto}),KaskusTvLivetemplate='<div class="sceditor-ignore" onclick="this.nextSibling.style.display=\'block\'; this.style.display=\'none\';this.nextSibling.src =\'//tv.kaskus.co.id/api/embed/live/{id}?autoplay&player_medium=kaskus-thread\'" style="max-width: 100%;margin: 0 auto;display:inline-block;">  <div style="position:relative;cursor:pointer;display:inline-block">  <img src="//tv.kaskus.co.id/api/live/{id}/thumbnail" width="700" height="350" style="max-width:100%" alt="{thread_title}" />  <i style="background: url(//s.kaskus.id/img/icon/player-yt-icon.png) center center no-repeat;height: 41px;left: 50%;margin: -20px 0 0 -30px;position:absolute;top: 50%;width: 60px;-moz-border-radius: 5px;opacity: 0.8;"></i>  </div>  </div><iframe  data-id="{id}" class="kaskustv-live-iframe" style="display:none" type="text/html" width="100%" height="350" frameborder="0"/></iframe>',sceditor.formats.bbcode.set("kaskustv_live",{tags:{iframe:{class:["kaskustv-live-iframe"]}},allowsEmpty:!1,breakAfter:!0,format:function(e,t){return"[kaskustv_live]"+$(e).data("id")+"[/kaskustv_live]"},html:function(e,t,a){return KaskusTvLivetemplate.replace(/\{id\}/gi,a)},quoteType:sceditor.BBCodeParser.QuoteType.auto}),KaskusLiveTemplate='<iframe src="//live.kaskus.co.id/thread/info/{id}" data-id="{id}" class="livethread_iframe" width="100%" height="350px" frameborder="0"></iframe>',sceditor.formats.bbcode.set("kaskus_live",{tags:{iframe:{class:["livethread_iframe"]}},allowsEmpty:!1,breakAfter:!0,format:function(e,t){return"[livethread]"+$(e).data("id")+"[/livethread]"},html:function(e,t,a){return KaskusLiveTemplate.replace(/\{id\}/gi,a)},quoteType:sceditor.BBCodeParser.QuoteType.auto}),sceditor.command.set("media",{exec:function(){toggleMedia()},txtExec:function(){toggleMedia()},tooltip:"Masukkan Media"}),$(document).on("click",".jsButtonValidate",function(e){$(".sceditor-button-validate div").click()}),$(document).on("click",".jsButtonBBCode",function(e){$(".sceditor-button-source div").click(),""!=sceditorInstance.val()&&$(sceditorInstance.getBody()).removeClass("placeholder"),$(".sceditor-button-source").hasClass("active")?$(".jsButtonBBCode").addClass("is-active"):$(".jsButtonBBCode").removeClass("is-active"),$(".sceditor-button-validate").hasClass("disabled")?($(".jsButtonValidate").addClass("is-disabled"),$(".jsButtonValidate").prop("disabled",!0)):($(".jsButtonValidate").removeClass("is-disabled"),$(".jsButtonValidate").prop("disabled",!1));var e=$(e.currentTarget),t=$(".sceditor-container textarea");e.hasClass("active")?(t.css({"padding-top":"20px","padding-left":"10px"}),t.width(t.parent("div").width()-10),setTimeout(function(){t.css("height","1px"),t.css("height",t.prop("scrollHeight")+"px")},100)):(t.css({padding:"0px"}),""!==(e=sceditorInstance.val().trimRight())&&sceditorInstance.val(e+"\n"),push_validate(),setTimeout(function(){sceditorInstance.expandToContent()},1e3))}),sceditor.command.set("validate",{exec:function(){push_validate()},tooltip:"Validasi"}),pic=new Image,pic2=new Image,pic3=new Image,pic4=new Image,pic5=new Image,pic6=new Image,pic7=new Image,pic8=new Image,pic9=new Image,pic10=new Image,pic11=new Image,pic12=new Image,pic13=new Image,pic.src=assetsImageLocation+"ic-editor-bold-blue.svg",pic2.src=assetsImageLocation+"ic-editor-italic-blue.svg",pic3.src=assetsImageLocation+"ic-editor-underline-blue.svg",pic4.src=assetsImageLocation+"ic-editor-align-left-blue.svg",pic5.src=assetsImageLocation+"ic-editor-align-center-blue.svg",pic6.src=assetsImageLocation+"ic-editor-align-right-blue.svg",pic7.src=assetsImageLocation+"ic-editor-link-blue.svg",pic8.src=assetsImageLocation+"ic-editor-spoiler-blue.svg",pic9.src=assetsImageLocation+"ic-editor-quote-blue.svg",pic10.src=assetsImageLocation+"ic-editor-smilies-blue.svg",pic11.src=assetsImageLocation+"ic-editor-poll-blue.svg",pic12.src=assetsImageLocation+"ic-editor-image-blue.svg",pic13.src=assetsImageLocation+"ic-editor-mention-blue.svg",textareaSCeditor=document.querySelector(".jsCreateThreadContentSCEditor"),toolbarSCEditor=document.getElementById("jsToolbarSCEditor"),heightSCEditor=$(window).height()-$(".jsCreateThreadHeader").outerHeight()-$(".jsCreateThreadTitle").outerHeight()-$(".jsToolbarSCEditorAnchor").outerHeight()-$(".jsNavHeader").outerHeight()-90-20-30-20-36-36,$(window).on("resize",function(){var e=$(window).height()-$(".jsCreateThreadHeader").outerHeight()-$(".jsCreateThreadTitle").outerHeight()-$(".jsToolbarSCEditorAnchor").outerHeight()-$(".jsNavHeader").outerHeight()-90-20-30-20-36;sceditorInstance.height(e)}),createThreadEditor=sceditor.create(textareaSCeditor,{style:sceditorStyleLocation,spellcheck:!1,plugins:"bbcode,undo",emoticonsEnabled:!1,format:"bbcode",toolbar:"bold,italic,underline|left,center,right,justify|font,color,size|link,spoiler,quote,source,validate,polling|mention,media,smilies|gpt",toolbarContainer:toolbarSCEditor,resizeMaxHeight:-1,height:heightSCEditor,icons:"custom",autoExpand:!0,resizeEnabled:!1,placeholder:"Mulai Menulis!"}),sceditorInstance=sceditor.instance(textareaSCeditor),$(sceditorInstance.getBody()).addClass("bodyTextArea"),""!=sceditorInstance.val()&&$(sceditorInstance.getBody()).removeClass("placeholder"),$('.sceditor-color-option[data-color="#484848"]').addClass("is-selected"),sceditorInstance.keyPress(function(e){13==e.which&&$(window).scrollTop()+$(window).height()>$(document).height()-$(".jsToolbarSCEditorAnchor").height()&&$("html, body").animate({scrollTop:$(document).height()},100)}),sceditorInstance.bind("paste",function(e){setTimeout(function(){sceditorInstance.insert(" "),sceditorInstance.val().substring(0,sceditorInstance.val().length-1)},10)}),sceditorInstance.keyUp(function(e){countChars(),sceditorInstance.expandToContent(!0)}),$(document).on("click",".jsClosePolling",function(){togglePolling()}),$(document).on("click",".sceditor-button-font, .sceditor-button-color, .sceditor-button-size",function(){$(".sceditor-button-media.active, .sceditor-button-smilies.active").removeClass("active"),$(".jsExtraForm").hide()}))}function submitRating(a){var e;return val=$(".jsRating")[0].__rating,thread_id=0<$("#thread_id").length?$("#thread_id").val():$(this).attr("data-threadid"),user_id=$(".jsRating").attr("data-userid"),post_user_id=$(".jsRating").attr("data-post-userid"),null!=val&&(val<0||5<val?(showBottomToast("Invalid vote",1500),!1):(e=document.vote_submitted?0:2e3,document.vote_tid=setTimeout(function(){$.ajax({url:KASKUS_URL+"/threadrate",type:"post",data:{thread_id:thread_id,vote:val,securitytoken:$("#securitytoken").val()},xhrFields:{withCredentials:!0},dataType:"json"}).done(function(e){var t;$("#securitytoken").val(e.securitytoken),document.vote_submitted=!0,$(".jsRating").attr("rating",a),void 0!==e.rate_failed?("undefined"!=typeof user_id&&0==user_id.length&&intentToSignInMetrics("rating"),showBottomToast(e.rate_failed,1500)):(t=Math.round(e.rate),$(".jsRating").attr({rating:t,tooltipsText:e.rate_title}),dataLayer.push({event:"trackEvent","eventDetails.category":"Star Rating","eventDetails.action":"rate "+val,"eventDetails.label":thread_id,totalRate:"1",userID:user_id,author:post_user_id}),showBottomToast(e.message,1500))})},e),void(document.vote_submitted||showBottomToast("Memuat ...",2e3))))}function dataURLtoFile(e,t){for(var e=e.split(","),a=e[0].match(/:(.*?);/)[1],s=atob(e[1]),o=s.length,i=new Uint8Array(o);o--;)i[o]=s.charCodeAt(o);return new File([i],t,{type:a})}function resetInputAvatarAndCoverValue(){$("#jsUploadAvatar").length&&$("#jsUploadAvatar").val(""),$("#jsUploadCover").length&&$("#jsUploadCover").val("")}function removeAvatar(){$.post("/user/removeprofilepicture/",{userimgrev:$("#userimgrev").val()},function(e){$("#userimgrev").val(e.userimgrev),$("#userimgtime").val(e.userimgtime),$("#jsImageAvatar").attr("src",e.imgurl),$.ajax({url:"/user/update_avatar",type:"post",data:{userimgtime:e.userimgtime,userimgrev:e.userimgrev,imgurl:e.url},success:function(e){e=$.parseJSON(e),$("#jsImageAvatar").attr("src",e.imgurl),$(".jsModal #jsImageAvatar").attr("src",e.imgurl),$(".jsModal #jsPreviewAvatar").attr("src",e.imgurl),$("#loading").html(""),$("#remove_avatar").addClass("D(n)"),closeModal()}})},"json")}function uploadAvatar(){var o,i,r=["jpg","png","jpeg"];o=$("#jsUploadAvatarCropper").croppie({viewport:{width:250,height:250,type:"square"}}),$("#jsUploadAvatar").on("change",function(){var a,s;(a=this).files&&a.files[0]?((s=new FileReader).onload=function(e){var t=a.files[0].name.split(".").pop().toLowerCase();-1<r.indexOf(t)?(openModal("jsModalCropAvatar"),$(".cr-viewport").css("border-radius","50%"),setTimeout(function(){o.croppie("bind",{url:e.target.result})},400)):(i=a.files[0],(t=new FormData).append("userpicture",i),t.append("securitytoken",$(".sctoken").val()),$.ajax({url:"/user/profilepicture",type:"POST",data:t,processData:!1,contentType:!1,dataType:"json",success:function(e,t){$(".sctoken").val(e.securitytoken),"ok"==e.status?$.ajax({url:"/user/update_avatar",type:"post",data:{userimgtime:e.userimgtime,userimgrev:e.userimgrev,imgurl:e.url},success:function(e){$("#remove_avatar").removeClass("D(n)"),$("#jsImageAvatar").attr("src",s.result),$(".jsModal #jsImageAvatar").attr("src",s.result),$(".jsModal #jsPreviewAvatar").attr("src",s.result),$(document).click()}}):($("#jsModalError #error_message").html(e.error),openModal("jsModalError"))}}))},s.readAsDataURL(a.files[0])):($("#jsModalError #error_message").html("Sorry - your browser doesn't support the FileReader API"),openModal("jsModalError"))}),$("#jsButtonCropAvatar").on("click",function(e){o.croppie("result",{type:"base64",size:{width:400,height:400},quality:.8,format:"png"}).then(function(e){$("#jsImageAvatar").attr("src",e),$(".jsModal #jsImageAvatar").attr("src",e),$(".jsModal #jsPreviewAvatar").attr("src",e);var e=dataURLtoFile(e,"myavatar.jpg"),t=new FormData;t.append("userpicture",e),t.append("securitytoken",$(".sctoken").val()),$.ajax({url:"/user/profilepicture",type:"POST",data:t,processData:!1,contentType:!1,dataType:"json",success:function(e,t){$(".sctoken").val(e.securitytoken),"ok"==e.status?$.ajax({url:"/user/update_avatar",type:"post",data:{userimgtime:e.userimgtime,userimgrev:e.userimgrev,imgurl:e.url},success:function(e){$("#remove_avatar").removeClass("D(n)"),closeModal()}}):($("#jsModalError #error_message").html(e.error),openModal("jsModalError"))}})})})}function removeCoverImage(){$.post("/user/removecoverimage/",function(e){$.ajax({url:"/user/removecoverimage",type:"post",data:{imgurl:e.old_cover_image_url,action:"delete"},success:function(e){"ok"==(e="string"!=e?$.parseJSON(e):e).status&&($("#jsImageCover").attr("src",assetsFolderNew+"/images/placeholder-cover-image.png"),$("#remove_cover").addClass("D(n)"),closeModal())}})},"json")}function uploadCover(){var s,o=["jpg","png","jpeg"];$("#jsImageCover").attr("src");s=$("#jsUploadCoverCropper").croppie({viewport:{width:685,height:113,type:"square"}}),$("#jsUploadCover").on("change",function(){var a,e;(a=this).files&&a.files[0]?((e=new FileReader).onload=function(e){var t=a.files[0].name.split(".").pop().toLowerCase();-1<o.indexOf(t)?(openModal("jsModalCropCover"),$(".cr-viewport").css("border-radius",""),setTimeout(function(){s.croppie("bind",{url:e.target.result})},400)):($("#jsModalError #error_message").html("Hanya boleh upload gambar dengan ekstensi <b>.jpg</b>, <b>.png</b>, dan <b>.jpeg</b>"),openModal("jsModalError"))},e.readAsDataURL(a.files[0])):($("#jsModalError #error_message").html("Sorry - your browser doesn't support the FileReader API"),openModal("jsModalError"))}),$("#jsButtonCropCover").on("click",function(e){s.croppie("result",{type:"base64",size:{width:970,height:160},quality:.8,format:"png"}).then(function(e){$("#jsImageCover").attr("src",e),$(".jsModal #jsImageCover").attr("src",e);var e=dataURLtoFile(e,"mycover.jpg"),t=new FormData;t.append("userpicture",e),t.append("securitytoken",$(".sctoken").val()),$.ajax({url:"/user/coverimage",type:"POST",data:t,processData:!1,contentType:!1,dataType:"json",success:function(e){$(".sctoken").val(e.securitytoken),"ok"==e.status?($("#remove_cover").removeClass("D(n)"),closeModal()):($("#jsModalError #error_message").html(e.error),openModal("jsModalError"))}})})})}function modify_notification_list(t){var e,a=parseInt($("#notification_data").attr("data-offset")),s=t.operation;"delete"==s?0<$("#notif_wrapper_page #"+String(t.notificationId)).length&&($("#notif_wrapper_page #"+String(t.notificationId)).remove(),$("#notif_wrapper #"+String(t.notificationId)).remove(),$("#notification_data").attr("data-offset",a-1)):(e="/notification/get_notification/?displayed_state="+t.newState+"&notifId="+t.notificationId,$.get(e,function(e){switch("object"!=typeof e&&(e=$.parseJSON(e)),t=e.notification,s){case"add":$("#notif_wrapper_page .notif_empty").hide(),template=build_notification_card(t),0<$("#notif_wrapper_page #"+String(t._id.$id)).length?$("#notif_wrapper_page #"+String(t._id.$id)).remove():$("#notification_data").attr("data-offset",a+1),$("#notif_wrapper_page .notificationList").prepend(template).fadeIn(300);break;case"update":0<$("#notif_wrapper_page #"+String(t._id.$id)).length&&($("#notif_wrapper_page #"+String(t._id.$id)).remove(),template=build_notification_card(t),$("#notif_wrapper_page .notificationList").prepend(template).fadeIn(300))}}))}function build_notification_card(e){return template=(template=(template=(template=(template=$("#notif_wrapper_page #notificationCardTemplate").html()).replace("Bgc(c-white)","Bgc(c-grayish)")).replace(" data-src="," src=")).replace(/{notifType}/g,e.type)).replace("{notifId}",String(e._id.$id)),read_url="/notification/read/"+String(e._id.$id)+"/?is_pop_up=false",template=template.replace("{clickUrl}",read_url),target_attr="live_thread_selected"===e.type?"_blank":"_self",template=(template=(template=template.replace("{targetAttr}",target_attr)).replace("{postBody}",e.additional_data.post_body)).replace("{lastUpdated}",e.last_updated),template=e.additional_data.post_content?(template=template.replace("{postBodyAlign}","fs")).replace("{postContent}",'<div class="C(c-darker-grey) Fz(13px) Lh(18px) Wob(breakWord) LineClamp(2,35px)">'+e.additional_data.post_content+"</div>"):(template=template.replace("{postBodyAlign}","c")).replace("{postContent}",""),template=e.additional_data.img_src?template.replace("{imageSource}",'<div class="Fx(flexZero) Mstart(10px)"><img class="W(60px) H(60px)" src="'+e.additional_data.img_src+'"></div>'):template.replace("{imageSource}","")}function getDisplayedState(){return $("#notification_data").attr("data-displayed_state")}function getFetchNotifGif(){return fetching_notif='<img src="'+assetsFolderNew+'/images/icon-load-biru.gif" width="40" height="40" alt="notification-loading" />',html='<div id="load_image" class="Ta(c)">'+fetching_notif+"</div>"}function getTypeName(e){switch(type_name="",e){case"all":type_name="All (Default)";break;case"reputation":type_name="Cendol";break;case"quoted_post":type_name="Quote";break;case"thread_replies":type_name="Reply"}return type_name}function hideLoadMoreLink(e,t){"reputation"==$(e+" #type ul li a.Fw\\(700\\)").attr("data-type")&&$(e+" #see_more").addClass("D(n)"),$("#notification_data").attr("data-displayed_state",t);t=parseInt($("#total_notif").attr("value"));$("#notification_data").attr("data-offset")>=t-30&&($(e+" .load_more").hide(),$(e+" #see_more").addClass("D(n)"))}function getNotifications(t,e){$(t+" #notif_counter_wrapper").removeClass("D(n)"),$(t+" .notificationList").html(getFetchNotifGif()),$("#notification_data").attr("data-offset",0),"quoted_post"==e?($(t+" #notif_counter_wrapper").addClass("D(n)"),$(t+" #filterName").text(getTypeName(e)),$(t+" #type a").removeClass("Fw(700)"),$(t+" #type [data-type=quoted_post]").addClass("Fw(700)"),$(t+" #type").removeClass("is-visible"),url="/myforum/myquotedpost/?offset="+$("#notification_data").attr("data-offset"),getNotificationData(t,url)):"reputation"==e?($(t+" #notif_counter_wrapper").addClass("D(n)"),$(t+" #filterName").text(getTypeName(e)),$(t+" #type a").removeClass("Fw(700)"),$(t+" #type [data-type=reputation]").addClass("Fw(700)"),$(t+" #type").removeClass("is-visible"),url="/notification/reputation",getNotificationData(t,url)):($(t+" .load_more").hide(),type_name=getTypeName(e),displayed_state=getDisplayedState(),url="/notification/show/"+e+"/?ispopup=false&type_name="+type_name+"&displayed_state="+displayed_state,$.get(url,function(e){"object"!=typeof e&&(e=$.parseJSON(e)),$("#notif_wrapper_page").html(e.view.replace(" data-src="," src=")),$(t+" .load_more").show(),hideLoadMoreLink(t,e.new_state)}))}function getNotificationData(a,e){$(a+" .notif_empty").hide(),$(a+" #notif_empty_template").addClass("D(n)");var s=$(a+" #type ul li a.Fw\\(700\\)").attr("data-type"),o="";$(a+" #see_more").hasClass("D(n)")||$(a+" #see_more").addClass("D(n)"),$.get(e,function(e){0==(e="object"!=typeof e?$.parseJSON(e):e).notifications.length&&("reputation"==s?$(a+" #notif_empty_template span").text("Agan belum memiliki reputasi nih. Untuk mendapatkan cendol, Agan bisa mulai komen atau buat thread di Kaskus. Jika Kaskuser lain merasa thread Agan menarik, maka Agan bisa mendapatkan cendol atau bata."):"quoted_post"==s&&$(a+" #notif_empty_template span").text("Agan belum memiliki post yang dibalas nih. Coba deh Agan komen atau buat thread dulu."),$(a+" .notif_empty").hide(),$(a+" #notif_empty_template").removeClass("D(n)")),$.each(e.notifications,function(e,t){template=(template=(template=$(a+" #notificationCardTemplate").html()).replace(" data-src="," src=")).replace(/{notifType}/g,t.type),track_url=t.url.indexOf("?")<0?t.url.indexOf("#")<0?t.url+"/?ref=notification&med=single_page_"+s:t.url.replace("#","/?ref=notification&med=single_page_"+s+"#"):t.url.indexOf("#")<0?t.url+"&ref=notification&med=single_page_"+s:t.url.replace("#","&ref=notification&med=single_page_"+s+"#"),template=(template=(template=(template=template.replace("{notifId}","")).replace("{clickUrl}",track_url)).replace("{postBody}",t.additional_data.post_body)).replace("{lastUpdated}",t.last_updated),template=t.additional_data.post_content?(template=template.replace("{postBodyAlign}","fs")).replace("{postContent}",'<div class="C(c-darker-grey) Fz(13px) Lh(18px) Wob(breakWord) LineClamp(2,35px)">'+t.additional_data.post_content+"</div>"):(template=template.replace("{postBodyAlign}","c")).replace("{postContent}",""),template=t.additional_data.img_src?template.replace("{imageSource}",'<div class="Fx(flexZero) Mstart(10px)"><img class="W(60px) H(60px)" src="'+t.additional_data.img_src+'"></div>'):template.replace("{imageSource}",""),o+=template}),$(a+" .notificationList").append(o),$(a+" #load_image").remove(),$("#total_notif").attr("value",e.total_notif),$(a+" #see_more").removeClass("D(n)"),hideLoadMoreLink(a,getDisplayedState())})}function seeMore(){var e,t="#notif_wrapper_page",a=($(t+" .load_more").hide(),$(t+" #see_more").hasClass("D(n)")||"quoted_post"!=a||$(t+" #see_more").addClass("D(n)"),$(t+" #notification_see_more").append(getFetchNotifGif()),$(t+" #type ul li a.Fw\\(700\\)").attr("data-type")),s=parseInt($("#notification_data").attr("data-offset"));$("#notification_data").attr("data-offset",s+30),"quoted_post"==a?($(t+" .notificationList").append(getFetchNotifGif()),e="/myforum/myquotedpost/?offset="+$("#notification_data").attr("data-offset"),getNotificationData(t,e)):"reputation"==a?($(t+" .notificationList").append(getFetchNotifGif()),getNotificationData(t,e="/notification/reputation")):(type_name=getTypeName(a),displayed_state=getDisplayedState(),e="/notification/show/"+a+"/?ispopup=false&type_name="+type_name+"&displayed_state="+displayed_state+"&offset="+$("#notification_data").attr("data-offset"),$.get(e,function(e){"object"!=typeof e&&(e=$.parseJSON(e)),$(t+" #notification_see_more #load_image").remove(),$(t+" #notification_see_more").append(e.view.replace(" data-src="," src=")),"quoted_post"==a&&$(t+" #see_more").removeClass("D(n)"),$(t+" .load_more").show(),hideLoadMoreLink(t,e.new_state)}))}function ignoreDataLayer(e){dataLayer.push({event:"trackEvent","eventDetails.category":"connection","eventDetails.action":e,"eventDetails.label":"profile"})}function add_connection(e,o){closeModal();var i=$("#currentid").val(),r=$("#loginid").val(),n=e.substring(e.lastIndexOf("/")+1);$.post(e,{securitytoken:$("#sctoken").val()},function(e){var t,a,s;$("#sctoken").val(e.securitytoken),1==e.result?(t=parseInt($("#following_info").text().replace(/[,\.]/g,"")),a=parseInt($("#follower_info").text().replace(/[,\.]/g,"")),"Unfollow"==e.connection_type?(i!=r&&n!=i||($("#unfollow_btn").show(),$("#follow_btn").hide(),$("#unfollow_btn_"+$.escapeSelector(o)).show(),$("#follow_btn_"+$.escapeSelector(o)).hide(),$("#unblock_btn_"+$.escapeSelector(o)).hide(),i==r&&(count=t+1,$("#following_info").text(count.toLocaleString())),n==i&&(count=a+1,$("#follower_info").text(count.toLocaleString()))),followCustomMetrics("follow",r,n),showBottomToast("Agan berhasil mengikuti "+o,1500)):"Follow"==e.connection_type?(i!=r&&n!=i||($("#follow_btn").show(),$("#unfollow_btn").hide(),$("#blocked_btn").hide(),$("#unfollow_btn_"+$.escapeSelector(o)).hide(),$("#follow_btn_"+$.escapeSelector(o)).show(),$("#unblock_btn_"+$.escapeSelector(o)).hide(),e.hasOwnProperty("number_of_following")?(i==r&&(count=t-1,$("#following_info").text(count.toLocaleString())),n==i&&(count=a-1,$("#follower_info").text(count.toLocaleString()))):($("#block_btn").show(),$("#unblock_btn").hide())),e.hasOwnProperty("number_of_following")?(followCustomMetrics("unfollow",r,n),showBottomToast("Agan telah berhenti mengikuti "+o,1500)):(ignoreDataLayer("unignore"),showBottomToast("Agan telah menghapus "+o+" dari ignore list",1500))):"Unblock"==e.connection_type&&(i!=r&&n!=i||(s=$("#follow_btn").attr("style"),$("#unblock_btn").show(),$("#block_btn").hide(),$("#follow_btn").hide(),$("#unfollow_btn").hide(),$("#blocked_btn").show(),$("#unblock_btn").attr("data-id","unignore"),s&&void 0!==s&&!1!==s?(i==r&&(count=t-1,$("#following_info").text(count.toLocaleString())),n==i&&(count=a-1,$("#follower_info").text(count.toLocaleString())),followCustomMetrics("ignore",r,n)):ignoreDataLayer("ignore")),showBottomToast("Agan berhasil mengabaikan "+o,1500))):0==e.result&&showBottomToast(e.error_message,1500)},"json")}function followCustomMetrics(e,t,a){dataLayer.push({event:"trackEvent","eventDetails.category":"connection","eventDetails.action":e,"eventDetails.label":"profile",Follow:"follow"===e?1:-1,userID:t,userIDHit:a})}function intentToSignInMetrics(e){obj={event:"trackEvent","eventDetails.category":"Sign In","eventDetails.action":"intent to sign in","eventDetails.label":e},_gaq.push(["_trackEvent",obj["eventDetails.category"],obj["eventDetails.action"],e]),dataLayer.push(obj)}$(document).ready(function(){var a=!1,s="";$(".get_notifications").click(function(){$(".jsNotificationDropdownMenu").hasClass("is-visible")?$(".jsNotificationIcon i").attr("data-id","header-notification"):$(".jsNotificationIcon i").removeAttr("data-id");var t=$("#notification_data").attr("data-displayed_state");(a=s!=t?!1:a)||(fetching_notif='<img src="'+assetsFolderNew+'/images/icon-load-biru.gif" width="40" height="40" alt="notification-loading" />',$("#notif_wrapper").html('<div class="Ta(c)">'+fetching_notif+"</div>"),$.get("/notification/show/all/?ispopup=true&displayed_state="+t,function(e){"object"!=typeof e&&(e=$.parseJSON(e)),$("#notification_see_more"),$("#notif_wrapper").html(e.view),show_request_fcm_popup(),bindRequestFcm(),$(".notif_red").hasClass("D(tb)")&&($(".notif_red").removeClass("D(tb)"),$(".notif_red").addClass("D(n)")),$("#notification_data").attr("data-displayed_state",e.new_state),s=t,a=!0}))}),$(document).on("click",".jsSubmitGAOnClick",function(){try{var t=jQuery.parseJSON($(this).data("ga-json"))}catch(e){t=$(this).data("ga-json")}$.each(t,function(e,t){eventTracking(t.category,t.action,t.label)})}),$(".jsSubmitGASelectedInputOnClick").on("click",function(){var e=$(this).data("ga-category"),t=$(this).data("ga-action"),a=$(this).data("input-class"),s=$('input[name=" + inputName + "]:checked').data("tracking-label");$("."+a).attr("onclick",build_ga_track_event(e,t,s))})}),$("#qr-code-btn").click(function(){$.ajax({url:"/profile/qrcode/"+$(this).data("userid"),success:function(e){e=e.qrcode;e?$("#img-qrcode").attr("src","data:image/png;base64,"+e):($("#img-qrcode").hide(),$("#div-qr-code").html("Failed to generate QR Code"))}})}),$(document).on({mouseenter:function(){$(this).find("span").text($(this).data("hover")),$(this).find("i").toggleClass("fa-user-lock fa-unlock")},mouseleave:function(){$(this).find("span").text($(this).data("default")),$(this).find("i").toggleClass("fa-user-lock fa-unlock")}},".jsButtonBlockedHeader"),$(document).on({mouseenter:function(){$(this).text($(this).data("hover"))},mouseleave:function(){$(this).text($(this).data("default"))}},".jsFollowingButton, .jsBlockedButton");var moderated_page=1,load_more_forum='<li id="forum-loadmore" class="D(f) Ai(c) Mb(15px)"><a data-id="moderator-load-more" onclick="load_more_moderated_forum()" href="javascript:void(0)" class="D(b) W(100%) Bgc(#1998ed):h C(c-white):h Td(n):h D(b) Py(7px) Px(7px) Fw(500) Ta(c) C(#1998ed) Bd(borderSolidBlue) Bdrs(5px) Mb(10px)">Load More</a></li>';function moderate(){moderated_page=1,$("#jsModalModerateList .data-moderate").empty(),$.get("/profile/get_all_forum_moderate/?user_id="+user_id+"&moderate_page="+moderated_page,function(e){"object"!=typeof e&&(e=$.parseJSON(e)),forum_moderate=e.result.list_forum,forum_icon=e.result.forum_icon;var a="";delete forum_moderate.total_post,$.each(forum_moderate,function(e,t){a+='<div class="D(f) Ai(c) Py(10px)"><div class="Fx(flexZero)"><img src="'+forum_icon[e]+'" class="W(50px) H(50px)" /></div><div class="Fx(flexOne) Ta(s) Mstart(20px)"><a class="Fw(500) C(c-normal))" href="'+t.url+'">'+t.name+"</a></div></div>"}),moderated_page=e.result.next_page,page_remaining=e.result.page_remaining,$("#jsModalModerateList .data-moderate").append(a),0<page_remaining&&$("#jsModalModerateList .data-moderate").append(load_more_forum)})}function load_more_moderated_forum(){$.get("/profile/get_all_forum_moderate/?user_id="+user_id+"&moderate_page="+moderated_page,function(e){"object"!=typeof e&&(e=$.parseJSON(e)),forum_moderate=e.result.list_forum,forum_icon=e.result.forum_icon;var a="";delete forum_moderate.total_post,$.each(forum_moderate,function(e,t){a+='<div class="D(f) Ai(c) Py(10px)"><div class="Fx(flexZero)"><img src="'+forum_icon[e]+'" class="W(50px) H(50px)" /></div><div class="Fx(flexOne) Ta(s) Mstart(20px)"><a class="Fw(500) C(c-normal))" href="'+t.url+'">'+t.name+"</a></div></div>"}),moderated_page=e.result.next_page,page_remaining=e.result.page_remaining,$("#jsModalModerateList .data-moderate").append(a),$("#forum-loadmore").remove(),0<page_remaining&&$("#jsModalModerateList .data-moderate").append(load_more_forum)})}var badge_page=1,load_more='<li id="badge-loadmore" class="D(f) Ai(c) Mb(15px)"><a data-id="badge-load-more" onclick="load_more_badge()" href="javascript:void(0)" class="D(b) W(100%) Bgc(#1998ed):h C(c-white):h Td(n):h D(b) Py(7px) Px(7px) Fw(500) Ta(c) C(#1998ed) Bd(borderSolidBlue) Bdrs(5px) Mb(10px)">Lihat Lainnya</a></li>';function badge(){badge_page=1,$("#jsModalBadgeList .data-badge").empty(),$.get("/profile/get_all_badges/?user_id="+user_id+"&badge_page="+badge_page,function(e){"object"!=typeof e&&(e=$.parseJSON(e)),list_badge=e.result.badges;var a="";delete list_badge.total_post,$.each(list_badge,function(e,t){a+='<div class="D(f) Ai(c) Py(10px)"><div class="Fx(flexZero)"><img src="'+badge_url+t.badge_id+'.gif" class="W(50px) H(50px)" /></div><div class="Fx(flexOne) Ta(s) Mstart(20px)"><div class="Fw(500) ">'+t.event+'</div><div class="Mt(5px) Fz(11px) C(c-grey)"></div></div></div>'}),badge_page=e.result.next_page,page_remaining=e.result.page_remaining,$("#jsModalBadgeList .data-badge").append(a),0<page_remaining&&$("#jsModalBadgeList .data-badge").append(load_more)})}function load_more_badge(){$.get("/profile/get_all_badges/?user_id="+user_id+"&badge_page="+badge_page,function(e){"object"!=typeof e&&(e=$.parseJSON(e)),list_badge=e.result.badges;var a="";delete list_badge.total_post,$.each(list_badge,function(e,t){a+='<div class="D(f) Ai(c) Py(10px)"><div class="Fx(flexZero)"><img src="'+badge_url+t.badge_id+'.gif" class="W(50px) H(50px)" /></div><div class="Fx(flexOne) Ta(s) Mstart(20px)"><div class="Fw(500) ">'+t.event+'</div><div class="Mt(5px) Fz(11px) C(c-grey)"></div></div></div>'}),badge_page=e.result.next_page,page_remaining=e.result.page_remaining,$("#jsModalBadgeList .data-badge").append(a),$("#badge-loadmore").remove(),0<page_remaining&&$("#jsModalBadgeList .data-badge").append(load_more)})}var assetsFolderNew=assetsFolderNew||"",loading_img='<div class="W(100%) Ta(c) Mt(50px) Mb(50px)"><img src="'+assetsFolderNew+'/images/icon-load-biru.gif" width="40" height="40" alt="conection-loading" /></div>',tab=$("#tab-act").val(),connection_type="following",userid=$("#current-user").val(),current_page=$("#current-page").val();function get_list_connection(e){$("#loading-area").html(loading_img),$("#pagination").html(""),$.get("/friend/connection/"+e+"/?id="+userid+"&page="+current_page,function(e){$("#loading-area").html(e.html),$("#pagination").html(e.pagination)},"json")}function connection_action(t,a,s){var o=$("#loginid").val(),i=t.substring(t.lastIndexOf("/")+1);$.post(t,{securitytoken:$("#sctoken").val()},function(e){$("#sctoken").val(e.securitytoken),1==e.result?(get_list_connection(s),0<t.search("/follow")?(followCustomMetrics("follow",o,i),showBottomToast("Agan berhasil mengikuti "+a,1500)):0<t.search("/unfollow")?(followCustomMetrics("unfollow",o,i),showBottomToast("Agan telah berhenti mengikuti  "+a,1500)):0<t.search("/unblock")&&(ignoreDataLayer("unignore"),showBottomToast("Agan telah menghapus "+a+" dari ignore list",1500))):showBottomToast(e.error_message,3e3)},"json")}function modal_action(e,t,a){closeModal(),connection_action(e,t,a)}function set_connection_unfol_modal(e,t,a,s,o){$("#jsModalConfirmUnfollow img").attr("src",e),$(".confirm-action").removeAttr("data-id").attr("data-id","button-unfollow"),connection_show_modal_confirm(a,t,s,o)}function set_connection_unblock_modal(e,t,a,s,o){$("#jsModalConfirmUnblock img").attr("src",e),$(".confirm-action").removeAttr("data-id").attr("data-id","button-unignore"),connection_show_modal_confirm(a,t,s,o)}function connection_show_modal_confirm(e,t,a,s){$("#confirm-subtitle, #confirm-message").html(t),$(".confirm-action, .confirm-action-unignore").attr("onclick","modal_action('"+e+"', '"+a+"', '"+s+"')")}function searchConnection(){var e,t;""!=$("#search_connection_keyword").val()?($.ajax().abort(),e=$("#current-user").val(),t=$("#search_connection_keyword").val(),$("#loading-area").html(loading_img),$("#pagination").html(""),$.get("/friend/search_connection/"+tab+"/"+e+"/"+t,function(e){$("#loading-area").html(e.html)},"json")):alert("Silahkan masukkan kata kunci terlebih dahulu.")}var topicDetailThreadLoading=!1,showcaseLoading=!1;function bindThreadShowcaseNext(){0<$("#trigger-showcase").length&&(window.addEventListener("resize",fetch_more_thread_showcase,{passive:!0}),window.addEventListener("scroll",fetch_more_thread_showcase,{passive:!0}),window.addEventListener("touch",fetch_more_thread_showcase,{passive:!0}),window.addEventListener("click",fetch_more_thread_showcase,{passive:!0}))}function removeThreadShowcaseAutoload(){window.removeEventListener("resize",fetch_more_thread_showcase),window.removeEventListener("scroll",fetch_more_thread_showcase),window.removeEventListener("touch",fetch_more_thread_showcase),window.removeEventListener("click",fetch_more_thread_showcase),$("#trigger-showcase").hide()}function fetch_more_thread_showcase(){var o,e,i=$("#trigger-showcase");!showcaseLoading&&isElementInViewport(i)&&(showcaseLoading=!0,o=i.attr("data-offset"),e=i.attr("data-status"),$.ajax({url:KASKUS_URL+"/threadshowcase/load_more_hot_topic_list/"+o+"/?status="+e,type:"GET",xhrFields:{withCredentials:!0},success:function(e){0==(e="object"!=typeof e?$.parseJSON(e):e).error&&0!=e.showcases.length||(showcaseLoading=!1,removeThreadShowcaseAutoload());for(var t=e.showcases,a=$(".showcase-base").first(),s=0;s<t.length;s++)(newElm=a.clone()).attr("href","/topic/"+t[s].url+"/?ref=topiclist&med=topicshowcase"),newElm.attr("onclick",t[s].tracking),$(newElm).find("img").attr("data-src",t[s].media_vertical),$(newElm).find("img").attr("alt",t[s].url),$(newElm).find("img").attr("class","mls-img"),newElm.removeClass("D(n) showcase-base"),newElm.insertBefore(a),$(".mls-img").kslzy(300);e=parseInt(parseInt(o)+t.length);i.attr("data-offset",e),showcaseLoading=!1,dataLayer.push({event:"trackEvent","eventDetails.category":"topic list","eventDetails.action":"load more","eventDetails.label":"topic"})},error:function(){showcaseLoading=!1,removeThreadShowcaseAutoload()}}))}function toggleFAColor(e){let t=-2;var a=e.parents(".vote-wrapper").find(".is-down-vote").hasClass(fa_downvote_color)?-1:0;a=e.parents(".vote-wrapper").find(".is-up-vote").hasClass(fa_upvote_color)?1:a,e.hasClass(fa_novote_color)&&e.removeClass(fa_novote_color),e.hasClass("is-up-vote")?(t=1,e.toggleClass(fa_upvote_color),e.parents(".vote-wrapper").find(".is-down-vote").removeClass(fa_downvote_color),e.hasClass(fa_upvote_color)||(e.addClass(fa_novote_color),t=0)):e.hasClass("is-down-vote")&&(t=-1,e.toggleClass(fa_downvote_color),e.parents(".vote-wrapper").find(".is-up-vote").removeClass(fa_upvote_color),e.hasClass(fa_downvote_color)||(e.addClass(fa_novote_color),t=0)),e.parents(".vote-wrapper").find(".is-down-vote").addClass(function(){return $(this).hasClass(fa_downvote_color)?"":fa_novote_color}),e.parents(".vote-wrapper").find(".is-up-vote").addClass(function(){return $(this).hasClass(fa_upvote_color)?"":fa_novote_color}),ga_custom_track_vote_fa(e,t,a)}function ga_custom_track_vote_fa(e,t,a){var s=e.attr("data-category"),o=e.attr("data-status-vote"),i=e.attr("data-postid"),s={event:"trackEvent","eventDetails.category":s,"eventDetails.label":i,userID:e.attr("data-userid"),userIDHit:e.attr("data-postuserid"),postID:i,threadID:e.attr("data-threadid"),threadTitle:e.attr("data-title"),forumID:e.attr("data-forumid"),forumName:e.attr("data-forum-name")};0!=t?1==t?(s["eventDetails.action"]="cendol",s.totalCendol="1",-1==a&&(s.totalBata="-1")):-1==t&&(s["eventDetails.action"]="bata",s.totalBata="1",1==a&&(s.totalCendol="-1")):1==o?(s["eventDetails.action"]="uncendol",s.totalCendol="-1"):-1==o&&(s["eventDetails.action"]="unbata",s.totalBata="-1"),dataLayer.push(s)}function toggleUpVote(e,t=null){null===t?($(".is-up-vote",e).toggleClass("active"),e.parents(".vote-wrapper").find(".is-down-vote").removeClass("active")):doToggleUpVote(e,t)}function doToggleUpVote(e,t){e.toggleClass("active");var a=e.closest(".vote-wrapper"),s=0,o=a.find(".is-down-vote"),o=(o.hasClass("active")&&(o.removeClass("active"),s=-1),a.find(".vote-value").html(t.upvote-t.downvote),ga_custom_track_vote(e,t,s),a.find(".is-down-vote"));o.hasClass("vote-thread")||o.addClass("vote-thread")}function toggleDownVote(e,t=null){null===t?($(".is-down-vote",e).toggleClass("active"),e.parents(".vote-wrapper").find(".is-up-vote").removeClass("active")):doToggleDownVote(e,t)}function doToggleDownVote(e,t){e.toggleClass("active");var a=e.closest(".vote-wrapper"),s=0,o=a.find(".is-up-vote");o.hasClass("active")&&(o.removeClass("active"),s=1),a.find(".vote-value").html(t.upvote-t.downvote),ga_custom_track_vote(e,t,s),1==t.disable_bata&&e.removeClass("vote-thread")}function ga_custom_track_vote(e,t,a){var s=e.attr("data-category"),o=e.attr("data-status-vote"),i=e.attr("data-postid"),r={event:"trackEvent","eventDetails.category":s,"eventDetails.label":i,userID:e.attr("data-userid"),userIDHit:e.attr("data-postuserid"),postID:i,threadID:e.attr("data-threadid"),threadTitle:e.attr("data-title"),forumID:e.attr("data-forumid"),forumName:e.attr("data-forum-name")};0!=a?(r["eventDetails.action"]=a<0?"cendol":"bata",r.totalCendol=0<a?"-1":"1",r.totalBata=a<0?"-1":"1"):1==o?(a=e.closest(".vote-wrapper").find(".is-up-vote").hasClass("active"),r["eventDetails.action"]=a?"cendol":"uncendol",r.totalCendol=a?"1":"-1"):(o=e.closest(".vote-wrapper").find(".is-down-vote").hasClass("active"),r["eventDetails.action"]=o?"bata":"unbata",r.totalBata=o?"1":"-1"),_gaq.push(["_trackEvent",s,r["eventDetails.action"],i]),dataLayer.push(r)}function landing_connection(t){var e=t.attr("data-url"),a=t.attr("data-creator-id"),s=t.attr("data-user-id"),o=t.attr("data-creator-username"),i=$("#securitytoken").val();$.post(e,{securitytoken:i},function(e){"object"!=typeof e&&(e=$.parseJSON(e)),$("#securitytoken").val(e.securitytoken),1==e.result?"Unfollow"==e.connection_type?(t.attr("data-default",e.label_connection),t.attr("data-hover",e.word),t.attr("data-url",e.url),t.text(e.label_connection),t.addClass("Bdw(1px) Bds(s) C(c-blue) Bgc(c-white) Bgc(c-red):h Bdc(c-red):h Td(n):h C(c-white):h"),t.removeClass("Bgc(c-blue) C(c-white) Bd(borderSolidLightGrey)"),followCustomMetrics("follow",s,a.toString()),showBottomToast(window.KASKUS_lang.success_follow_msg.replace("%s",o),3e3),bindTopKreatorHoverFollowBtn()):"Follow"==e.connection_type&&(t.removeAttr("data-default"),t.removeAttr("data-hover"),t.attr("data-url",e.url),t.text(e.word),e.hasOwnProperty("number_of_following")?(followCustomMetrics("unfollow",s,a.toString()),showBottomToast(window.KASKUS_lang.success_unfollow_msg.replace("%s",o),3e3)):(ignoreDataLayer("unignore"),showBottomToast(window.KASKUS_lang.success_unignore_msg.replace("%s",o),3e3)),t.addClass("Bdw(1px) Bds(s) Bgc(c-blue) C(c-white) Bd(borderSolidLightGrey)"),t.removeClass("C(c-blue) Bgc(c-white) Bgc(c-red):h Bdc(c-red):h Td(n):h C(c-white):h"),t.removeClass("Bgc(c-gray-2) Bgc(c-blue):h Td(n):h C(c-normal) C(c-white):h"),$(this).unbind("mouseenter mouseleave")):0==e.result&&("undefined"!=typeof user_id&&0==user_id.length&&intentToSignInMetrics("ikuti"),showBottomToast(e.error_message,3e3))},"json")}function bindTopKreatorClickFollowBtn(){$(".jsLandingFollowBtn").click(function(){landing_connection($(this))})}function bindTopKreatorHoverFollowBtn(){$(".jsLandingFollowBtn").mouseenter(function(){$(this).text($(this).attr("data-hover"))}).mouseleave(function(){$(this).text($(this).attr("data-default"))})}function bindTopicDetailThreadNext(){0<$("#trigger-hot-topic-thread").length&&(window.addEventListener("resize",fetch_more_topic_detail_thread,{passive:!0}),window.addEventListener("scroll",fetch_more_topic_detail_thread,{passive:!0}),window.addEventListener("touch",fetch_more_topic_detail_thread,{passive:!0}),window.addEventListener("click",fetch_more_topic_detail_thread,{passive:!0}))}function removeTopicDetailThreadAutoload(){window.removeEventListener("resize",fetch_more_topic_detail_thread),window.removeEventListener("scroll",fetch_more_topic_detail_thread),window.removeEventListener("touch",fetch_more_topic_detail_thread),window.removeEventListener("click",fetch_more_topic_detail_thread),$("#trigger-hot-topic-thread").hide()}function fetch_more_topic_detail_thread(){var e,t,m=$("#trigger-hot-topic-thread");!topicDetailThreadLoading&&isElementInViewport(m)&&(topicDetailThreadLoading=!0,e=m.attr("data-cursor"),t=m.attr("data-topic-url"),$.ajax({url:KASKUS_URL+"/threadshowcase/show_more/"+t,type:"POST",data:{cursor:e},xhrFields:{withCredentials:!0},success:function(e){var t,a=(e="object"!=typeof e?$.parseJSON(e):e).threadList,s=(0==e.error&&0!=a.length||(topicDetailThreadLoading=!1,removeTopicDetailThreadAutoload()),$(".hot-topic-base").html()),o="",i="";for(t in a){var r="subscribe"==a[t].subcriptionState?" C(c-normal)":" C(#f8c31c)",n=a[t].metaImage,l=a[t].isSafe,d=a[t].threadId,c=a[t].topicUrl,u=a[t].threadUrlTracking,p=a[t].threadTitleSlug;n&&(i=l?`
              <div class="W(90px) Fx(flexZero) Mstart(10px) H(90px) Bgz(cv) Bgp(c)">
                <a href="/thread/${d}?ref=topic-${c}&med=thread_list" onclick="${u}">
                  <img data-src="${n}" class="Bdrs(5px) Bdrsbstart(0) W(100%) oFitCover H(100%) mls-img" alt="${p}">
                </a>
              </div>`:`
              <div class="W(90px) Fx(flexZero) Mstart(10px) Bdrs(5px) Bgz(cv) Bgp(c) Bdrsbstart(0) H(90px) Ov(h) jsHiddenImage is-active">
                <a href="/thread/${d}?ref=topic-${c}&med=thread_list" onclick="${u}">
                <div class="Pos(r) W(100%) H(100%) oFitCover D(f) Jc(c) Ai(c) jsHiddenImageContainer">
                  <i class="jsHiddenImageTrigger Pos(a) T(50%) Start(50%) Trf(transformCenter) C(c-white) Fz(32px) far fa-eye-slash Z(1)"></i>
                  <img data-src="${n}" class="Bdrs(5px) Bdrsbstart(0) W(100%) oFitCover H(100%) mls-img" alt="${p}">
                </div>
                </a>
              </div>`),o+=s.replace(/{{postUserId}}/g,a[t].postUserId).replace(/{{postUsername}}/g,a[t].postUsername).replace(/{{threadId}}/g,d).replace(/{{subcriptionState}}/g,a[t].subcriptionState).replace(/{{forumId}}/g,a[t].forumId).replace(/{{threadTitle}}/g,a[t].threadTitle).replace(/{{threadUrlTracking}}/g,u).replace(/{{userId}}/g,a[t].userId).replace(/{{langSubscription}}/g,a[t].langSubscription).replace(/{{threadTitleSlug}}/g,p).replace(/{{langFirstNewPostButton}}/g,a[t].langFirstNewPostButton).replace(/{{threadLastPostId}}/g,a[t].threadLastPostId).replace(/{{langLastPostButton}}/g,a[t].langLastPostButton).replace(/{{activeUpVoteState}}/g,a[t].activeUpVoteState).replace(/{{firstPostId}}/g,a[t].firstPostId).replace(/{{vote}}/g,a[t].vote).replace(/{{activeDownVoteState}}/g,a[t].activeDownVoteState).replace(/{{threadViewCount}}/g,a[t].threadViewCount).replace(/{{threadReplyCount}}/g,a[t].threadReplyCount).replace(/{{fbSharedUrl}}/g,a[t].fbSharedUrl).replace(/{{fbDataUrl}}/g,a[t].fbDataUrl).replace(/{{twitterSharedUrl}}/g,a[t].twitterSharedUrl).replace(/{{forumName}}/g,a[t].forumName).replace(/{{topicNameEncoded}}/g,encodeURIComponent(a[t].topicName)).replace(/{{forumParentId}}/g,a[t].forumParentId).replace(/{{forumParentName}}/g,a[t].forumParentName).replace(/{{channelId}}/g,a[t].channelId).replace(/{{channelName}}/g,a[t].channelName).replace(/{{whatsappSharedUrl}}/g,a[t].whatsappSharedUrl).replace(/{{fbMessengerSharedUrl}}/g,a[t].fbMessengerSharedUrl).replace(/{{shortThreadUrl}}/g,a[t].shortThreadUrl).replace(/{{iconColor}}/g,r).replace(/{{topicName}}/g,a[t].topicName).replace(/{{topicId}}/g,a[t].topicId).replace(/{{threadImageHtml}}/g,i).replace(/{{topicUrl}}/g,c).replace(/{{showGotoFirstNewPost}}/g,a[t].showGotoFirstNewPost).replace(/{{showGotoLastPost}}/g,a[t].showGotoLastPost)}$("#threadlist_visualita .hot-topic-base").before(o),m.attr("data-cursor",e.nextCursor),topicDetailThreadLoading=!1,bindSubscribeButton(),bindOpenWhoPosted(),bindJsTippy(),0<a.length&&(_gaq&&_gaq.push(["_trackEvent","topic detail","load more",a[t].topicName.toLowerCase()]),dataLayer&&dataLayer.push({event:"trackEvent","eventDetails.category":"topic detail","eventDetails.action":"load more","eventDetails.label":a[t].topicName.toLowerCase()})),$(".mls-img").kslzy(300)},error:function(){topicDetailThreadLoading=!1,removeTopicDetailThreadAutoload()}}))}function createHorizontalShareMenu(e){var t,a,s,o,i,r,n,l,d,c,u,p=e.find(".jsShareData");"false"==p.attr("data-created")&&(c=p.attr("data-fb-href"),u=p.attr("data-fb-url"),t=p.attr("data-twitter-href"),a=p.attr("data-threadid"),s=p.attr("data-forum-id"),o=decodeURIComponentSafe(p.attr("data-title")).replace("&#92;",""),i=p.attr("data-wa-href"),r=p.attr("data-fb-msg-href"),n=p.attr("data-short-thread-url"),u='<a target="_blank" href="'+c+'" data-url="'+u+'" data-threadid="'+a+'" onclick="threadlist_facebook_share(\''+u+"', '"+a+"');"+build_ga_custom_track_share_thread(c="hot-topic-detail"==p.attr("data-type")?(l="Fz(15px)",d={topicName:p.attr("data-topic-name"),topicId:p.attr("data-topicid")},"topic detail"):(l="Fz(18px)",d={},s+" "+o),"share thread","facebook",p,d)+';return false;" class="C(c-facebook) C(c-facebook-hover):h Mend(15px) '+l+'" ><i class="fab fa-facebook-f"></i></a><a target="_blank" href="'+r+'" data-threadid="'+a+'" onclick="threadlist_share_count(\''+a+"', 'facebook-messenger');"+build_ga_custom_track_share_thread(c,"share thread","facebook-messenger",p,d)+'" class="C(c-facebook-messenger) C(c-facebook-messenger-hover):h Mx(15px) '+l+'"><i class="fab fa-facebook-messenger"></i></a><a target="_blank" href="'+i+'" data-threadid="'+a+'" onclick="threadlist_share_count(\''+a+"', 'whatsapp');"+build_ga_custom_track_share_thread(c,"share thread","whatsapp",p,d)+'" class="C(c-whatsapp) C(c-whatsapp-hover):h Mx(15px) '+l+'"><i class="fab fa-whatsapp"></i></a><a target="_blank" href="'+t+'" data-threadid="'+a+'" onclick="threadlist_share_count(\''+a+"', 'twitter');"+build_ga_custom_track_share_thread(c,"share thread","twitter",p,d)+'" class="C(c-twitter) C(c-twitter-hover):h Mx(15px) '+l+'"> <i class="fab fa-twitter"></i></a><input class="shared_url'+a+'" type="hidden" value="'+n+'"><a href="javascript:void(0);" onclick="shareUrl(\''+a+"');"+build_ga_custom_track_share_thread(c,"share thread","link",p,d)+'" class="copy_button'+a+" C(c-primary) C(c-tertiary):h Mx(15px) "+l+'"><i class="far fa-link"></i></a>',p.attr("data-created","true"),e.find(".shareBar-list").append(u))}function shareUrl(e){new ClipboardJS(".copy_button"+e,{text:function(){return document.querySelector(".shared_url"+e).value}}),showBottomToast("Link Tersalin",2e3)}$("#threadlist_visualita, #hotthread_visualita").on("click",".vote-thread",function(e){var t=$(this);let a=t.data("postid"),s=t.data("userid");t.data("postuserid");let o=t.data("status-vote");var i=$("#securitytoken").val();return $.ajax({url:KASKUS_URL+"/give_vote/"+a,type:"POST",dataType:"json",data:{status:o,securitytoken:i},xhrFields:{withCredentials:!0},success:function(e){$("#securitytoken").val(e.securitytoken),1==e.result?((1==o?toggleUpVote:toggleDownVote)(t,e),$("#total-vote-"+a).text(e.total_vote),showBottomToast(e.message,2e3)):1==e.show_cta_join?showCtaJoin(t):(void 0!==s&&0==s.length&&intentToSignInMetrics(1==o?"cendol":"bata"),showBottomToast(e.message_return,2e3))},error:function(e){}}),!1}),$("#hotthread_visualita").on("click",".fa-vote",function(e){var t=$(this);let a=t.data("postid"),s=t.data("userid");t.data("postuserid");let o=t.data("status-vote");var i=$("#securitytoken").val();return $.ajax({url:KASKUS_URL+"/give_vote/"+a,type:"POST",dataType:"json",data:{status:o,securitytoken:i},xhrFields:{withCredentials:!0},success:function(e){$("#securitytoken").val(e.securitytoken),1==e.result?(o,toggleFAColor(t),$("#total-vote-"+a).text(e.total_vote),showBottomToast(e.message,2e3)):(void 0!==s&&0==s.length&&intentToSignInMetrics(1==o?"cendol":"bata"),e.show_cta_join?showCtaJoin(t.parents(".vote-wrapper")):showBottomToast(e.message_return,2e3))},error:function(e){}}),!1});var config,messaging="",firebaseInitStatus=!1;function registerServiceWorker(){navigator.serviceWorker.register(KASKUS_URL+"/firebase-messaging-sw.js").then(function(e){messaging.useServiceWorker(e),"granted"==Notification.permission&&getRegistrationToken()}).catch(function(e){console.error("Service Worker registration error : ",e)})}function getRegistrationToken(){messaging.getToken().then(function(e){e?(sendTokenToServer(e),e!=getCookie("fcm_token")&&subscribeTopic(e)):setTokenSentToServer(!1)}).catch(function(e){console.log("An error occurred while retrieving token. ",e)})}function subscribeTopic(t){$.ajax({url:KASKUS_URL+"/misc/generateSecurityToken",type:"GET",xhrFields:{withCredentials:!0},success:function(e){return"object"!=typeof e&&(e=$.parseJSON(e)),$.ajax({url:KASKUS_URL+"/user/subscribeDefaultTopic",type:"POST",data:{fcm_token:t,securitytoken:e.securitytoken},xhrFields:{withCredentials:!0},success:function(e){return e="object"!=typeof e?$.parseJSON(e):e},error:function(e){}}),e},error:function(e){}})}function requestPerm(){Notification.requestPermission().then(function(e){$(".request_fcm_section").addClass("D(n)")}).catch(function(e){console.log("Unable to get permission to notify.",e)})}function getCookie(e){for(var t=e+"=",a=document.cookie.split(";"),s=0;s<a.length;s++){for(var o=a[s];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return decodeURIComponent(o.substring(t.length,o.length))}return""}function sendTokenToServer(e){isTokenSentToServer()||setTokenSentToServer(!0)}function isTokenSentToServer(){return"1"===window.localStorage.getItem("sentToServer")}function setTokenSentToServer(e){window.localStorage.setItem("sentToServer",e?"1":"0")}function show_request_fcm_popup(){"Notification"in window&&"default"===Notification.permission&&1==firebaseInitStatus&&$(".request_fcm_section").removeClass("D(n)")}function bindRequestFcm(){$(".request_fcm").unbind("click").click(function(){requestPerm()})}function removeForumAllAutoload(){window.removeEventListener("resize",forumAllLoadNext),window.removeEventListener("scroll",forumAllLoadNext),window.removeEventListener("touch",forumAllLoadNext),window.removeEventListener("click",forumAllLoadNext),$("#forum-all-next").hide()}$(document).ready(function(){config={apiKey:WEB_PUSH_API_KEY,authDomain:WEB_PUSH_AUTH_DOMAIN,databaseURL:WEB_PUSH_DATABASE_URL,projectId:WEB_PUSH_PROJECT_ID,storageBucket:WEB_PUSH_STORAGE_BUCKET,messagingSenderId:WEB_PUSH_MESSAGING_SENDER_ID,appId:WEB_PUSH_APP_ID};try{firebase.initializeApp(config),(messaging=firebase.messaging()).usePublicVapidKey(WEB_PUSH_CERTIFICATE),messaging.onMessage(function(e){let t=e.data.title,a={body:e.data.body,icon:e.data.icon,image:e.data.image,badge:PUSH_NOTIFICATION_BADGE,tag:e.data.tag,renotify:!0,data:{click_action:e.data.url}};navigator.serviceWorker.ready.then(function(e){return e.showNotification(t,a)})}),messaging.onTokenRefresh(function(){messaging.getToken().then(e=>{setTokenSentToServer(!1),sendTokenToServer(e),getRegistrationToken()}).catch(e=>{console.log("Unable to retrieve refreshed token ",e)})}),bindRequestFcm(),registerServiceWorker(),firebaseInitStatus=!0}catch(e){}}),"permissions"in navigator&&navigator.permissions.query({name:"notifications"}).then(function(e){e.addEventListener("change",function(){"granted"==e.state&&getRegistrationToken()})});var isForumAllLoading=!1;function showForumAllCommunities(){var e=$("#forum_all_channel_id").val(),t=$("#forum_all_page").val(),a=(isForumAllLoading=!0,$(window).scrollTop());$.ajax({url:"/forum_misc/get_forum_all_community/"+e+"/"+t,dataType:"json",type:"get",success:function(e){$(e.popular_community_list).insertBefore($("#forum-all-next")),t++,$("#forum_all_page").val(t),e.popular_community_list||($("#forum-all-next").hide(),removeForumAllAutoload()),isForumAllLoading=!1,window.scrollTo(0,a),$(document.body).trigger("sticky_kit:recalc"),window.scrollTo(0,a+1),bindSubscribeButton()},error:function(){isForumAllLoading=!1,removeForumAllAutoload()}})}function forumAllLoadNext(){0==isForumAllLoading&&isElementInViewport($("#forum-all-next"))&&showForumAllCommunities()}function bindForumAllNext(){0<$("#forum-all-next").length&&(window.addEventListener("resize",forumAllLoadNext,{passive:!0}),window.addEventListener("scroll",forumAllLoadNext,{passive:!0}),window.addEventListener("touch",forumAllLoadNext,{passive:!0}),window.addEventListener("click",forumAllLoadNext,{passive:!0}),forumAllLoadNext())}function bindForumAllSideBar(){document.getElementById("jsChannelSidebarButton")&&document.getElementById("jsChannelSidebarButton").addEventListener("click",e=>{document.getElementById("jsChannelSidebarMore").classList.remove("D(n)"),document.getElementById("jsChannelSidebarButton").classList.remove("D(f)"),document.getElementById("jsChannelSidebarButton").classList.add("D(n)")})}$(document).ready(function(){bindForumAllNext(),bindForumAllSideBar()});var catLoaded,retryFetch=!0;function threadlist_facebook_share(e,t){return FB.ui({method:"share",href:e},function(e){e&&!e.error_code&&threadlist_share_count(t,"facebook")}),!1}function threadlist_share_count(e,t){$.ajax({url:KASKUS_URL+"/misc/update_share_count",type:"POST",data:{share_type:t,thread_id:e},xhrFields:{withCredentials:!0},success:function(e){},error:function(e){}})}function printDiv(e){window.frames.print_frame.document.body.innerHTML=document.getElementById(e).innerHTML,window.frames.print_frame.window.focus(),window.frames.print_frame.window.print()}function notice(e,t){void 0===t&&(t=3e3),document.notice_tid&&clearTimeout(document.notice_tid),$("#notice_span").html(e),$("#floating_notice").show(),document.notice_tid=setTimeout(function(){$("#floating_notice").fadeOut()},t)}function printContent(e){var t=document.body.innerHTML,e=document.getElementById(e).innerHTML;document.body.innerHTML=e,window.print(),document.body.innerHTML=t}function show_signin_popup(){$.ajax({url:"/user/login/",success:function(e){$("#jsModalSignin .modal-body").html(e),$("#username").focus()}})}function show_signup_popup(){$.ajax({url:"/register/index/",success:function(e){$("#jsModalSignin .modal-body").html(e),$("#signup_email").focus()}})}var local_search_history_date,local_search_history,local_top_keyword_date,local_top_keyword,last_search_history,last_top_keyword,globalSearchCommunityTimeout,ten_minutes=600,one_second=1,local_search_thread_snippet_date={},local_search_thread_snippet={},indexSelected=-1,last_process_time=0;function get_search_dropdown(){var e=Date.now()/1e3;parseFloat(last_process_time)+one_second>e||(last_process_time=e,get_top_keyword(),get_search_history(),show_search_drop_down(),bindOnClickSearchButton(),showEmptySearchResultMessage())}function show_search_drop_down(){var e=get_term_local_data("top_keyword"),t=get_cookie_term_local_data("search_history_"+user_id);show_template_search(e,"top_search_choice","#top_search","last_top_keyword"),show_template_search(t,"history_search_choice","#history_search","last_search_history"),bindJsSearchResultHover(),bindJsSearchResultMouseDown()}function show_template_search(e,t,a,s){var o,i="";for(o in e)i+='<li><a href="javascript:void(0);" class="D(b) P(4px) C(c-primary) Fz(14px) Td(n):h Bgc(c-gray-1):h resultTerm">'+e[o]+"</a></li>";i!=window[s]&&(document.getElementById(t).innerHTML=i,window[s]=i,indexSelected=-1),""==i?("#history_search"==a&&$(a).parent().hide(),$(a).hide()):("#history_search"==a&&$(a).parent().show(),$(a).show())}function bindJsSearchResultHover(){$(".jsSearchResult li").unbind("hover").bind("hover",function(e){$(".jsSearchResult").find("li.is-selected").removeClass("is-selected"),$(this).addClass("is-selected"),indexSelected=$(".jsSearchResult li").index($(this))})}function bindJsSearchResultMouseDown(){$(".jsSearchResult li").unbind("mousedown").bind("mousedown",function(e){e.preventDefault(),$("#searchform").removeAttr("data-url"),$(this).find("a").hasClass("categorySearch")?(e=$(this).find("a").attr("data-term"),void 0!==$(this).find("a").attr("data-forum-id")&&(e+=" fid:"+$(this).find("a").attr("data-forum-id")),$("#search").val(e)):$(this).find("a").hasClass("forumSearch")||$(this).find("a").hasClass("threadSnippetSearch")?void 0!==$(this).find("a").attr("data-url")&&(url=$(this).find("a").attr("data-url"),$("#searchform").attr("data-url",url)):$("#search").val($(this).text()),$("#btn-search").click()})}function bindSearchAllThreadOnClick(){$(".jsSearchResult #search_thread_button").unbind("mousedown").bind("mousedown",function(e){e.preventDefault(),window.location.href="/search/forum?q="+$("#search").val()})}function bindOnClickSearchButton(){$("#btn-search").unbind("click").bind("click",function(e){void 0!==$("#searchform").attr("data-url")&&(e.preventDefault(),url=$("#searchform").attr("data-url"),window.location.href=url)})}function get_top_keyword(){var e=null,e=localStorage?parseFloat(localStorage.getItem("top_keyword_date")):local_top_keyword_date,t=Date.now()/1e3;(isNaN(e)||e+ten_minutes<t)&&$.ajax({url:"/misc/get_top_keyword",success:function(e){localStorage?(localStorage.setItem("top_keyword",e),localStorage.setItem("top_keyword_date",Date.now()/1e3)):(local_top_keyword=JSON.parse(e),local_top_keyword_date=Date.now()/1e3),show_search_drop_down()},error:function(){show_search_drop_down()}})}function get_search_history(){var e=parseFloat($.cookie("search_history_date_"+user_id)),a=Date.now()/1e3;(isNaN(e)||e+ten_minutes<a)&&$.ajax({url:"/misc/get_search_history",success:function(e){var t="",t="undefined"!=typeof KASKUS_COOKIE_DOMAIN?KASKUS_COOKIE_DOMAIN:COOKIE_DOMAIN;a=Date.now()/1e3,$.cookie("search_history_"+user_id,e,{expires:a+ten_minutes,path:"/",domain:t,secure:!1}),$.cookie("search_history_date_"+user_id,a,{expires:a+ten_minutes,path:"/",domain:t,secure:!1}),show_search_drop_down()},error:function(){show_search_drop_down()}})}function get_term_local_data(e){var t={};if(localStorage){if(t=localStorage.getItem(e))try{t=JSON.parse(t)}catch(e){t={}}}else t=window["local_"+e];return t||{}}function get_cookie_term_local_data(t){t=$.cookie(t);try{t=JSON.parse(t)}catch(e){t={}}return t}function remove_search_history(){$.ajax({url:"/misc/remove_search_history",success:function(){var e="",e="undefined"!=typeof KASKUS_COOKIE_DOMAIN?KASKUS_COOKIE_DOMAIN:COOKIE_DOMAIN;date_now=Date.now()/1e3,$.cookie("search_history_"+user_id,"[]",{expires:date_now+ten_minutes,path:"/",domain:e,secure:!1}),$.cookie("search_history_date_"+user_id,date_now,{expires:date_now+ten_minutes,path:"/",domain:e,secure:!1}),show_search_drop_down()}})}function header_search_default_toogle(){$("#header_search_result").addClass("hide"),$("#header_search_result").html(""),$("#header_promoted_community").addClass("hide"),$("#header_promoted_community").html(""),$("#update-tag").addClass("hide"),$("#update-tag").html(""),$("#relatedForum").addClass("hide"),$("#subscribedForum").addClass("hide"),$("#newestForum").addClass("hide"),$("#relatedCommunity").html(""),$("#popularForum").addClass("hide"),$("#cat-promoted").addClass("hide")}function header_get_popular_list(){$.retrieveJSON("/forum_misc/header_get_community/",function(e){$("#popularForum").html(e.popular_community_list)},"json")}function searchCommunity(){$("#update-tag ul.sidebar-category").find("li").removeClass("selected");var e="/forum_misc/header_search_community/?q="+(searchField=$("#filter-cat-forum").val()).replace(/[\W_]+/g," ");$(".flyout__search i").removeClass("fa-search"),$(".flyout__search i").addClass("fa-times"),$("#jsCategoryTabForum .flyout__search i.fa-times").click(function(e){$(this).removeClass("fa-times"),$(this).addClass("fa-search"),$("#filter-cat-forum").val(""),$("#update-tag").html(""),$("#update-tag").addClass("hide"),header_search_default_toogle(),$("#subscribedForum").removeClass("hide"),$("#popularForum").removeClass("hide")});try{if(""===searchField)return header_search_default_toogle(),$("#subscribedForum").removeClass("hide"),$("#popularForum").removeClass("hide"),$("#jsCategoryTabForum .flyout__search i").removeClass("fa-times"),$("#jsCategoryTabForum .flyout__search i").removeClass("fa-search"),!1;$.retrieveJSON(e,function(e){header_search_default_toogle(),$("#newestForum").removeClass("hide"),$("#header_search_result").removeClass("hide"),$("#header_search_result").html(e.html)},"json"),liSelected="",checkScroller(".flyout__result__list")}catch(e){}}function fetchCategories(t=!1){var s=KASKUS_URL+"/misc/get_categories/"+catVersion;$.retrieveJSON(s,{},function(e){var a;retryFetch&&e.version!=catVersion?($.clearJSON(s,{}),retryFetch=!1,fetchCategories(t)):0==t?(catLoaded=!0,$("#filter-cat-forum").bind("keydown",function(e){var t=$("#update-tag ul.sidebar-category").find("li");40===e.which?("keydown"===e.type&&(a?(a.removeClass("selected"),0<(next=a.next()).length?a=next.addClass("selected"):a.addClass("selected")):a=t.eq(0).addClass("selected")),$(".scrolling-con-update ul li.selected").position().top):38===e.which?"keydown"===e.type&&(a?(a.removeClass("selected"),0<(next=a.prev()).length?a=next.addClass("selected"):a.addClass("selected")):a=t.last().addClass("selected")):13===e.which&&0<$(".scrolling-con-update").find("li.selected").length&&(window.location=$(".scrolling-con-update li.selected .categories-title").children("a").attr("href"))}),0<$(".flyout__tab__pane > .flyout__category__list").length&&$(".flyout__tab__pane > .flyout__category__list")[0].scrollHeight>$(".flyout__tab__pane > .flyout__category__list").height()&&$(".flyout__tab__pane > .flyout__category__list").siblings(".flyout__scroll--down").addClass("flyout__scroll--on"),$(".flyout__category__list").bind("scroll",function(){checkScroller($(this))}),$(".flyout__result__list").bind("scroll",function(){checkScroller($(this))}),$(".flyout__category-children__list").bind("scroll",function(){checkScroller($(this))})):searchBoxForum()},36e5)}function searchBoxForum(){try{var e,t=$("#search").val().trim();""==t||t.length<3?($("#forum_search").addClass("D(n)"),$("#forum_search").removeClass("Mt(20px)"),$("#forum_search_choice").addClass("D(n)"),$("#forum_search_choice").html("")):(e=KASKUS_URL+"/forum_misc/fetch_community_snippet/?q="+t,$.retrieveJSON(e,function(e){"\n"!=e.html?($("#forum_search_choice").html(e.html),$("#forum_search").removeClass("D(n)"),$("#forum_search_choice").removeClass("D(n)"),highlightSearchResult(t),bindJsSearchResultHover(),bindJsSearchResultMouseDown(),insertMarginToSearchResultSections()):($("#forum_search").addClass("D(n)"),$("#forum_search").removeClass("Mt(20px)"),$("#forum_search_choice").addClass("D(n)"),$("#forum_search_choice").html(""),$("#thread_snippet_search").removeClass("Mt(20px)")),showEmptySearchResultMessage()},864e5))}catch(e){}}function fetchThreadSnippets(){var e,t,a=$("#search").val().trim();""==a||a.length<3?($("#thread_snippet_search").addClass("D(n)"),$("#thread_snippet_search").removeClass("Mt(20px)"),$("#thread_snippet_search_choice").addClass("D(n)"),$("#thread_snippet_search_choice").html(""),$("#search_thread_button").addClass("D(n)")):(e=null,e=localStorage?parseFloat(localStorage.getItem("search_thread_snippet_"+a+"_date")):local_search_thread_snippet_date[a],t=Date.now()/1e3,isNaN(e)||e+ten_minutes<t?$.get("/search/thread_snippet/?q="+a,function(e){localStorage?(localStorage.setItem("search_thread_snippet_"+a,e),localStorage.setItem("search_thread_snippet_"+a+"_date",Date.now()/1e3)):("object"!=typeof e&&(e=$.parseJSON(e)),local_search_thread_snippet[a]=e,local_search_thread_snippet_date[a]=Date.now()/1e3),show_thread_snippets(a)}):show_thread_snippets(a))}function show_thread_snippets(e){var t=get_term_local_data("search_thread_snippet_"+e),t=localStorage?t:local_search_thread_snippet[e];let a="";t.error||(t.data.length%2!=0&&t.data.pop(),$.each(t.data,function(e,t){a+='<li><a data-url="'+decodeURIComponent(t.url)+`" href="javascript:void(0);"
        class="Bgc(c-gray-1):h D(f) Ai(fs) Jc(sb) P(4px) threadSnippetSearch">
        <div id="thread_title" class="Fz(14px) C(c-primary) Mend(8px) resultTerm">`+t.title+`</div>
        <img class="Bdrs(5px) W(80px) H(80px) Fx(flexZero) oFitCover"
          width="80" height="80" src="`+decodeURIComponent(t.image)+'" alt="'+t.title+`">
        </a></li>`})),""!=a?($("#thread_snippet_search_choice").html(a),$("#thread_snippet_search").removeClass("D(n)"),$("#thread_snippet_search_choice").removeClass("D(n)"),$("#search_thread_button").removeClass("D(n)"),bindSearchAllThreadOnClick(),highlightSearchResult(e),bindJsSearchResultHover(),bindJsSearchResultMouseDown(),insertMarginToSearchResultSections()):($("#thread_snippet_search").addClass("D(n)"),$("#thread_snippet_search").removeClass("Mt(20px)"),$("#thread_snippet_search_choice").addClass("D(n)"),$("#thread_snippet_search_choice").html(""),$("#search_thread_button").addClass("D(n)")),showEmptySearchResultMessage()}function insertMarginToSearchResultSections(){if(searchSectionExist("#searchPreliminaryResult")){let t=[];if(["#category_search","#forum_search","#thread_snippet_search"].forEach(function(e){searchSectionExist(e)&&t.push(e)}),1<t.length)for(let e=1;e<t.length;e++)$(t[e]).addClass("Mt(20px)")}}function showEmptySearchResultMessage(){var e=$("#searchPreliminaryResult").children("div").length;searchSectionExist("#searchInitial")||$("#searchPreliminaryResult").children("div.D\\(n\\)").length!=e?$("#searchEmptyResult").addClass("D(n)"):$("#searchEmptyResult").removeClass("D(n)")}function searchSectionExist(e){return $(e).length&&!$(e).hasClass("D(n)")}function highlightSearchResult(e){e=e.trim();for(var t,a=new RegExp("("+escapeRegExp(e)+")","gi"),s=document.getElementsByClassName("resultTerm"),o=0;o<s.length;o++)a.test(s[o].innerText)?(t=s[o].innerText.replace(a,function(e){return'<span class="highlightedText">'+escapeHtml(e)+"</span>"}),s[o].innerHTML=t):s[o].innerHTML=escapeHtml(s[o].innerText)}function gaTrackSubscribeForum(e){dataLayer.push(e)}function gaTrackOb(e){e.attr("data-type");var t=e.attr("data-category"),a=e.attr("data-state"),s=(e.attr("data-action-tracking"),e.attr("data-forumid")),o=e.attr("data-forum-name"),i=e.attr("data-forum-parentid"),r=e.attr("data-forum-parent-name"),n=e.attr("data-channelid"),l=e.attr("data-channel-name"),d="-1",c=("subscribe"==a&&(d="1"),e.attr("data-label")),u=e.attr("data-id"),p=e.attr("data-userid"),m=e.attr("data-title"),h=e.attr("data-author");_gaq.push(["_trackEvent",t,a,c]),obj={event:"trackEvent","eventDetails.category":t,"eventDetails.action":a,"eventDetails.label":c,threadSubscriber:d,userID:p,threadID:u,threadTitle:m,author:h,forumID:s,forumName:o,forumParentID:i,forumParentName:r,channelID:n,channelName:l},e.attr("data-topic-name")&&(obj.topicName=e.attr("data-topic-name"),obj.topicId=e.attr("data-topicid"),obj["eventDetails.label"]="thread-"+obj["eventDetails.label"]),dataLayer.push(obj)}function handleCtaJoin(e,t){$("#securitytoken, .sctoken").val(t.securitytoken),closeModal("cta-join-"+e.attr("data-forumid"))}function sprintfElement(e,t){for(var a in t){a=e.html().replaceAll(String(a),String(t[a]));e.html(a)}}function showCtaJoin(e,t="give reputation"){var a={"{{forum_name}}":e.attr("data-forum-name")??"","{{forum_id}}":e.attr("data-forumid"),"{{data_target}}":e.attr("data-target")??""},s="cta-join-"+e.attr("data-forumid");let o;0<$jQ("#"+s).length?o=$jQ("#"+s):((o=$(".cta-join-modal").clone().appendTo("body")).attr("id",s),o.removeClass("cta-join-modal")),gaTrackSubscribeForum({event:"trackEvent","eventDetails.category":"-","eventDetails.action":"intent to join community","eventDetails.label":t,forumID:e.attr("data-forumid"),forumName:e.attr("data-forum-name")}),sprintfElement(o,a),openModal(s)}$("#filter-cat-forum").keyup(function(){null!=globalSearchCommunityTimeout&&clearTimeout(globalSearchCommunityTimeout),globalSearchCommunityTimeout=setTimeout(searchCommunity,1e3)});var subscribeUnsubscribeOnProgress=!1,subscribeUnsubscribeEls=[];function subscribeUnsubscribe(o){var i,r,e,t,a=o.attr("id");subscribeUnsubscribeEls.indexOf(a)<0&&void 0!==a&&subscribeUnsubscribeEls.push(o.attr("id")),subscribeUnsubscribeOnProgress||(subscribeUnsubscribeOnProgress=!0,i=o.attr("data-state"),r=o.attr("data-type"),a=o.attr("data-id"),a="/myforum/"+i+"/"+r+"/"+a,e=$("#securitytoken").val(),o.data("name"),t=o.attr("data-category"),e?$.ajax({type:"POST",url:a,data:{securitytoken:e},xhrFields:{withCredentials:!0},success:function(e){"object"!=typeof e&&(e=$.parseJSON(e));let t=!1;"true"==o.attr("data-cta-join")&&(t=!0,handleCtaJoin(o,e),0<o.attr("data-target").length&&(o=$jQ(o.attr("data-target")))),"TRUE"==e.flag?("thread"==r?gaTrackOb(o):"forum"==r&&e.ga_tracks&&(s=t?"join intention modal":o.attr("data-label"),e.ga_tracks["eventDetails.label"]=s,gaTrackSubscribeForum(e.ga_tracks),$("#securitytoken").val(e.securitytoken)),"subscribe"==i?($("#securitytoken").val(e.securitytoken),o.attr("data-state","unsubscribe"),"icon"==o.attr("data-style")?((a=o.find("i:first")).addClass("C(#f8c31c)"),a.removeClass("C(c-grey) D(n) listThreadItem:h_D(b) C(#f8c31c):h Cur(p):h is-animate")):"icon-category"==o.attr("data-style")?((a=o.find("i:first")).addClass("C(#f8c31c) C(c-grey):h"),a.removeClass("C(c-grey) D(n) listForumItem:h_D(b) C(#f8c31c):h")):"icon-thread"==o.attr("data-style")?(o.attr("title",o.attr("title-unsubscribe")),(a=o.find("i:first")).removeClass("C(c-tertiary)"),a.addClass("C(c-yellow-1)"),document.querySelector(".jsSubscribeThreadIcon")._tippy.setContent(o.attr("title-unsubscribe")),showBottomToast("Subscribe Thread Berhasil",1500)):"icon-thread-visualita"==o.attr("data-style")?(o.find("i").removeClass("C(c-normal)").addClass("C(#f8c31c)"),o.find("span:first").text("Unsubscribe"),showBottomToast("Subscribe Thread Berhasil",1500)):o.find("span:first").text("Unsubscribe"),"forum"==o.data("type")&&("button-forum"==o.attr("data-style")?((a=o.find("i:first")).removeClass("C(c-gray-2)"),a.addClass("C(c-yellow-1)"),$(o).find("i")[0]._tippy.setContent(window.KASKUS_lang.unsubscribe_forum),a.attr("data-tippy-content",window.KASKUS_lang.unsubscribe_forum),showBottomToast(window.KASKUS_lang.subscribe_forum_success,1500)):"menu-search"==o.attr("data-style")?((a=o.find("i:first")).removeClass("C(c-grey) D(n) C(#f8c31c):h"),a.addClass("C(c-grey):h C(#f8c31c)")):"button-card-subscribe"==o.attr("data-style")?(o.removeClass("Bgc(c-blue) Bgc(c-blue-hover):h C(c-white)"),o.addClass("Bgc(c-white) Bgc(c-white-blue-hover):h C(c-blue) Bdc(c-blue) Bds(s) Bdw(1px) Fw(500)"),o.html(e.text_button),showBottomToast(e.message_return,1500)):"solid-button"==o.attr("data-style")?(s=o.text(),o.html(o.attr("data-cta-label")),o.attr("data-cta-label",s),o.removeClass("Bgc(c-blue) Bgc(c-blue-hover):h C(c-white) jsSubscribeThreadIcon"),o.addClass("Bgc(c-white) Bgc(c-white-blue-hover):h C(c-blue) Bdc(c-blue) Bds(s) Bdw(1px) jsModalTrigger"),showBottomToast(e.message_return,2e3)):"hollow-button"==o.attr("data-style")?(s=o.text(),o.text(o.attr("data-cta-label")),o.attr("data-cta-label",s),o.removeClass("Bd(borderSolidBlue1) C(c-blue-1) Bgc(c-white) Bgc(c-white-blue-hover):h jsSubscribeThreadIcon"),o.addClass("Bd(borderSolidGray5) Bd(borderSolidGray3) C(c-secondary) jsModalTrigger"),showBottomToast(e.message_return,2e3)):"remove-after"==o.attr("data-style")?($jQ(".ht-subscribe-"+o.attr("data-id")).remove(),showBottomToast(e.message_return,2e3)):"true"==o.attr("data-cta-join")?(showBottomToast(e.message_return,1500),subscribeUnsubscribeOnProgress=!1):((a=o.find("i:first")).removeClass("C(c-grey) D(n)"),a.addClass("C(#f8c31c)")))):(o.attr("data-state","subscribe"),"icon"==o.attr("data-style")?((a=o.find("i:first")).removeClass("C(#f8c31c)"),a.addClass("C(c-grey) D(n) listThreadItem:h_D(b) C(#f8c31c):h Cur(p):h is-animate")):"icon-category"==o.attr("data-style")?((a=o.find("i:first")).removeClass("C(#f8c31c)"),a.addClass("C(c-grey) D(n) listForumItem:h_D(b) C(#f8c31c):h Cur(p):h")):"icon-thread"==o.attr("data-style")?(o.attr("title",o.attr("title-subscribe")),(a=o.find("i:first")).removeClass("C(c-yellow-1)"),a.addClass("C(c-tertiary)"),document.querySelector(".jsSubscribeThreadIcon")._tippy.setContent(o.attr("title-subscribe")),showBottomToast("Unsubscribe Thread Berhasil",1500)):"icon-thread-visualita"==o.attr("data-style")?(o.find("i").addClass("C(c-normal)").removeClass("C(#f8c31c)"),o.find("span:first").text("Subscribe"),showBottomToast("Unsubscribe Thread Berhasil",1500)):"button-join"==o.attr("data-style")?(o.removeClass("Bgc(transparent) C(c-blue)"),o.addClass("Bgc(c-blue) C(c-white) Bgc(c-blue-hover):h"),o.html("Gabung"),showBottomToast("Sukses keluar dari komunitas",1500)):"remove-element"==o.attr("data-style")?(o.parents(".jsThreadCard").remove(),showBottomToast(e.message_return,1500)):o.find("span:first").text("Subscribe"),"forum"==o.data("type")&&("button-forum"==o.attr("data-style")?((a=o.find("i:first")).removeClass("C(c-yellow-1)"),a.addClass("C(c-gray-2)"),$(o).find("i")[0]._tippy.setContent(window.KASKUS_lang.subscribe_forum),a.attr("data-tippy-content",window.KASKUS_lang.subscribe_forum),showBottomToast(window.KASKUS_lang.unsubscribe_forum_success,1500)):"menu-search"==o.attr("data-style")?((a=o.find("i:first")).removeClass("C(c-grey):h C(#f8c31c)"),a.addClass("C(c-grey) D(n) C(#f8c31c):h")):"button-card-subscribe"==o.attr("data-style")?(o.removeClass("Bgc(c-white) Bgc(c-white-blue-hover):h C(c-blue) Bdc(c-blue) Bds(s) Bdw(1px) Fw(500)"),o.addClass("Bgc(c-blue) Bgc(c-blue-hover):h C(c-white)"),o.html(e.text_button),showBottomToast(e.message_return,1500)):"solid-button"==o.attr("data-style")?(s=o.text(),o.html(o.attr("data-cta-label")),o.attr("data-cta-label",s),o.addClass("Bgc(c-blue) Bgc(c-blue-hover):h C(c-white) jsSubscribeThreadIcon"),o.removeClass("Bgc(c-white) Bgc(c-white-blue-hover):h C(c-blue) Bdc(c-blue) Bds(s) Bdw(1px) jsModalTrigger"),showBottomToast(e.message_return,2e3)):"hollow-button"==o.attr("data-style")?(s=o.text(),o.text(o.attr("data-cta-label")),o.attr("data-cta-label",s),o.removeClass("Bd(borderSolidGray5) Bd(borderSolidGray3) C(c-secondary) jsModalTrigger"),o.addClass("Bd(borderSolidBlue1) C(c-blue-1) Bgc(c-white) Bgc(c-white-blue-hover):h jsSubscribeThreadIcon"),showBottomToast(e.message_return,2e3)):((a=o.find("i:first")).removeClass("C(#f8c31c)"),a.addClass("C(c-grey) D(n)"))),"true"==o.attr("data-thread-subscription")&&showHideThreadByModTools([o.attr("data-id")]))):"FALSE"==e.flag?($("#securitytoken").val(e.securitytoken),showBottomToast(e.message_return,1500)):(intentToSignInMetrics(i+" "+r),window.location="/user/login");var a,s=subscribeUnsubscribeEls.indexOf(o.attr("id"));-1<s&&subscribeUnsubscribeEls.splice(s,1),subscribeUnsubscribeOnProgress=!1,0<subscribeUnsubscribeEls.length&&subscribeUnsubscribe($("#"+subscribeUnsubscribeEls[0]))},error:function(e){var t=subscribeUnsubscribeEls.indexOf(o.attr("id"));-1<t&&subscribeUnsubscribeEls.splice(t,1),subscribeUnsubscribeOnProgress=!1,0<subscribeUnsubscribeEls.length&&subscribeUnsubscribe($("#"+subscribeUnsubscribeEls[0]))}}):(login_userid=user_id,"undefined"!=typeof(login_userid=void 0!==t&&"profile"==t?o.attr("data-userid"):login_userid)&&0==login_userid.length&&intentToSignInMetrics(i+" "+r),window.location.href=a))}function updateForumCategories(e,t,a){var s=e.parent().find("a"),e=e.parent(),o=$("<div/>",{class:"Pos(r) listForumItem subscribed Bgc(c-lightgrey-2):h My(3px)"}).appendTo(t);$(s).appendTo(o),$(e).remove(),o.attr("data-name",a),0==$("#subscribed_forum").find(".subscribed").length&&($("#subscribed_forum > div").remove(),$("#subscribed_forum").hide()),sortCategories($(t).find(".subscribed"),t)}function sortCategories(e,t){e.sort(function(e,t){e=e.getAttribute("data-name"),t=t.getAttribute("data-name");return t<e?1:e<t?-1:0}),e.detach().appendTo(t)}$(".jsFollowingButton").hover(function(){$(this).find("span").text($(this).data("hover"))},function(){$(this).find("span").text($(this).data("default"))}),$(".jsButtonFollowingHeader").hover(function(){$(this).find("span").text($(this).data("hover")),$(this).find("i").toggleClass("fa-user-times fa-user-minus")},function(){$(this).find("span").text($(this).data("default")),$(this).find("i").toggleClass("fa-user-times fa-user-minus")}),$(".jsButtonBlockedHeader").hover(function(){$(this).find("span").text($(this).data("hover")),$(this).find("i").toggleClass("fa-user-lock fa-unlock")},function(){$(this).find("span").text($(this).data("default")),$(this).find("i").toggleClass("fa-user-lock fa-unlock")}),$(".flyout__trigger").on("mouseenter",function(){$(".flyout__anchor").show(),$(this).addClass("is-active"),toggleOverlay(),0<$(".flyout__tab__pane > .flyout__category__list").length&&$(".flyout__tab__pane > .flyout__category__list")[0].scrollHeight>$(".flyout__tab__pane > .flyout__category__list").height()&&$(".flyout__tab__pane > .flyout__category__list").siblings(".flyout__scroll--down").addClass("flyout__scroll--on"),0<$(".flyout__subscribed__list").length&&$(".flyout__subscribed__list")[0].scrollHeight>$(".flyout__subscribed__list").height()&&$("flyout__subscribed__list").siblings(".flyout__scroll--down").addClass("flyout__scroll--on")}).on("mouseleave",function(){$(".flyout__anchor").hide(),$(this).removeClass("is-active"),toggleOverlay()}),$(".flyout__content").mouseenter(function(){$(this).closest(".flyout__anchor").show()}).mouseleave(function(){$(this).closest(".flyout__anchor").hide()}),$(".flyout__category__item--has-children , .flyout__category-children__item--has-children").mouseover(function(){$(this).closest(".flyout__content").addClass("flyout__content--triggered"),0<$(this).find(".flyout__category-children__list").first().length&&$(this).find(".flyout__category-children__list").first()[0].scrollHeight>$(this).find(".flyout__category-children__list").first().height()&&$(this).find(".flyout__category-children__list").first().siblings(".flyout__scroll--down").addClass("flyout__scroll--on")}).mouseout(function(){$(this).closest(".flyout__content").removeClass("flyout__content--triggered")}),$(".flyout__subscribed__anchor").mouseover(function(){$(this).closest(".flyout__content").addClass("flyout__content--triggered"),$(this).closest(".flyout__anchor").addClass("flyout__anchor--subscribed"),0<$(this).find(".flyout__subscribed__list").length&&$(this).find(".flyout__subscribed__list")[0].scrollHeight>$(this).find(".flyout__subscribed__list").height()&&$(this).find(".flyout__subscribed__list").siblings(".flyout__scroll--down").addClass("flyout__scroll--on")}).mouseout(function(){$(this).closest(".flyout__content").removeClass("flyout__content--triggered"),$(this).closest(".flyout__anchor").removeClass("flyout__anchor--subscribed")}),$(".flyout__subscribed__panel").mouseover(function(){$(this).siblings(".flyout__subscribed__anchor__link").addClass("flyout__subscribed__anchor__link--hovered")}).mouseout(function(){$(this).siblings(".flyout__subscribed__anchor__link").removeClass("flyout__subscribed__anchor__link--hovered")}),$(".flyout__category__panel").mouseover(function(){$(this).siblings(".flyout__category__link").addClass("flyout__category__link--hovered"),$(this).siblings(".flyout__category-children__link").addClass("flyout__category-children__link--hovered")}).mouseout(function(){$(this).siblings(".flyout__category__link").removeClass("flyout__category__link--hovered"),$(this).siblings(".flyout__category-children__link").removeClass("flyout__category-children__link--hovered")});var positionOverlayHeader,scrolling=!1;function scrollContent(e,t){var a="up"===e?"-=5px":"+=5px";$(t).animate({scrollTop:a},1,function(){scrolling&&scrollContent(e,t)})}function scrollModerationTool(){$(".jsModerationTool").css("top","58px")}function scrollTooltipReputation(){var e=$(window).height(),t=$(window).scrollTop(),a=$(".firstPostBot").offset();0<$(".firstPostBot").length&&t>a.top-e+64&&$(".jsTooltipReputation").addClass("is-visible")}$(".flyout__scroll--down").bind("mouseover",function(e){scrolling=!0,scrollContent("down",$(this).siblings(".flyout__category-children__list")),scrollContent("down",$(this).siblings(".flyout__category__list")),scrollContent("down",$(this).siblings(".flyout__result__list")),scrollContent("down",$(this).siblings(".flyout__subscribed__list"))}).bind("mouseout",function(e){scrolling=!1}),$(".flyout__scroll--up").bind("mouseover",function(e){scrolling=!0,scrollContent("up",$(this).siblings(".flyout__category-children__list")),scrollContent("up",$(this).siblings(".flyout__category__list")),scrollContent("up",$(this).siblings(".flyout__result__list")),scrollContent("up",$(this).siblings(".flyout__subscribed__list"))}).bind("mouseout",function(e){scrolling=!1}),function(n){n.fn.kslzy=function(i,a){var r=n(window),s=this,i=i||0;function e(){var e=s.filter(function(){var e,t,a,s,o;return 0!=n(this).is(":visible")&&(o=n(this),e=(e=void 0)||"visible",1==(t=n(o).closest(".spoiler")).length&&(o=t),t=r.height(),a=r.scrollTop(),s=n(o).offset().top,o=n(o).height(),"visible"==e?s<t+a+i&&a-o-i<s:"above"==e?s<t+a:void 0)}),t="",t=void 0!==a?e.trigger(a):e.trigger("display");s=s.not(t)}return this.one("display",function(){var t,e,a=new Image;"DIV"==n(this).prop("tagName")||"A"==n(this).prop("tagName")?(t=this,a.onload=function(){var e;n(t).removeClass("mls-img").addClass("rjn-img").removeAttr("data-src").hide().fadeIn(),"1"==n(t).attr("data-type")?n(t).css("background-image","url("+this.src+")"):((e=n('<img class="lte-img">')).attr("src",this.src),e.appendTo(n(t)))}):(e=this,a.onload=function(){n(e).removeClass("mls-img").addClass("rjn-img").removeAttr("data-src"),n(e).attr("src",this.src)}),void 0!==n(this).attr("data-src")&&(a.src=n(this).attr("data-src"))}),this.one("fetch_twitter",function(){var s=n(this).prev(),e=n(this).data("url");n.ajax({url:"https://publish.twitter.com/oembed?url="+e,type:"GET",dataType:"jsonp",success:function(e){"object"!=typeof e&&(e=n.parseJSON(e)),n(s).css("max-width","480px"),e.html?n(s).children("div").html(e.html):n(s).children("div").html('<img src="'+assetsFolderNew+'/images/image-twitter-invalid-placeholder.svg" alt="twitter-invalid-placeholder">')},error:function(e,t,a){n(s).css("max-width","480px"),n(s).children("div").html('<img src="'+assetsFolderNew+'/images/image-twitter-invalid-placeholder.svg" alt="twitter-invalid-placeholder">')}})}),this.one("fetch_tiktok",function(){var s=n(this).prev(),e=n(this).data("url");n.ajax({url:"https://www.tiktok.com/oembed?url="+e,type:"GET",dataType:"json",success:function(e){"object"!=typeof e&&(e=n.parseJSON(e)),n(s).css("max-width","480px"),e.html?n(s).children("div").html(e.html):n(s).children("div").html('<img src="'+assetsFolderNew+'/images/image-tiktok-invalid-placeholder.svg" alt="tiktok-invalid-placeholder">')},error:function(e,t,a){n(s).css("max-width","480px"),n(s).children("div").html('<img src="'+assetsFolderNew+'/images/image-tiktok-invalid-placeholder.svg" alt="tiktok-invalid-placeholder">')}})}),this.one("fetch_instagram",function(){var s=n(this).prev(),e=n(this).data("url");n.ajax({url:"https://graph.facebook.com/v16.0/instagram_oembed?url="+e+"&access_token="+FACEBOOK_CLIENT_TOKEN,type:"GET",dataType:"json",success:function(e){(e="object"!=typeof e?n.parseJSON(e):e).html?n(s).html(e.html):n(s).html('<img src="'+assetsFolderNew+'/images/image-ig-invalid-placeholder.svg" alt="ig-invalid-placeholder" style="max-width:480px">')},error:function(e,t,a){n(s).html('<img src="'+assetsFolderNew+'/images/image-ig-invalid-placeholder.svg" alt="ig-invalid-placeholder" style="max-width:480px">')}})}),r.on("scroll.kslzy resize.kslzy lookup.kslzy click.kslzy",e),e(),this}}(window.jQuery||window.Zepto),$(window).bind("scroll",function(){$(".jsLeaderboardSkyscrapper").length&&scrollSkyscrapper(),scrollHeaderSticky(),scrollTooltipReputation(),0<$(".postItemFirst").length&&stickyShare(),scrollModerationTool()});var onTop=!0;function scrollHeaderSticky(){var e=$(".jsNavHeader").offset().top+$(".jsNavHeader").height();$(window).scrollTop()>e?($(".expandSearch form").appendTo(".expandSearchSticky"),$(".jsStickyHeader").css("transform","translateY(0px)"),positionOverlayHeader=0,$(".jsFlyoutAnchor").appendTo(".jsFlyoutTriggerSticky"),$(".jsUserDropdownMenu").appendTo(".jsUserAnchorSticky"),$(".jsNotificationDropdownMenu").appendTo(".jsNotificationAnchorSticky"),$(".jsSearchFormInput").is(":focus")&&$(".jsSearchFormInput").blur(),$(".jsSearchFormInput").blur()):($(".searchResult").hide(),$(".searchInput").css("width","28px"),$(".searchIcon, .searchIconSticky").show(),$(".jsSearchContainer").css("display","none"),$(".jsNavHeaderOverlay").hide(),$(".expandSearchSticky form").appendTo(".expandSearch"),$(".jsStickyHeader").css("transform","translateY(-200px)"),$(".jsFlyoutAnchor").appendTo(".jsFlyoutTrigger"),$(".jsUserDropdownMenu").appendTo(".jsUserAnchor"),$(".jsNotificationDropdownMenu").appendTo(".jsNotificationAnchor"))}function scrollSkyscrapper(){var e=$(".jsLeaderboardSkyscrapper").offset().top,t=$(".jsStickyHeader").height(),a=$(".jsMainContent").outerHeight(!0),s=$(".jsLeaderboardAds").length?$(".jsLeaderboardAds").outerHeight(!0):0,o=$(".jsNoticeBoard").length?$(".jsNoticeBoard").outerHeight(!0)*$(".jsNoticeBoard").length:0,i=$(".jsBreadcrumb").length?$(".jsBreadcrumb").outerHeight(!0):0,r=t+10,a=a+($(".jsBottomLeaderboardAds").length?$(".jsBottomLeaderboardAds").outerHeight(!0):0)+s+o+i-600,s=e-t-10,o=$(".jsMainFooter").offset().top-600-r-30;$(window).scrollTop()>s?($(".jsSkyscrapperAds").css("position","fixed"),$(".jsSkyscrapperAds").css("transform","translateY("+r+"px)"),$(window).scrollTop()>o&&($(".jsSkyscrapperAds").css("position","absolute"),$(".jsSkyscrapperAds").css("transform","translateY("+a+"px)"))):($(".jsSkyscrapperAds").css("position","initial"),$(".jsSkyscrapperAds").css("transform","none"))}function checkStickySubforumSidebar(){var e,t=$(".jsMainContent").offset().top,a=$(".jsMainContent").outerHeight(),s=$(".jsSubforumFixedSidebar").outerHeight();$(window).scrollTop()>t-50?($(".jsSubforumFixedSidebar").css("top","50px"),$(window).scrollTop()>t+a-s-50&&(e=t+a-$(window).scrollTop()-s,$(".jsSubforumFixedSidebar").css("top",e+"px"))):(e=$(".jsMainContent").offset().top-$(window).scrollTop(),$(".jsSubforumFixedSidebar").css("top",e+"px"))}function checkScroller(e){e[0].scrollHeight>e.height()&&(e[0].scrollHeight-e.scrollTop()==e.outerHeight()?e.siblings(".flyout__scroll--down").removeClass("flyout__scroll--on"):0===e.scrollTop()?e.siblings(".flyout__scroll--up").removeClass("flyout__scroll--on"):(e.siblings(".flyout__scroll--down").addClass("flyout__scroll--on"),e.siblings(".flyout__scroll--up").addClass("flyout__scroll--on")))}function toggleOverlay(){"block"!=$(".jsNavHeaderOverlay").css("display")?($(".jsNavHeaderOverlay").show(),$(".jsNavHeaderOverlay").css("top",positionOverlayHeader+"px")):$(".jsNavHeaderOverlay").hide()}function showBottomToast(e,t){$(".jsBottomToast").addClass("is-visible"),$(".jsBottomToast").text(e),setTimeout(function(){$(".jsBottomToast").removeClass("is-visible")},t)}function bindCaretModeratedItem(){document.querySelectorAll(".moderatedPostDetails > details").forEach(e=>{e.addEventListener("toggle",e=>{toggleChevron(e)})})}$(".flyout__category__list").bind("scroll",function(){checkScroller($(this))}),$(".flyout__subscribed__list").bind("scroll",function(){checkScroller($(this))}),$(".flyout__result__list").bind("scroll",function(){checkScroller($(this))}),$(".flyout__category-children__list").bind("scroll",function(){checkScroller($(this))}),bindCaretModeratedItem();class Accordion{constructor(e){this.el=e,this.summary=e.querySelector("summary"),this.content=e.querySelector(".content"),this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.summary.addEventListener("click",e=>this.onClick(e))}onClick(e){e.preventDefault(),this.isClosing||!this.el.open?this.open():(this.isExpanding||this.el.open)&&this.shrink()}shrink(){this.el.style.overflow="hidden",this.isClosing=!0;var e=this.el.offsetHeight+"px",t=this.summary.offsetHeight+"px";this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[e,t]},{duration:400,easing:"ease-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!1),this.animation.oncancel=()=>this.isClosing=!1}open(){this.el.style.overflow="hidden",this.el.style.height=this.el.offsetHeight+"px",this.el.open=!0,window.requestAnimationFrame(()=>this.expand())}expand(){this.isExpanding=!0;var e=this.el.offsetHeight+"px",t=this.summary.offsetHeight+this.content.offsetHeight+"px";this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[e,t]},{duration:400,easing:"ease-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!0),this.animation.oncancel=()=>this.isExpanding=!1}onAnimationFinish(e){this.el.open=e,this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.el.style.height=this.el.style.overflow=""}}const toggleChevron=e=>{var t=e.target.querySelector(".chevronIcon");e.target.open?(t.classList.add("fa-chevron-up"),t.classList.remove("fa-chevron-down")):(t.classList.add("fa-chevron-down"),t.classList.remove("fa-chevron-up"))};function selectBadge(e){$(".jsModal").removeClass("is-open");var t=$(e).attr("data-modal"),t=$("#"+t);t.addClass("is-open"),t.find(".jsModalDialog").addClass("is-animate"),$("body").addClass("Ov(h)"),t.find(".jsBadgeNumber").text("Pilih Badge "+$(e).attr("data-badgenum"))}function bindPopoverMenu(){$("body").on("click",".jsPopoverTrigger",function(){var e=$(".jsPopoverTrigger").not(this);e.removeClass("C(c-blue)").addClass("C(c-primary)"),e.next().removeClass("is-visible"),$(this).next().hasClass("is-visible")?($(this).removeClass("C(c-blue)").addClass("C(c-primary)"),$(this).next().removeClass("is-visible")):($(this).addClass("C(c-blue)").removeClass("C(c-primary)"),$(this).next().addClass("is-visible"))})}function showReplyTools(){$(".jsReplyTools").show(),$(".jsReplyUser").removeClass("Pos(a)"),$(".jsReplyUser span").show(),$(this).removeClass("Px(40px)")}function openModal(e){$(".jsModal").removeClass("is-open");e=$("#"+e);e.addClass("is-open"),e.find(".jsModalDialog").addClass("is-animate"),$("body").addClass("Ov(h)")}function closeModal(){$(".jsModal").removeClass("is-open is-animate"),$("body").removeClass("Ov(h)"),resetInputAvatarAndCoverValue()}function insertBBCode(e,t,a){insertBBCodeElement(e,t,document.querySelector(a))}function insertBBCodeElement(e,t,a){var s=a.selectionStart,o=a.selectionEnd,i=a.value,r=i.substring(s,o);a.value=i.substring(0,s)+e+r+t+i.substring(o),a.dispatchEvent(new Event("input")),a.focus(),a.selectionStart=s+e.length+r.length+t.length,a.selectionEnd=o+e.length}function insertBBCodeNoSelection(e,t){var a=t.selectionStart,s=t.selectionEnd,o=t.value;t.value=o.substring(0,a)+e+o.substring(s),t.dispatchEvent(new Event("input")),t.focus(),t.selectionStart=a+e.length,t.selectionEnd=s+e.length}function getSelectedText(e,t=document){var t=t.querySelector(e),e=t.value,a=t.selectionStart,t=t.selectionEnd;return e.substring(a,t)}function createSpoiler(t){swal("Masukkan Judul Spoiler:",{content:"input"}).then(e=>{null!==e&&insertBBCode("[spoiler="+e+"]","[/spoiler]",t)})}function createLink(t,a=document){var e=getSelectedText(t,a),e=$.parseHTML('<div class="Ta(s)">        <div class="Fz(16px) Mb(10px)">URL:</div>        <input class="swal-content__input" id="jsLinkInputUrl" placeholder="http://">        <div class="Fz(16px) My(10px)">Text to display:</div>        <input value="'+e+'" class="swal-content__input" id="jsLinkMediaInputText" placeholder="Link Url">      </div>');swal({content:e[0],buttons:{confirm:{value:""}}}).then(e=>{null!==e&&(insertBBCodeNoSelection("[url="+$("#jsLinkInputUrl").val()+"]"+$("#jsLinkMediaInputText").val()+"[/url]",a.querySelector(t)),$(a).find(".jsCommunityRulesContainer").length&&setTimeout(()=>$(a).find(".jsCommunityRulesContainer")[0].click(),0))})}function openBBFontDropdown(e,t){$(e).click(function(){$(t).is(":visible")?($(t).addClass("D(n)"),$(e).removeClass("active")):($(".jsBBMention, .jsBBMedia, .jsBBSmilies").removeClass("active"),$(".jsExtraForm").addClass("D(n)"),$(t).removeClass("D(n)"),$(e).addClass("active"))})}function insertBBCodeFont(e,t,a){$(e+" a").click(function(){var e=$(this).data(t);insertBBCode("["+t+"="+e+"]","[/"+t+"]",a)})}function escapeHtml(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(e){return t[e]})}function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}$(".jsBBSpoiler").click(function(){createSpoiler(".jsAdvancedReplyTextarea")}),$(".jsBBLink").click(function(){createLink(".jsAdvancedReplyTextarea")}),$(".jsBBLinkCommunityRules").click(function(){createLink(".jsCommunityRulesTextarea")}),openBBFontDropdown(".jsBBFontName",".jsBBFontPicker"),openBBFontDropdown(".jsBBFontSize",".jsBBSizePicker"),openBBFontDropdown(".jsBBFontColor",".jsBBColorPicker"),openBBFontDropdown(".jsBBSmilies",".jsSmiliesEditor"),openBBFontDropdown(".jsBBMedia",".jsEmbedMediaForm"),insertBBCodeFont(".jsBBFontPicker","font",".jsAdvancedReplyTextarea"),insertBBCodeFont(".jsBBSizePicker","size",".jsAdvancedReplyTextarea"),insertBBCodeFont(".jsBBColorPicker","color",".jsAdvancedReplyTextarea"),$("#search").on("search",function(){$("#search").keyup()});var index,updateSearchResult=!0,regex=/^(.+?)(\d+)$/i;$(document).on("keyup","#search",function(){var e=$(this).val().trim();if($("#category_search").length)if(0<e.length){$("#category_search").show();for(var t=document.getElementsByClassName("searchHlTerm"),a=0;a<t.length;a++)t[a].innerText=e;for(var s=document.getElementsByClassName("categorySearch"),a=0;a<s.length;a++)s[a].setAttribute("data-term",e)}else $("#category_search").hide();var o=$("#search").val().trim().length;updateSearchResult&&((0<$("#category_search").length?0:2)<o?($("#searchInitial").addClass("D(n)"),$("#searchPreliminaryResult").removeClass("D(n)"),$("#searchPreliminaryResult").addClass("D(f)"),$("#history_search_choice").removeClass("jsSearchWrapper"),$("#top_search_choice").removeClass("jsSearchWrapper"),$("#category_search").addClass("jsSearchWrapper"),$("#forum_search_choice").addClass("jsSearchWrapper"),$("#thread_snippet_search").addClass("jsSearchWrapper"),clearTimeout(document.communitysnippet_cid),document.communitysnippet_cid=setTimeout(function(){fetchCategories(!0)},500),clearTimeout(document.threadsnippet_tid),document.threadsnippet_tid=setTimeout(function(){fetchThreadSnippets()},500)):0==o&&($("#searchInitial").removeClass("D(n)"),$("#searchPreliminaryResult").addClass("D(n)"),$("#searchPreliminaryResult").removeClass("D(f)"),$("#category_search").removeClass("jsSearchWrapper"),$("#forum_search_choice").removeClass("jsSearchWrapper"),$("#thread_snippet_search").removeClass("jsSearchWrapper"),$("#history_search_choice").addClass("jsSearchWrapper"),$("#top_search_choice").addClass("jsSearchWrapper"))),highlightSearchResult(e),insertMarginToSearchResultSections(),showEmptySearchResultMessage()}),null===$.cookie("notices")&&$.cookie("notices",JSON.stringify([]),{expires:null,path:"/",domain:"",secure:!1}),bindNotice(),"undefined"!=typeof loadTrhIgnoreHt&&loadTrhIgnoreHt&&bindTrhThreadList(),bindTrhHome(),bindSetThreadDisplay(),bindHtNext(),bindSetFeedDisplay(),bindSetSubscribedForumOrder(),bindSetSubscribedThreadTab(),bindSetjsButtonSubscribe(),bindSetjsCategoryPersonalizationItem(),bindTopicDetailThreadNext(),bindThreadShowcaseNext();{function tlload(){isElementInViewport($("#threadlist-loading-area"))&&0==tl_is_loading&&(data_sort=$("#tl_sort").val(),data_cursor=$("#tl_cursor").val(),data_order=$("#tl_order").val(),data_feed=$("#tl_feed").val(),data_channel=$("#tl_channel").val(),show_thread_list(data_sort,data_cursor,data_order,data_feed,data_channel),tracking_ref=$("#tl_tracking_ref").val(),data_sort_track=$("#tl_sort_track").val(),feed_track=$("#feed_track").val(),dataLayer.push({event:"trackEvent","eventDetails.category":tracking_ref,"eventDetails.action":"load more "+tl_page,"eventDetails.label":feed_track,threadListSort:data_sort_track}))}$("#threadlist-loading-area").length&&(window.addEventListener("resize",tlload,{passive:!0}),window.addEventListener("scroll",tlload,{passive:!0}),window.addEventListener("touch",tlload,{passive:!0}),window.addEventListener("click",tlload,{passive:!0}))}function cloneRepeaterItem(){var e=$(".jsRepeaterItem").length,t=1,a=($(this).closest(".jsRepeater").find(".jsRepeaterItem").first().clone().hide().appendTo(".jsRepeaterList"),$(this).closest(".jsRepeater").find(".jsRepeaterItem").last());a.find(".jsErrorNote").remove(),a.find('input[type="text"]').val(""),a.slideDown(200),2==e&&$(".jsRepeaterItem > div.radio").append('<button class="jsRepeaterButtonRemove"><i class="fas fa-times"></i></button>'),44==e&&$(".jsRepeaterButtonAdd").hide(),$(this).closest(".jsRepeater").find(".jsRepeaterItem").each(function(){$(this).find("input").attr("id","repeaterItem-"+t),$(this).find("input").attr("placeholder","Pilihan "+t),$(this).find("input").attr("name","options["+t+"]"),t++})}function removeRepeaterItem(){$(this).closest(".jsRepeaterItem").remove();var e=$(".jsRepeaterItem").length,t=1;$(".jsRepeaterItem").each(function(){$(this).find("input").attr("id","repeaterItem-"+t),$(this).find("input").attr("placeholder","Pilihan "+t),t++}),2==e&&$(".jsRepeaterItem").find(".jsRepeaterButtonRemove").remove(),44==e&&$(".jsRepeaterButtonAdd").show()}function stickyShare(){var e=$(window).scrollTop(),t=$(".jsThreadRating"),a=$(".postItemFirst");e<a.offset().top+a.height()&&e>t.offset().top?$(".jsShareBtn").addClass("scrolled"):$(".jsShareBtn").removeClass("scrolled")}function bindJsTippy(){tippy(".jsTippy",{theme:"translucent",arrow:!0,size:"small"})}var source,filename,dataFile,rnd,dataTypeUploaded,timeout=null,sourceCdn=1,sourceImageBucket=2,sourceVideoBucket=3;function get_smilies_newthread(){var e;(localSmilies=get_MRU_revamp())&&(e={smilies:$.param(localSmilies)}),$.ajax({method:"POST",url:"/misc/get_smilies_newthread",data:e||{},success:function(e){e=JSON.parse(e),smilies=JSON.parse(e.kaskus),$(".jsSmiliesEditor").replaceWith(e.content),e.mru?($("#content-mru").addClass("active"),load_MRU_revamp()):$("#mru").hide(),show_tab(".smiley-wrapper .smiley-tab .tab-content > .active"),sceditorInstance?$(".smiley-tab__item").find(".smilie__in-action").not(".smiley-tab__item--unavailable").click(function(){insert_smilies_newthread(this.children)}):$(".smiley-tab__item").find(".smilie__in-action").not(".smiley-tab__item--unavailable").click(function(){save_smiley_localStorage(insert_smilie_reply(this));var e=$(this.children).attr("title");eventTracking("smiley",$(".tabNavItem.is-active .tabNavIcon").attr("data-title"),e)}),$("#emoticons").show()}})}function convert_to_video(e){return/(.+giphy\.com.+)\/.+\.gif$/g.exec(e)[1]+"/giphy-downsized-small.mp4"}function insert_smilie_reply(e){var t=$(".jsCreateThreadContent").find("textarea"),e=e.children;return insertCaretPosition($(e).attr("alt")+" ",t),$(e).attr("alt")}function get_giphy_newthread(t,a){$.ajax({method:"POST",url:"/misc/get_giphy/0",cache:!1,data:{keyword:a}}).done(function(e){giphy=JSON.parse(e),$("#tab"+t).html(giphy),$("#search-giphy").focus(),a&&$("#search-giphy").val(a)})}function get_MRU_revamp(){var e=[];if(localStorage[mru_key]&&(mru=JSON.parse(localStorage[mru_key]))){for(var t in mru)-1<t.search("smilie")&&e.push(mru[t]);var a={smilies:e}}return a||{}}function load_MRU_revamp(){var e=$("#content-mru").find(".loadMRU");return e&&$.each(e,function(e,t){$(t).attr("src",$('.loadSmilies[alt="'+$(t).attr("data-smilie")+'"]').attr("src")),$(t).attr("title",$('.loadSmilies[alt="'+$(t).attr("data-smilie")+'"]').attr("title")),$(t).attr("alt",$('.loadSmilies[alt="'+$(t).attr("data-smilie")+'"]').attr("alt"))}),!0}function save_smiley_localStorage(e){if(localStorage){if(a=JSON.parse(localStorage.getItem(mru_key)))for(var t in a)t==="smilie"+e&&delete a[t];else var a=new Object;mru_limit==Object.keys(a).length&&delete a[Object.keys(a)[0]],a["smilie"+e]=e,localStorage.setItem(mru_key,JSON.stringify(a))}}function eventTracking(e,t,a){_gaq.push(["_trackEvent",e,t,a]),dataLayer.push({event:"trackEvent","eventDetails.category":e,"eventDetails.action":t,"eventDetails.label":a})}function intentSignInTrack(e,t){var a=new RegExp(/([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]{2,6}/i),s=$("#username").val();0<s.trim().length&&eventTracking(e,t,null!==a.exec(s)?"email":"kaskus")}function get_autocomplete_mention(e,o,i){var t=$(".sctoken").val();$.ajax({url:KASKUS_URL+"/misc/get_user_mention/",type:"post",data:{keyword:e,securitytoken:t,isAt:o},xhrFields:{withCredentials:!0},success:function(e){if("object"!=typeof e&&(e=$.parseJSON(e)),o){var t,a,s=[];for(a in e.data)t={name:e.data[a].username,usertitle:e.data[a].userTitle,avatarpicture:e.data[a].avatarpicture},s.push(t);i(s)}else e.success?$(".mentionList").html(e.view):$(".mentionList").html("");$(".sctoken").val(e.securitytoken)}})}function insert_smilies_newthread(e){if(localStorage){if(a=JSON.parse(localStorage.getItem(mru_key)))for(var t in a)t==="smilie"+$(e).attr("alt")&&delete a[t];else var a=new Object;mru_limit==Object.keys(a).length&&delete a[Object.keys(a)[0]],$(e).attr("alt"),a["smilie"+$(e).attr("alt")]=$(e).attr("alt"),localStorage.setItem(mru_key,JSON.stringify(a))}sceditorInstance.inSourceMode()?sceditorInstance.insert($(e).attr("alt")):sceditorInstance.insert('<img src="'+$(e).attr("src")+'" data-sceditor-emoticon="'+$(e).attr("alt")+'" border="0" alt="emoticon-'+$(e).attr("title")+'" title="'+$(e).attr("title")+'">',null,!1);var s=$(e).attr("title");eventTracking("smiley",$(".tabNavItem.is-active .tabNavIcon").attr("data-title"),s)}function checkEmptyGalery(){if(0==$jQ(".galery-list-wrapper").find("li").length){$jQ(".jsEmbedMediaFormButton").show(),$jQ(".jsEmbedMediaGallery").hide();var e=$jQ(".jsEmbedMediaForm").find("input");for(i=0;i<e.length;i++)$jQ(e[i]).attr("id")?$jQ(e[i]).removeAttr("id"):$jQ(e[i]).attr("id","browse")}}function ajaxEmbedMedia(e){$.ajax({type:"POST",url:KASKUS_URL+"/embed/embed_media/",data:{url:e},success:function(e){var t,e="object"!=typeof e?$.parseJSON(e):e;e.status?(sceditorInstance?sceditorInstance.insert(e.embed):(t=$(".jsCreateThreadContent").find("textarea"),insertCaretPosition(e.embed,t)),insertThumbnailMedia(e)):swal("Embed Gagal","Link tidak dapat dikenali","error")}})}function insertMyEmbedMedia(s){var e=(url=s.split("?")[0]).match(/^(https?:\/\/)?(www.)?(m\.)?soundcloud\.com\/[\w\-\.]+(\/)+[\w\-\.]+$/);null!=e?$.ajax({type:"GET",url:"https://soundcloud.com/oembed?url="+e[0]+"&format=json",async:!1,success:function(e){regexpatternTrackId=/(tracks\/|^)(\d+)/;e=$(e.html).attr("src"),e=(e=decodeURIComponent(e)).match(regexpatternTrackId);ajaxEmbedMedia(s="https://api.soundcloud.com/tracks/"+e[2])},error:function(e,t,a){ajaxEmbedMedia(s)}}):ajaxEmbedMedia(s)}function insertThumbnailMedia(e){var t=$jQ(".galery-list-wrapper"),a=t.find("li").last(),s=e.thumbnail,e=e.embed,s='<li class="W(1/8) P(5px)">      <div class="Pos(r) H(0) Pb(100%)">          <img class="Mx(a) D(b) Bdrs(3px) oFitCover Pos(a) H(100%) W(100%) insert-embed-thumbnail" src="'+s+"\" data-embed='"+e+'\'>          <button type="button" class="delete-embed-thumbnail Pos(a) T(-5px) End(-5px) Fz(18px) C(c-red) Bgc(c-white) Bdrs(50%) W(18px) H(18px) Lh(18px) C(c-red-bright):h"><i class="fas fa-times-circle"></i></button>          <input type="hidden" name="thumbnails[]" value="'+s+'"><input type="hidden" name="embeds[]" value=\''+e+"'>      </div>    </li>";0<a.length?$jQ(s).insertAfter(a):(switchMediaGalery(),t.append(s))}function microtime(e){var t=(new Date).getTime()/1e3,a=parseInt(t,10);return e?t:Math.round(1e3*(t-a))/1e3+" "+a}function switchMediaGalery(){if(0==(e=$jQ(".galery-list-wrapper")).find("li").last().length){$jQ(".jsEmbedMediaFormButton").toggle(),$jQ(".jsEmbedMediaGallery").toggle();var e=$jQ(".jsEmbedMediaForm");if(0==$(".jsEmbedMediaMmtForm").length){var t=e.find("input");for(i=0;i<t.length;i++)$jQ(t[i]).attr("id")?$jQ(t[i]).removeAttr("id"):$jQ(t[i]).attr("id","browse")}}}function showErrorMessageUpload(e){e=e.replace(/[<]br[^>]*[>]/gi,""),swal("Upload Gagal",e,"error"),window.onbeforeunload=null,switchDisableButtonMedia(!1)}function switchDisableButtonMedia(e){var t=$jQ(".jsEmbedMediaForm"),a=t.find("input");for(i=0;i<a.length;i++)$jQ(a[i]).prop("disabled",e);var s=t.find(".jsMyEmbedMedia");for(i=0;i<s.length;i++)$jQ(s[i]).prop("disabled",e)}function showLoading(e,t=!0){var a,s=$jQ(".galery-list-wrapper");e?(e=s.find("li").last(),a='<li class="W(1/8) P(5px) loading-thumbnail">        <div class="Pos(r)">            <img class="Mx(a) D(b) Bdrs(3px)" src="'+(assetsFolderNew+"/images/ic-loading-dots.svg")+'">        </div>      </li>',0<e.length?$jQ(a).insertAfter(e):s.append(a)):(s.find(".loading-thumbnail").remove(),t&&checkEmptyGalery())}function insertThumbnail(e,t){showLoading(!1,!1);var a=$jQ(".galery-list-wrapper"),s=a.find("li").last(),e='<li class="W(1/8) P(5px)">      <div class="Pos(r) H(0) Pb(100%)">          <img class="Mx(a) D(b) Bdrs(3px) oFitCover Pos(a) H(100%) W(100%) insert-embed-thumbnail" src="'+e+"\" data-embed='"+t+'\'>          <button type="button" class="delete-embed-thumbnail Pos(a) T(-5px) End(-5px) Fz(18px) C(c-red) Bgc(c-white) Bdrs(50%) W(18px) H(18px) Lh(18px) C(c-red-bright):h"><i class="fas fa-times-circle"></i></button>          <input type="hidden" name="thumbnails[]" value="'+e+'"><input type="hidden" name="embeds[]" value=\''+t+"'>      </div>    </li>";0<s.length?$jQ(e).insertAfter(s):a.append(e),switchDisableButtonMedia(!1),showBottomToast("Berhasil menambah media",3e3)}function getExtension(e){e=e.split(".");return e[e.length-1]}function isVideoBucketExtension(e){return-1<allowedVideoMimes.indexOf(e)}function isImageBucketExtension(e){e=getExtension(e);return-1<["gif"].indexOf(e.toLowerCase())}function proceedUploadVideo(e,t=void 0){var a=$(".direct-upload#video-upload-form"),a=(url=a.attr("action"),source=sourceVideoBucket,dataTypeUploaded=e.type,filename=(videoFolders.length?videoFolders.join("/")+"/":"")+awsKey,filename+="_"+microtime(!0)+"_."+e.name.split(".").pop(),a.find('input[name="Content-Type"]').val(e.type),a.find('input[name="key"]').val(filename),new FormData(a[0]));a.set("file",e),doUpload(url,a,handleResult,t)}function proceedUploadImage(e,t=void 0){var a=$(".direct-upload#image-upload-form"),a=(url=a.attr("action"),source=sourceImageBucket,dataTypeUploaded=e.type,filename=(imageFolders.length?imageFolders.join("/")+"/":"")+awsKey,filename+="_"+microtime(!0)+"_."+e.name.split(".").pop(),a.find('input[name="Content-Type"]').val(e.type),a.find('input[name="key"]').val(filename),new FormData(a[0]));a.set("file",e),doUpload(url,a,handleResult,t)}function uploadVideo(o,i=void 0){var r=document.createElement("video"),e=URL.createObjectURL(o);r.src=e,r.onloadedmetadata=function(){var e=r.duration,t=VIDEO_MAX_LENGTH/60,a=o.size,s="";URL.revokeObjectURL(r.src),e>VIDEO_MAX_LENGTH&&(s+="Durasi video maksimal "+t+" menit. "),a>VIDEO_MAX_FILESIZE&&(s+="Ukuran file maksimal "+VIDEO_MAX_FILESIZE_MB+" MB."),""!=s?(i&&i(),showErrorMessageUpload(s)):proceedUploadVideo(o,i)}}function hideElementByClass(e){$(e).removeClass("D(b)"),$(e).removeClass("D(f)"),$(e).addClass("D(n)")}function showBlockElementByClass(e){$(e).removeClass("D(n)"),$(e).addClass("D(b)")}function showFlexElementByClass(e){$(e).removeClass("D(n)"),$(e).addClass("D(f)")}$(".jsTagList").on("click",".jsShowTagSuggestion",function(){showBlockElementByClass(".jsShowTagSuggestionModal"),hideElementByClass(".jsTagSuggestion"),toggleSubmitTagsButton($(".changeTag").val())}),$(".jsTagList").on("click",".tagItem",function(){eventTracking($(this).parent().data("event-category"),"open tag thread",$(this).text())}),$(".jsTagListModal").on("click",".tagItem",function(){eventTracking($(this).parent().data("event-category"),"open tag thread",$(this).text())}),$(".jsShowTagSuggestionModalClose").click(function(){hideElementByClass(".jsShowTagSuggestionModal"),showFlexElementByClass(".jsTagSuggestion")}),$(".changeTag").on("select2:select select2:unselect",function(e){toggleSubmitTagsButton($(this).val())}),$(".jsSubmitTag").click(function(){var e=$("#form_thread_tags").attr("action"),t=$("#form_thread_tags").serialize();$.ajax({url:e,dataType:"json",type:"post",data:t,success:function(a){var s,o,e,t;1==(a="object"!=typeof a?$.parseJSON(a):a).result&&(e=t=o=s="",t=0<a.tags.length?($(".jsTagList").attr("class","D(f) Ai(fs) Mstart(8px) Fx(flex1Auto) Fxw(w) Fz(14px) jsTagList"),$(".jsShowTagSuggestion").attr({class:"jsShowTagSuggestion jsTippy Fz(14px) Mx(4px) Mb(8px) D(b) Bgc(c-white) C(c-blue) Px(8px) Py(4px) Bd(borderSolidGray2) Fw(500) Bdrs(3px)","data-current-tags":JSON.stringify(a.tags)}),$.each(a.tags,function(e,t){o=a.search_path+t,s+='<a href="'+o+'" class="Mx(4px) Mb(8px) D(b) Bgc(c-white) C(c-blue) Px(8px) Py(4px) Bd(borderSolidGray2) Fw(500) Bdrs(3px) tagItem"> '+t+" </a>"}),e=$("button.jsShowTagSuggestion").clone().wrap("<div/>").parent().html(),s+e):($(".jsTagList").attr("class","Mstart(12px) D(f) Fx(flexOne) C(c-secondary) jsTagList"),$(".jsShowTagSuggestion").attr({class:"jsShowTagSuggestion Fx(flexZero) Mx(4px) D(b) Bgc(c-white) C(c-blue) Px(8px) Py(4px) Bd(borderSolidGray2) Fw(500) Bdrs(3px)","data-current-tags":JSON.stringify(a.tags)}),'<div class="Bgc(c-blue-1-transparent) Fx(flexOne) Bdrs(5px) Py(4px) Ta(c) Fz(14px) noTagList">'+a.no_tags_caption+"</div>"+(e=$("button.jsShowTagSuggestion").clone().wrap("<div/>").parent().html())),$(".jsTagList").html(t)),$(".sctoken").val(a.securitytoken),showBottomToast(a.message,2e3),$(".jsShowTagSuggestionModalClose").click()}})});var changeTagList=$(".changeTag"),searchTagList=(0<changeTagList.length&&changeTagList.select2({minimumResultsForSearch:1/0,dropdownCssClass:"sfthFormDropdown"}),$(".searchByTag"));function toggleSubmitTagsButton(e){e=JSON.stringify(e),JSON.stringify($("button.jsShowTagSuggestion").data("current-tags"))==e||"[]"==e?$("button.jsSubmitTag").attr({class:"jsSubmitTag Fz(14px) Fw(500) C(c-grey) Bgc(c-grey-light) Bd(0) Px(40px) Py(8px) H(36px) Bdrs(3px)",disabled:!0}):$("button.jsSubmitTag").attr({class:"jsSubmitTag Fz(14px) Fw(500) C(c-white) Bgc(c-blue-1) Bd(0) Px(40px) Py(8px) H(36px) Bdrs(3px)",disabled:!1})}function openCamera(e){showBlockElementByClass($(e).next(".jsCameraBox"))}function uploadImage(o,i=void 0){var r=new Image,e=URL.createObjectURL(o);r.src=e,r.onload=function(){var e=r.width,t=r.height,a="",s=o.size;URL.revokeObjectURL(r.src),s>IMAGE_MAX_FILESIZE&&(a+="Ukuran GIF maksimal "+IMAGE_MAX_FILESIZE_MB+". "),(99999<t/e||t/e<.2)&&(a+="Rasio GIF tidak disupport."),""!=a?(i&&i(),showErrorMessageUpload(a)):proceedUploadImage(o,i)}}function isCdnExtension(e){e=getExtension(e);return-1<["jpg","jpeg","png"].indexOf(e.toLowerCase())}function checkUploadStatus(e){setTimeout(function(){getUploadStatus(e)},1e3)}function getUploadStatus(i){var e,t,a=i.split(".");source==sourceImageBucket?(e="/misc/get_imageupload_status/",t=a.splice(0,a.length-1).join(".")):source==sourceVideoBucket&&(e="/misc/get_videoupload_status/",t=i),$.ajax({url:e+hex_md5(str_to_ent(t)),success:function(e){var t,a,s,o,e=$.parseJSON(e);e.processing?setTimeout(function(){getUploadStatus(i)},3e3):e.success?(t=$.parseJSON(e.message),source==sourceImageBucket?(s=(a=awsCdn+"/"+t.filename)+".png",o=["[video]","[/video]"],removeLoadingContentUploadPopupGif(a)):source==sourceVideoBucket&&(a=(a=e.video_url).split("/").pop(),s=awsCdn+"/"+t.thumbnail,o=["[kaskus_video]","[/kaskus_video]"],$jQ("#newthread-upload-wrapper").after('<input type="hidden" name="additionalData['+a+']" value="'+s+'">'),removeLoadingContentUploadPopupVideo(e.video_url,a)),insertThumbnail(s,o[0]+a+o[1]),window.onbeforeunload=null):e.message&&(showErrorMessageUpload(e.message),$("#"+rnd).remove(),$("#newthread-upload-button").show())}})}function addLoadingContentUploadPopup(){$("#uploadPreviewLoading").show(),$("#uploadPreviewImg").hide(),$("#uploadPreviewImg").removeAttr("src"),$("#uploadPreviewGif").hide(),$("#uploadPreviewGif").removeAttr("src"),$("#uploadPreviewVideo").hide(),$("#uploadPreviewVideo").removeAttr("src"),$("#uploadPreviewVideo").removeAttr("data-embed"),$(".embedImagePopupSubmitBtn").addClass("Bgc(c-gray-2) C(c-gray-4)").removeClass("Bgc(c-blue-hover):h Bd(borderSolidBlue) Bd(borderSolidBlueHover):h").attr("disabled",!0).css("cursor","default"),$("#uploadedMediaCaption").val("")}function removeLoadingContentUploadButtonHandling(){$(".embedImagePopupSubmitBtn").addClass("Bgc(c-blue-hover):h Bd(borderSolidBlue) Bd(borderSolidBlueHover):h").removeClass("Bgc(c-gray-2) C(c-gray-4)").attr("disabled",!1).css("cursor","pointer")}function removeLoadingContentUploadPopup(e){var t="[img]"+e+"[/img]";$("#uploadPreviewLoading").hide(),$("#uploadPreviewImg").attr("src",e).attr("data-embed",t).show(),removeLoadingContentUploadButtonHandling()}function removeLoadingContentUploadPopupGif(e){$("#uploadPreviewLoading").hide();var t=$("#uploadPreviewGif");t.attr("src",e),t.show(),removeLoadingContentUploadButtonHandling()}function removeLoadingContentUploadPopupVideo(e,t){$("#uploadPreviewLoading").hide();var a=$("#uploadPreviewVideo");a.attr("src",e),a.attr("data-embed",t),a.show(),removeLoadingContentUploadButtonHandling()}function handleResultTypeText(e,t=void 0){rnd=$("#browse").attr("data-rnd"),e.hasOwnProperty("securitytoken")&&$(".sctoken").val(e.securitytoken),"ok"==e.status||"Created"==e.statusText?(source==sourceCdn?(removeLoadingContentUploadPopup(e.url),window.onbeforeunload=null):source!=sourceImageBucket&&source!=sourceVideoBucket||checkUploadStatus(filename),$("#browse").attr("data-rnd","rnd_"+ +new Date)):(t&&t(),showErrorMessageUpload(e.error))}function handleResult(e,t=void 0){var a;rnd=$("#browse").attr("data-rnd"),e.hasOwnProperty("securitytoken")&&$(".sctoken").val(e.securitytoken),"ok"==e.status||"Created"==e.statusText?(source==sourceCdn?(a="[img]"+e.url+"[/img]",insertThumbnail(e.url,a),window.onbeforeunload=null):source!=sourceImageBucket&&source!=sourceVideoBucket||checkUploadStatus(filename),$("#browse").attr("data-rnd","rnd_"+ +new Date)):(t&&t(),showErrorMessageUpload(e.error))}function doUpload(e,t,a,s=void 0){$.ajax({url:e,method:"POST",data:t,dataType:"json",contentType:!1,cache:!1,processData:!1,statusCode:{200:function(e){a(e,s)},201:function(e){a(e,s)}},error:function(e,t){201!=e.status&&(showErrorMessageUpload("Terjadi kesalahan memproses data."),s&&s())}})}function resetUploadMediaTextType(){$("#browse-media").wrap("<form>").closest("form").get(0).reset(),$("#browse-media").unwrap()}function insertCaretPosition(e,t){var a=jQuery(t),s=a.val(),o=a[0].selectionStart,i=a[0].selectionEnd;$(t).val(s.substring(0,o)+e+s.substring(i,s.length)),a.focus(),a[0].selectionStart=o+e.length,a[0].selectionEnd=o+e.length}0<searchTagList.length&&searchTagList.select2({minimumResultsForSearch:1/0,dropdownCssClass:"sfthFormDropdown",placeholder:window.KASKUS_lang.tag_placeholder,sorter:e=>e.sort((e,t)=>e.selected<t.selected)}),document.is_sending=!1,document.last_sent="";var preview_url=KASKUS_URL+"/misc/preview_post_ajax";function send_once(){clearTimeout(document.tid),document.tid=setTimeout(function(){preview()},3e3)}function preview(){var e,t;if("undefined"!==jQuery.type($("#reply-messsage").val()))return $("#preview-title").text($("#form-title").val()),t=(e=$("input[name=parseurl]").is(":checked")?1:0)+$("#reply-messsage").val()+$("#form-title").val(),!document.is_sending&&document.last_sent!=t&&(document.last_sent=t,0==$("#reply-messsage").val().length&&0==$("#form-title").val().length?($("#preview-code").html(""),!1):(void 0===window.IS_QUICKNEWTHREAD&&(window.IS_QUICKNEWTHREAD=0),$("#draft_last_updated").html("Menyimpan..."),document.is_sending=!0,void $.ajax({url:preview_url,type:"post",data:{message:$("#reply-messsage").val(),parseurl:e,forum_id:$("#forum_id").val(),icon_id:parseInt($("input[name=iconid]:checked").val()),title:$("#form-title").val(),draft_id:$("#draft_id").val(),is_quicknewthread:window.IS_QUICKNEWTHREAD},xhrFields:{withCredentials:!0},success:function(e){document.is_sending=!1;e=$.parseJSON(e);e.message&&($("#preview-code").html(e.message),notice("Post preview updated &nbsp;&nbsp;&nbsp;<a href=\"javascript:scroll_to('preview-code')\">Click to view</a>",4e3),$(".mls-img").kslzy(300)),e.draft_last_updated&&($("#draft_id").val(e.draft_id),$("#draft_last_updated").removeClass(),$("#draft_last_updated").addClass("editor-draft editor-draft--success"),$("#draft_last_updated").html("Terakhir disimpan: "+e.draft_last_updated).css("color","#1998ed").animate({color:"#676767"},2e3)),e.draft_error&&($("#draft_last_updated").removeClass(),$("#draft_last_updated").css("color",""),$("#draft_last_updated").addClass("editor-draft editor-draft--error"),$("#draft_last_updated").html(e.draft_error)),preview()},error:function(e){document.is_sending=!1,preview()}})))}function change_preview_mode(s){var e=($("input[name=parseurl]").is(":checked")?1:0)+$("#reply-messsage").val()+$("#form-title").val();document.is_sending||document.last_sent==e||0==$("#reply-messsage").val().length&&0==$("#form-title").val().length?($(".jsEditorContainer").hide(),$(".jsPreviewContainer").show(),s.find("span").text("Edit")):(preview(),s.attr("disabled",!0),s.addClass("Bd(borderSolidGray2 C(c-gray-2)"),s.removeClass("Bd(borderSolidBlue) C(c-blue) Bgc(c-white-blue-hover):h"),$(document).ajaxComplete(function(e,t,a){a.url==preview_url&&($(".jsEditorContainer").hide(),$(".jsPreviewContainer").show(),s.removeAttr("disabled"),s.removeClass("Bd(borderSolidGray2 C(c-gray-2)"),s.addClass("Bd(borderSolidBlue) C(c-blue) Bgc(c-white-blue-hover):h"),s.find("span").text("Edit"))})),0<$("#reply-messsage").val().length||0<$("#form-title").val().length?(0==$("#form-title").val().length?$("#preview-title").hide():$("#preview-title").show(),$("#empty-text-preview").hide(),$("#exist-text-preview").show()):($("#empty-text-preview").show(),$("#exist-text-preview").hide())}function change_edit_mode(e){$(".jsEditorContainer").show(),$(".jsPreviewContainer").hide(),e.find("span").text("Preview")}function bindOnboardingStep2(){$(document).on("click","#back-button-onboarding",function(){$("#onboarding-step-1").removeClass("D(n)"),$("#onboarding-step-2").addClass("D(n)"),$(".modal-indicator").first().addClass("Bgc(c-gray-7)").removeClass("Bgc(c-gray-4)"),$(".modal-indicator").last().addClass("Bgc(c-gray-4)").removeClass("Bgc(c-gray-7)")}),$(document).on("click",".jsJoinButton",function(){(button=$(this).find("button")).toggleClass("C(c-white) Bgc(c-blue) C(c-blue-1) Bgc(c-white) Bd(borderSolidBlue1)"),button.text(button.text().trim()===window.KASKUS_lang.btn_forum_select?window.KASKUS_lang.btn_forum_selected:window.KASKUS_lang.btn_forum_select),(checkBoxes=$(this).find("input[type=checkbox]")).prop("checked",!checkBoxes.prop("checked")),2<$(".jsJoinButton button.Bgc\\(c-white\\)").length?$("#final-button-onboarding").addClass("C(c-white) Bgc(c-blue)").removeClass("C(c-grey) Bgc(c-gray-2) Cur(d)").removeAttr("disabled"):$("#final-button-onboarding").addClass("C(c-grey) Bgc(c-gray-2) Cur(d)").removeClass("C(c-white) Bgc(c-blue)").attr("disabled")}),$(document).on("click","#final-button-onboarding",function(){if(2<$(".jsJoinButton button.Bgc\\(c-white\\)").length){var e,t=$("#select_forum").attr("action"),a=$("#select_forum").serialize(),s=($.ajax({url:t,dataType:"json",type:"post",data:a,success:function(e){"object"!=typeof e&&$.parseJSON(e)}}),a.split("&"));for(e in s){var o=s[e].split("=")[1];dataLayer.push({event:"trackEvent","eventDetails.category":"community interaction","eventDetails.action":"join community","eventDetails.label":"onboarding community",forumID:$("#obForum"+o).data("forum-id"),forumName:$("#obForum"+o).data("forum-name"),forumParentID:$("#obForum"+o).data("forum-parent-id"),forumParentName:$("#obForum"+o).data("forum-parent-name"),channelID:$("#obForum"+o).data("channel-id"),channelName:$("#obForum"+o).data("channel-name"),forumSubscriber:"1"})}showBottomToast(window.KASKUS_lang.ob_toast_subscribed,2e3),setTimeout(()=>{location.reload()},3e3)}})}function playSlideAnimation(e){"none"===$(e).css("display")?$(e).slideDown():$(e).slideUp()}$(document).ready(function(){tippy(".jsTippyBold",{arrow:!0,size:"small"});for(var e=document.querySelectorAll(".plus-price"),t=0;t<e.length;t++)e[t].checked&&(document.querySelector(".jsPlusPriceTotal").textContent=document.getElementById("packet"+e[t].value).textContent),e[t].addEventListener("change",function(){this.checked&&(document.querySelector(".jsPlusPriceTotal").textContent=document.getElementById("packet"+this.value).textContent)});var s=document.querySelectorAll(".jsHiddenVideoTrigger"),s=(s&&s.forEach(e=>{var t=document.createElement("div");t.classList.add("Pos(a)","T(0)","Start(0)","W(100%)","H(100%)"),t.innerHTML=`<iframe class="W(100%) H(100%)" src="https://tv.kaskus.co.id/api/embed/video/${e.dataset.url}?autoplay=1" allow="fullscreen" data-video="${e.dataset.url}"></iframe>`,e.addEventListener("click",e=>{e=e.target.closest(".jsHiddenVideo");e.classList.remove("is-active"),e.querySelector(".jsHiddenVideoContainer").classList.remove("D(f)"),e.querySelector(".jsHiddenVideoContainer").classList.add("D(n)"),e.querySelector("img").classList.add("D(n)"),e.insertAdjacentElement("beforeend",t)})}),document.querySelectorAll(".jsHiddenImageTrigger")),s=(s&&s.forEach(e=>{e.addEventListener("click",e=>{e=e.target.closest(".jsHiddenImage");e.classList.remove("is-active"),e.querySelector(".jsHiddenImageContainer").classList.remove("D(f)"),e.querySelector(".jsHiddenImageContainer").classList.add("D(n)"),e.querySelector("img").src=e.querySelector("img").dataset.srcOriginal})}),document.querySelectorAll(".sidebarAccordion"));const o=[];s&&s.forEach(e=>{const t=new Accordion(e);o.push(t),e.addEventListener("toggle",e=>{toggleChevron(e)}),e.addEventListener("click",()=>{o.forEach(e=>{e!==t&&e.shrink()})})}),$(".jsOpenCamera").click(function(){openCamera($(this)),hideElementByClass($(this))}),$(".jsCloseCamera").click(function(){hideElementByClass($(this).parent()),showBlockElementByClass($(this).closest(".jsCameraContainer").find(".jsOpenCamera"))}),$(".jsRemoveFromBlacklist").click(function(e){e.preventDefault();e=$(this).parents(".jsBlacklistCard").find(".jsBlacklistUserName")[0].innerHTML;let t=$(this).data("userid");swal({text:"Menghapus "+e+" dari daftar blocklist. Yakin?",icon:"error",buttons:["Batal","Hapus"],dangerMode:!0}).then(e=>{e&&($("#target_userid").val(t),$("#unblacklistForm").submit())})});var i,r,n;document.querySelectorAll(".toogle-chevron > details").forEach(e=>{e.addEventListener("toggle",e=>{var t=e.target.querySelector(".chevronIcon");e.target.open?(t.classList.add("fa-chevron-up"),t.classList.remove("fa-chevron-down")):(t.classList.add("fa-chevron-down"),t.classList.remove("fa-chevron-up"))})}),0<$("body").find(".jsSmiliesEditor").length&&get_smilies_newthread();function l(e){var t=e+$("#form-title").val(),a=(s=$(".createThreadTag").find(":selected")).length,s=s.map(function(){return $(this).val()}).toArray();document.is_sending||document.last_sent==t&&document.last_selected_tag_count==a||(document.is_sending=!0,document.last_sent=t,document.last_selected_tag_count=a,$(".draft-info").html("Menyimpan..."),$.ajax({url:KASKUS_URL+"/misc/post_draft/",type:"post",data:{message:e,parseurl:1,forum_id:$("#forum_id").val(),title:$("#form-title").val(),content:$("#reply-messsage").val(),draft_id:$("#draft_id").val(),thread_tags:s},xhrFields:{withCredentials:!0},success:function(e){document.is_sending=!1,"object"!=typeof e&&(e=$.parseJSON(e)),$(".draft-info").html(""),e.draft_error&&$(".draft-info").html(e.draft_error),e.draft_last_updated&&($("#draft_id").val(e.draft_id),$(".draft-info").html("Terakhir disimpan: "+e.draft_last_updated).css("color","#1998ed").animate({color:"#676767"},2e3),$("#draft_sidebar ul.draft-content").html($(e.view).find("ul.draft-content").html())),d()},error:function(e){document.is_sending=!1}}))}function d(){var e=$("#draft_sidebar ul.draft-content li").not(".draftItemPlaceholder");$("#draft-head").html("Draft ("+e.length+")"),0<e.length?$(".draftItemPlaceholder").addClass("D(n)"):$(".draftItemPlaceholder").removeClass("D(n)")}$(".mainContent, .qr-section, .small-reply").on("keyup",".autocomplete-mention",function(e){var t=$(".autocomplete-mention").val();0<(t=t.trim()).length?13===e.keyCode?(clearTimeout(i),get_autocomplete_mention(t,!1)):(clearTimeout(i),i=setTimeout(function(){return get_autocomplete_mention(t,!1),!1},1e3)):($(".autocomplete-mention").val(""),$(".mentionList").html(""))}),$(".mainContent, .qr-section, .small-reply").on("keydown",".autocomplete-mention",function(e){if(13===e.keyCode)return e.preventDefault(),!1}),$(".jsEditorContainer").on("click",".jsNgetopTabButton",function(){"Giphy"==$(this).data("category")&&get_giphy_newthread(n=$(this).data("tabnum"));var e=$(".jsNgetopTabButton").index(this);$(".jsNgetopTabButton").removeClass("is-active"),$(this).addClass("is-active"),$(".jsNgetopTabLine").css("transform","translateX("+$(this).position().left+"px)"),$(".jsNgetopTabContent").css("transform","translateX(-"+100*e+"%)"),$(".jsNgetopTabContent").css("height",$(".jsNgetopTabContent > div:nth-child("+(e+1)+")").height())}),$(".jsEditorContainer").on("keydown","#search-giphy",function(e){13===e.keyCode?(clearTimeout(r),e.preventDefault(),query=e.target.value,get_giphy_newthread(n,query)):(clearTimeout(r),r=setTimeout(function(){return giphy_keyword=e.target.value,get_giphy_newthread(n,giphy_keyword),!1},1e3))}),$(".jsEditorContainer").on("click",".giphy-smilie li a",function(){var e=$(".jsCreateThreadContent").find("textarea"),t=this.children,a=$(t).attr("data-src")+" ";convert_to_video($(t).attr("src"));insertCaretPosition(a,e)}),$(".mainContent").on("click",".user-mention",function(e){var t="[mention]"+$(this).find(".username-mention").text()+"[/mention]";sceditorInstance?sceditorInstance.insert(t):insertCaretPosition(t,$(".jsCreateThreadContent").find("textarea")),$(".mentionList").html(""),$(".autocomplete-mention").val(""),$(".jsMentionContainer").removeClass("is-visible"),$(".jsButtonMention").removeClass("active"),e.stopPropagation()}),$(".jsStarRating").on("click",function(){var e=$jQ(this).attr("data-star-index");$("#ratingReply").val(e)}),$(".form-submit-reply").submit(function(e,t){0<$("#add_to_warehouse:checked").length&&$("#add_to_warehouse:checked").parent().is(":visible")&&!t&&(e.preventDefault(),$.ajax({url:KASKUS_URL+"/misc/check_creator_length",data:{message:sceditorInstance.val()},type:"POST",success:function(e){(e="object"!=typeof e?$.parseJSON(e):e).success?$(".form-submit-reply").trigger("submit",{}):swal({text:e.text,icon:"warning",buttons:{cancel:"Batal",confirm:"Post"},dangerMode:!0}).then(function(e){e&&$(".form-submit-reply").trigger("submit",{})})}}))}),$("#button-save-draft").click(function(){l(sceditorInstance.val())}),$("#draft_sidebar").on("click",".qnt-draft-add",function(){var s=$(this).data("draft-id");$.ajax({url:KASKUS_URL+"/quicknewthread/get_one_draft/"+s,type:"GET",success:function(e){var t,a;(e="object"!=typeof e?$.parseJSON(e):e).result?(t=e.draft,sceditorInstance.val(t.content),$(sceditorInstance.getBody()).removeClass("placeholder"),$("#form-title").focus(),$("#form-title").val(t.title),$("#draft_id").val(s),(a=0)!=t.forum_id&&(a=t.forum_id),$("#forum_id").val(a),$("#forum_id").trigger("change",[t.tags]),$("#draft_sidebar ul.draft-content").html($(e.view).find("ul.draft-content").html()),d(),p()):swal("Draft tidak ditemukan").then(function(){""!=e.view&&($("#draft_sidebar ul.draft-content").html($(e.view).find("ul.draft-content").html()),d())})}})}),$("#draft_sidebar").on("click",".qnt-draft-delete",function(){var a=this;swal({text:"Draft akan dihapus. Yakin?",icon:"warning",buttons:{cancel:"Batal",confirm:"Hapus"},dangerMode:!0}).then(function(e){var t;e&&(t=$(a).data("draft-id"),$.ajax({url:KASKUS_URL+"/quicknewthread/delete_one_draft/"+t,type:"GET",success:function(e){(e="object"!=typeof e?$.parseJSON(e):e).result?($("#draft_id").val()==t&&$("#draft_id").val(""),$("#draft_sidebar ul.draft-content").html($(e.view).find("ul.draft-content").html()),d()):swal("Draft tidak ditemukan").then(function(){""!=e.view&&($("#draft_sidebar ul.draft-content").html($(e.view).find("ul.draft-content").html()),d())})}}))})}),$(".jsToolbarSCEditorAnchor").on("click",".jsNgetopTabButton",function(){"Giphy"==$(this).data("category")&&get_giphy_newthread(n=$(this).data("tabnum"));var e=$(".jsNgetopTabButton").index(this);$(".jsNgetopTabButton").removeClass("is-active"),$(this).addClass("is-active"),$(".jsNgetopTabLine").css("transform","translateX("+$(this).position().left+"px)"),$(".jsNgetopTabContent").css("transform","translateX(-"+100*e+"%)"),$(".jsNgetopTabContent").css("height",$(".jsNgetopTabContent > div:nth-child("+(e+1)+")").height())}),$(".jsToolbarSCEditorAnchor").on("keydown","#search-giphy",function(e){13===e.keyCode?(clearTimeout(r),e.preventDefault(),query=e.target.value,get_giphy_newthread(n,query)):(clearTimeout(r),r=setTimeout(function(){return giphy_keyword=e.target.value,get_giphy_newthread(n,giphy_keyword),!1},1e3))}),$(".jsToolbarSCEditorAnchor").on("click",".giphy-smilie li a",function(){a=this.children,emoticon=$(a).attr("data-src")+" ",converted_link=convert_to_video($(a).attr("src")),sceditorInstance.inSourceMode()?sceditorInstance.insert($(a).attr("data-src")):sceditorInstance.insert('<video class="c-giphy__preview" autoplay loop data-src="'+converted_link+'"> <source src="'+converted_link+'" type="video/mp4"> </video>&nbsp',null,!1)}),$(".createThreadTag").on("change",function(){clearTimeout(document.postdraft_tid),document.postdraft_tid=setTimeout(function(){l(sceditorInstance.val())},3e3)}),$(".jsToolbarSCEditorAnchor").on("click",".tabNavIcon",function(){eventTracking("smiley",$(this).attr("data-title"),"click")}),sceditorInstance&&($("#form-title").bind("keyup",function(){clearTimeout(document.tid),document.tid=setTimeout(function(){l(sceditorInstance.val())},1e3)}),s=$(".jsCreateThreadContent iframe")[0],$(sceditorInstance.getBody()).atwho("setIframe",s).atwho({at:"@",limit:8,displayTpl:"<li class='D(f)'><img class='Bdrs(50%) Mend(10px)' src='${avatarpicture}' height='35' width='35'/> <div class='Fx(flexOne)'><div>${name}</div><div class='Fz(11px) small'>${usertitle}</div></div> </li>",insertTpl:"<a href='/${atwho-at}${name}' target='_blank' class='mention'>${atwho-at}${name}</a>",callbacks:{remoteFilter:function(e,t){clearTimeout(i),i=setTimeout(function(){get_autocomplete_mention(e,!0,t)},1e3)}}}),void 0!==document.hidden?c="visibilitychange":void 0!==document.mozHidden?c="mozvisibilitychange":void 0!==document.msHidden?c="msvisibilitychange":void 0!==document.webkitHidden&&(c="webkitvisibilitychange"),document.addEventListener(c,function(){setTimeout(function(){sceditorInstance.expandToContent()},500)})),$("body").on("change","#browse-media",function(){var e,t=$("#browse-media"),a={};if(rnd=$("#browse-media").attr("data-rnd"),null!=(dataFile=t[0].files[0])){window.onbeforeunload=function(){return"You have unsaved changes."};function s(){_("uploadMedia")}if(addLoadingContentUploadPopup(),showFlexElementByClass(".jsUploadedMediaPreview"),showBlockElementByClass(document.querySelector(".jsBackgroundOverlay")),document.querySelector("body").style.overflow="hidden",isCdnExtension(t.val())){if(source=sourceCdn,(e=new FormData).append(t[0].name,dataFile),e.append("securitytoken",$(".sctoken").val()),a[rnd])return;a[rnd]=!0,doUpload("/misc/upload_image/",e,handleResultTypeText,s)}else if(isImageBucketExtension(t.val()))uploadImage(dataFile,s);else{if(!isVideoBucketExtension(dataFile.type))return showErrorMessageUpload("Ekstensi tidak didukung."),resetUploadMediaTextType(),void s();uploadVideo(dataFile,s)}resetUploadMediaTextType()}}),$("body").on("change","#browse",function(){var e,t=$("#browse"),a={};rnd=$("#browse").attr("data-rnd"),null!=(dataFile=t[0].files[0])&&(window.onbeforeunload=function(){return"You have unsaved changes."},switchMediaGalery(),switchDisableButtonMedia(!0),showLoading(!0),isCdnExtension(t.val())?(source=sourceCdn,(e=new FormData).append(t[0].name,dataFile),e.append("securitytoken",$(".sctoken").val()),a[rnd]||(a[rnd]=!0,doUpload("/misc/upload_image/",e,handleResult))):isImageBucketExtension(t.val())?uploadImage(dataFile):isVideoBucketExtension(dataFile.type)?uploadVideo(dataFile):showErrorMessageUpload("Ekstensi tidak didukung."))}),$("body").on("click",".jsMyEmbedMedia",function(){swal({text:"Embed media",content:{element:"input",attributes:{placeholder:"Masukan link media di sini"}}}).then(function(e){e&&insertMyEmbedMedia(e=e.trim())}),$(".swal-content .swal-content__input").before('<div class="Ta(c) Mb(10px)">                <div>                  <i title="Youtube" class="fab fa-youtube"></i>                  <i title="Vimeo" class="fab fa-vimeo-square"></i>                  <i title="Soundcloud" class="fab fa-soundcloud"></i>                  <i title="Twitch" class="fab fa-twitch"></i>                  <i title="Facebook Video" class="icon icon-facebook-video"></i>                  <i title="Dailymotion" class="icon icon-daily-motion"></i>                  <i title="Smule" class="icon icon-smule"></i>                  <i title="Twitter" class="fab fa-twitter"></i>                  <i title="Instagram" class="fab fa-instagram"></i>                </div>              </div>')}),$("body").on("click",".insert-embed-thumbnail",function(e){e=e.target.dataset.embed;sceditorInstance?sceditorInstance.insert(e):insertCaretPosition(e,$(".jsCreateThreadContent").find("textarea"))}),$("body").on("click",".delete-embed-thumbnail",function(t){swal("Media akan dihapus. Yakin?",{buttons:{cancel:"Batal",confirm:{text:"Hapus",value:!0}},dangerMode:!0}).then(function(e){e&&($jQ(t.currentTarget).parents("li").remove(),checkEmptyGalery())})}),null!=document.getElementById("preview-title")&&($(".jsPreviewPost").click(function(){var e=$(this);($(".jsEditorContainer").is(":visible")?change_preview_mode:change_edit_mode)(e)}),0<(s=$("#form-title").val()).length&&$("#preview-title").text(s),$("input[name=parseurl]").change(function(){send_once()}),preview()),$(document).on("click",".jsSearchStickyBtn",function(){$(".jsSearchTrigger, .jsSearchSticky").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(".jsSearchTrigger, .jsSearchSticky").hasClass("is-clicked")&&$(".jsSearchFormInput").focus()}),$(".jsSearchTrigger, .jsSearchSticky").addClass("is-clicked"),$(".jsSearchResult").addClass("is-open"),$(".jsNavHeaderOverlay").show(),$(".jsSearchOutterWrapper").show()});var c=$(".createThreadTag"),s=(0<c.length&&c.select2({minimumResultsForSearch:1/0,dropdownCssClass:"sfthFormDropdown",placeholder:window.KASKUS_lang.tag_placeholder,sorter:e=>e.sort((e,t)=>e.selected<t.selected)}),$("#edit-profile-gender").select2({minimumResultsForSearch:1/0,placeholder:"Pilih jenis kelamin"}),$("#edit-profile-country").select2({minimumResultsForSearch:5,placeholder:"Pilih negara"}),$("#edit-profile-province").select2({minimumResultsForSearch:5,placeholder:"Pilih provinsi"}),$("#user-options-badges").select2({minimumResultsForSearch:1/0}),$("#user-options-comments").select2({minimumResultsForSearch:1/0}),$("#user-options-subscription").select2({minimumResultsForSearch:1/0}),$("#banDuration").select2({minimumResultsForSearch:1/0,placeholder:"Pilih opsi lama waktu ban",dropdownCssClass:"banDurationDropdown"}),$("#account-deactivation-reason").select2({minimumResultsForSearch:1/0,placeholder:"Pilih alasan"}),$("#account-deactivation-reason").on("select2:select",function(e){"Lainnya"===e.params.data.id?$(".jsDeactivationReasonTextarea").show():$(".jsDeactivationReasonTextarea").hide()}),$(".communitySettingsKeyword")),c=(0<s.length&&s.select2({minimumResultsForSearch:1/0,tags:!0,tokenSeparators:[","],dropdownCssClass:"communitySettingsKeywordDropdown"}),$(".communityCreateKeyword"));0<c.length&&c.select2({minimumResultsForSearch:1/0,tags:!0,tokenSeparators:[","],dropdownCssClass:"communityCreateKeywordDropdown"});const u=document.querySelectorAll(".jsCommunityTerms");u.forEach(t=>{t.addEventListener("click",function(e){u.forEach(e=>{e.classList.remove("is-active")}),t.classList.add("is-active")})});s=document.querySelector(".communitySettingsKeywordDropdown"),s&&s.remove(),c=document.querySelector(".jsEditProfileBirthday");function p(e,t,a){var s=e.val().length,e=a?e.closest(a).find($(".jsCharacterCounter")):$(".jsCharacterCounter");e.text(t-s),t<s?(e.addClass("C(c-red)"),e.removeClass("C(c-tertiary)")):(e.addClass("C(c-tertiary)"),e.removeClass("C(c-red)"))}c&&flatpickr(c,{altInput:!0,altFormat:"d-m-Y",dateFormat:"Y-m-d",maxDate:new Date}),$(".jsStarRating").click(function(){var e=$(this).data("star-index");$(this).addClass("is-active"),$(".jsStarRating").removeClass("C(c-yellow-1)");for(var t=e;0<t;t--)$(".jsThreadRating").find("[data-star-index='"+t+"']").addClass("C(c-yellow-1)")}),$(".jsAdvancedReplyTextarea").keyup(function(){p($(".jsAdvancedReplyTextarea"),2e4)}),$(".jsBlacklistTextarea").keyup(function(){p($(".jsBlacklistTextarea"),$(".jsBlacklistTextarea").attr("maxLength"))}),$(".jsCommunitySettingsTextarea").keyup(function(){p($(".jsCommunitySettingsTextarea"),$(".jsCommunitySettingsTextarea").attr("maxLength"))}),$(".jsVideoDescriptionTextarea").keyup(function(){p($(".jsVideoDescriptionTextarea"),$(".jsVideoDescriptionTextarea").attr("maxLength"))}),$(".jsCommunityRulesTextarea").keyup(function(e){p(e.target,$(".jsCommunityRulesTextarea").attr("maxLength"),$(".jsCommunityRulesItem"))}),$("#lapor-hansip-form").find("textarea").keyup(function(){p($(this),1500)}),$(".jsExpandRemoveThread").click(function(){($(".jsExpandRemoveThreadContainer").hasClass("D(n)")?showBlockElementByClass:hideElementByClass)(".jsExpandRemoveThreadContainer")}),$(document).on("click",".jsRepeaterButtonRemove",removeRepeaterItem),$(document).on("click",".jsRepeaterButtonAdd",cloneRepeaterItem),2==$(".jsRepeaterItem").length&&$(".jsRepeaterItem").find(".jsRepeaterButtonRemove").remove(),$("#jsToolbarSCEditor").on("click",".createdPoll",function(){changeValueCreatedPoll(this)}),$(".jsClosePolling").on("click",function(){changeValueCreatedPoll(this)}),checkcreatedPoll();var m,h=document.querySelectorAll(".notifContainer"),s=(h&&h.forEach(t=>{t.addEventListener("click",()=>{h.forEach(e=>{e!==t&&e.removeAttribute("open")})})}),$(".jsCloseBtn").click(function(e){$(".jsTooltipReputation").removeClass("is-visible")}),$(".jsModal").click(function(e){$(e.target).closest(".jsModalContent").length||($(".jsModal").removeClass("is-open is-animate"),$("body").removeClass("Ov(h)"),resetInputAvatarAndCoverValue())}),"function"==typeof uploadAvatar&&uploadAvatar(),"function"==typeof uploadAvatarSquare&&uploadAvatarSquare(),"function"==typeof uploadCover&&uploadCover(),scrollHeaderSticky(),$(document).on("click",".jsNgetopTabButton",function(){var e=$(".jsNgetopTabButton").index(this);$(".jsNgetopTabButton").removeClass("is-active"),$(this).addClass("is-active"),$(".jsNgetopTabLine").css("transform","translateX("+$(this).position().left+"px)"),$(".jsNgetopTabContent").css("transform","translateX(-"+100*e+"%)"),$(".jsNgetopTabContent").css("height",$(".jsNgetopTabContent > div:nth-child("+(e+1)+")").height())}),$(".jsTabComponent").length&&$(".jsTabComponent").each(function(){var e=$(this).find(".jsTabButton.is-active"),t=$(this).find(".jsTabButton").index(e);$(this).find(".jsTabLine").css("width",e.outerWidth()+"px"),$(this).find(".jsTabLine").css("transform","translateX("+e.position().left+"px)"),$(this).find(".jsTabLine").show(),$(this).find(".jsTabComponentContent").css("transform","translateX(-"+100*t+"%)"),$(this).find(".jsTabComponentContent").css("height",$(".jsTabComponentContent > div:nth-child("+(t+1)+")").height())}),$(document).on("click",".jsTabButton",function(){var e=$(".jsTabButton").index(this);$(this).closest(".jsTabComponent").find(".jsTabButton").removeClass("is-active"),$(this).addClass("is-active"),$(this).closest(".jsTabComponent").find(".jsTabLine").css("width",$(this).outerWidth()+"px"),$(this).closest(".jsTabComponent").find(".jsTabLine").css("transform","translateX("+$(this).position().left+"px)"),$(this).closest(".jsTabComponent").find(".jsTabComponentContent").css("transform","translateX(-"+100*e+"%)"),$(this).closest(".jsTabComponent").find(".jsTabComponentContent").css("height",$(".jsTabComponentContent > div:nth-child("+(e+1)+")").height()),$(".jsTabButton").hasClass("cendol is-active")?($(this).closest(".jsTabComponent").find(".jsTabLine").css("background-color","#50ae5e"),$(this).parents().closest(".modal-section").find(".modal-header > div").addClass("cendol"),$(".modal-header > div").hasClass("bata")?$(".modal-header > div").removeClass("bata"):$(".modal-header > div").removeClass("cendol")):$(".jsTabButton").hasClass("bata is-active")?($(this).closest(".jsTabComponent").find(".jsTabLine").css("background-color","#d0021b"),$(this).parents().closest(".modal-section").find(".modal-header > div").addClass("bata")):$(this).closest(".jsTabComponent").find(".jsTabLine").css("background-color","#0082c6")}),$(document).on("click",".jsTabNav",function(){var e=$(".jsTabNav").index(this);$(this).closest(".jsTabElement").find(".jsTabNav").removeClass("is-active"),$(this).addClass("is-active"),$(this).closest(".jsTabElement").find(".jsTabContent").removeClass("is-show"),$(this).closest(".jsTabElement").find(".jsTabContent").eq(e).addClass("is-show")}),$(".all-badges").on("click",function(e){e.preventDefault(),badge()}),$(".moderate-di").on("click",function(e){e.preventDefault(),moderate()}),$("#pagination").html(""),$("#search_connection").unbind("click").on("click",function(){searchConnection()}),$("#search_connection_keyword").unbind("keydown").bind("keydown",function(e){13===e.keyCode&&searchConnection()}),new Swiper(".jsRecommendedCommunitySwiper",{slidesPerView:2.5,spaceBetween:16,navigation:{nextEl:".jsRecommendedCommunitySwiper .jsWidgetButtonNext",prevEl:".jsRecommendedCommunitySwiper .jsWidgetButtonPrev"}}),new Swiper(".jsKaskusTvSwiper",{slidesPerView:"auto",navigation:{nextEl:".jsKaskusTvSwiper .jsWidgetButtonNext",prevEl:".jsKaskusTvSwiper .jsWidgetButtonPrev"}})),c=(s.on("reachEnd",function(){$(".jsKaskusTvSwiper").addClass("is-end")}),s.on("fromEdge",function(){$(".jsKaskusTvSwiper").removeClass("is-end")}),new Swiper(".jsHotTopicSwiper",{slidesPerView:"auto",navigation:{nextEl:".jsHotTopicSwiper .jsWidgetButtonNext",prevEl:".jsHotTopicSwiper .jsWidgetButtonPrev"}})),s=(c.on("reachEnd",function(){$(".jsHotTopicSwiper").addClass("is-end")}),c.on("fromEdge",function(){$(".jsHotTopicSwiper").removeClass("is-end")}),new Swiper(".jsTopCommunitySwiper",{slidesPerView:1,navigation:{nextEl:".jsTopCommunitySwiper .jsWidgetButtonNext",prevEl:".jsTopCommunitySwiper .jsWidgetButtonPrev"}}),new Swiper(".jsTopForumSwiper",{slidesPerView:"auto",navigation:{nextEl:".jsTopForumSwiper .jsWidgetButtonNext",prevEl:".jsTopForumSwiper .jsWidgetButtonPrev"}}),new Swiper(".jsLiveSwiper",{slidesPerView:"auto",pagination:{el:".jsWidgetPagination",type:"bullets"},navigation:{nextEl:".jsLiveSwiper .jsWidgetButtonNext",prevEl:".jsLiveSwiper .jsWidgetButtonPrev"}}),new Swiper(".jsTopKreatorSwiper",{slidesPerView:"auto",navigation:{nextEl:".jsTopKreatorSwiper .jsWidgetButtonNext",prevEl:".jsTopKreatorSwiper .jsWidgetButtonPrev"}}),$(document).on("click",".jsThreadCardShare",function(){var e=$(".jsThreadCardShare").not(this);$(this);return setTimeout(function(){e.closest(".jsThreadCard").find(".jsShareBar").removeClass("is-visible")},300),e.closest(".jsThreadCard").find(".jsShareBarList").removeClass("is-show"),$(this).closest(".jsThreadCard").find(".jsShareBar").hasClass("is-visible")?($(this).closest(".jsThreadCard").find(".jsShareBar").removeClass("is-visible"),$(this).closest(".jsThreadCard").find(".jsShareBarList").removeClass("is-show")):($(this).closest(".jsThreadCard").find(".jsShareBar").addClass("is-visible"),$(this).closest(".jsThreadCard").find(".jsShareBarList").addClass("is-show"),createHorizontalShareMenu($(this).closest(".jsThreadCard").find(".jsShareBar"))),!1}),$(document).on("click",".jsThreadCardShareClose",function(e){var t=$(this);return t.closest(".jsShareBar").find(".jsShareBarList").removeClass("is-show"),setTimeout(function(){t.closest(".jsShareBar").removeClass("is-visible")},300),!1}),bindJsTippy(),flatpickr(".jsDatepickerPolling",{minDate:(new Date).fp_incr(1),dateFormat:"d-m-Y",locale:"id"}),bindQNTForumDropdown(),document.querySelector(".jsCommunityDescriptionShowMore"));s&&s.addEventListener("click",e=>{e.target.classList.remove("LineClamp(3,50px)")}),new ClipboardJS(".jsClipboardButton").on("success",function(e){showBottomToast("Link Tersalin","2000")}),hotkeys("shift+x, shift+r, shift+left, shift+right",function(e,t){switch(t.key){case"shift+x":$(".spoiler input[type=button]").click();break;case"shift+r":(link=$(".jsButtonPostReply").attr("href"))&&(window.location=link);break;case"shift+left":(link=$(".pagination .jsPrevPage").attr("href"))&&(window.location=link);break;case"shift+right":(link=$(".pagination .jsNextPage").attr("href"))&&(window.location=link)}}),$(".jsButtonSmilies").click(function(){$(this).next($(".jsSmiliesContainer")).hasClass("is-visible")?($(this).next($(".jsSmiliesContainer")).removeClass("is-visible"),$(this).removeAttr("style")):($(this).removeAttr("style"),$(this).next($(".jsSmiliesContainer")).addClass("is-visible"),$(this).css("color","var(--c-blue-1)"))}),$(".jsButtonMention").click(function(){$(this).parents().find($(".jsMentionContainer")).hasClass("is-visible")?($(this).parents().find($(".jsMentionContainer")).removeClass("is-visible"),$(this).removeClass("active"),$(this).removeAttr("style")):($(this).removeAttr("style"),$(this).parents().find($(".jsMentionContainer")).addClass("is-visible"),$(this).css("color","var(--c-blue-1)"),$(this).addClass("active"),setTimeout(function(){$(".jsMentionContainer input").focus()},310))}),$(document).on("click",".jsSubscribeThreadIcon",function(){return subscribeUnsubscribe($(this)),!1}),$(".jsReplyTextArea").focus(function(){showReplyTools()}),$(document).mousedown(function(e){m=$(e.target)}),$(document).mouseup(function(e){m=null}),$(".jsReplyTextArea").blur(function(e){$(m).closest(".jsReplyTools").length||$(m).closest(".jsButtonReply").length||$(".jsReplyTextArea").length&&0==$(".jsReplyTextArea").val().length&&($(".jsReplyTools").hide(),$(".jsReplyUser").addClass("Pos(a)"),$(".jsReplyUser span").hide(),$(".jsReplyTextArea").addClass("Px(40px)"))}),$(".jsBBNumberList").click(function(){var t;t=".jsAdvancedReplyTextarea",swal("Masukkan Angka Awal:",{content:"input"}).then(e=>{null!==e&&insertBBCode("[list="+e+"]\n[*]","\n[/list]",t)})}),autosize($(".jsReplyTextArea")),autosize($(".jsNestedReplyTextArea")),bindPopoverMenu(),bindThreadListShareMenuData(),$(".is-remove-all").mousedown(function(e){e.preventDefault()}),$(document).on("click",".jsModalTrigger",function(){$(".jsModal").removeClass("is-open");var e=$(this).attr("data-modal"),e=$("#"+e);e.addClass("is-open"),e.find(".jsModalDialog").addClass("is-animate"),$("body").addClass("Ov(h)")}),$(".jsBadgeAdd").click(function(){selectBadge($(this).closest(".jsBadgeContainer").find(".jsBadgeSelect"))}),$(".jsBadgeSelect").click(function(){selectBadge(this)}),$(".jsBadgeStatus").click(function(){$(this).closest(".jsBadgeContainer").removeClass("is-selected"),$(this).closest(".jsBadgeContainer").find("img").attr("src",assetsFolderNew+"/images/default_badge.png"),$(this).find(".jsBadgeAdd").removeClass("D(n)"),$(this).find(".jsBadgeAdd").addClass("D(f)"),$(this).find(".jsBadgeRemove").addClass("D(n)"),$(this).find(".jsBadgeRemove").removeClass("D(f)")});var g,f=document.querySelector("#user-options-badges"),c=(f&&(f.onchange=function(){"badge"===f.options[f.selectedIndex].value?$(".jsBadgeChooser").removeClass("D(n)"):$(".jsBadgeChooser").addClass("D(n)")}),$(document).on("click",".jsModalCloseButton",function(){closeModal()}),$(".mls-img").kslzy(300),$("body").on("click",".jsChannelForumButton",function(){$(this).closest(".jsChannelForumItem").hasClass("is-open")?($(this).closest(".jsChannelForumItem").removeClass("is-open"),$(this).find("i").removeClass("fa-minus-circle").addClass("fa-plus-circle"),$(this).closest(".jsChannelForumItem").find(".jsChannelForumList").slideUp()):($(this).closest(".jsChannelForumItem").addClass("is-open"),$(this).find("i").removeClass("fa-plus-circle").addClass("fa-minus-circle"),$(this).closest(".jsChannelForumItem").find(".jsChannelForumList").slideDown())}),0<$(".flyout__trigger").length&&$(".flyout__trigger").hover(function(){header_get_popular_list(),catLoaded||fetchCategories()}),$("body").on("click",".jsFormPasswordToggle",function(){var e=$(this).closest(".jsFormPassword").find(".jsFormPasswordInput"),t=$(this).closest(".jsFormPassword").find("i");"text"!=e.attr("type")?(t.removeClass("fa-eye"),t.addClass("fa-eye-slash"),e.attr("type","text")):(t.removeClass("fa-eye-slash"),t.addClass("fa-eye"),e.attr("type","password"))}),document.querySelector(".jsCreatePostOptionsTrigger")),v=document.querySelector(".jsBackgroundOverlay"),s=document.querySelector(".jsCloseIconGeneral");function _(e){e=document.getElementById(e);e&&(e.value=""),document.querySelectorAll(".modal-relative").forEach(e=>{hideElementByClass(e)}),hideElementByClass(v),document.querySelector("body").style.overflow="auto"}c&&c.addEventListener("click",function(){showBlockElementByClass(document.querySelector(".jsCreatePostOptions")),showBlockElementByClass(v),document.querySelector("body").style.overflow="hidden"}),s&&s.addEventListener("click",_),v&&v.addEventListener("click",_),g="#uploadMedia",(c=document.querySelector(g))&&c.addEventListener("change",function(){var e,t;showFlexElementByClass(".jsUploadedMediaPreview"),showBlockElementByClass(v),document.querySelector("body").style.overflow="hidden",e=g,(t=new FileReader).readAsDataURL(document.querySelector(e).files[0]),t.onload=function(e){document.getElementById("uploadPreview").src=e.target.result}});s=document.querySelector(".jsEmbedImageToThread");function b(){var e,t=".jsSearchResult .jsSearchWrapper li:eq("+indexSelected+")";$(t).find("a").hasClass("categorySearch")?e=$(t).find("span").text():$(t).find("a").hasClass("forumSearch")?(e=$(t).find("a #forum_name").text(),void 0!==$(t).find("a").attr("data-url")&&$("#searchform").attr("data-url",$(t).find("a").attr("data-url"))):$(t).find("a").hasClass("threadSnippetSearch")?(e=$(t).find("a #thread_title").text(),void 0!==$(t).find("a").attr("data-url")&&$("#searchform").attr("data-url",$(t).find("a").attr("data-url"))):(e=$(t).find("a").text(),$("#searchform").removeAttr("data-url")),$("#search").val(e),$(t).addClass("Bgc(c-semiwhite)"),$("#search").attr("value",e),$("#search").blur(),$("#search").focus(),updateSearchResult=!1}s&&s.addEventListener("click",function(){var e=document.getElementById("uploadPreview").src.split(",").pop(),t=document.getElementById("uploadedMediaCaption").value,a=(document.getElementById("uploadedMediaCaption").value="",window.atob(e)),s=new Array(a.length);for(let e=0;e<a.length;e++)s[e]=a.charCodeAt(e);e=new Uint8Array(s),e=new Blob([e],{type:"image/png"}),e=URL.createObjectURL(e);""===t?sceditorInstance.insert("<img src='"+e+"' />",null,!1):sceditorInstance.insert("<div style='text-align: center'><img src='"+e+"' /></div><div style='text-align: center'>"+t+"</div>",null,!1),_("uploadMedia")}),$(".jsEmbedImagePopupSubmit").click(function(){var e=$("#uploadedMediaCaption").val(),t=$("#uploadPreviewImg").attr("src");$("#uploadPreviewImg").is(":visible")&&(t=$("#uploadPreviewImg").attr("src"),sceditorInstance&&(e?sceditorInstance.insert('<div style="text-align: center"><img style="max-width:100%" src="'+t+'" ></img></div><div style="text-align: center">'+e+"</div>",null,!1):sceditorInstance.insert('<img style="max-width:100%" src="'+t+'" ></img>',null,!1))),$("#uploadPreviewGif").is(":visible")&&(t=$("#uploadPreviewGif").attr("src"),sceditorInstance&&(e?(sceditorInstance.insert("[center][video]"+t+"[/video][/center]"),sceditorInstance.insert("[center]"+e+"[/center]")):sceditorInstance.insert(sceditorInstance.insert("[video]"+t+"[/video]")))),$("#uploadPreviewVideo").is(":visible")&&(t=$("#uploadPreviewVideo").attr("data-embed"),sceditorInstance&&(e?(sceditorInstance.insert("[center][kaskus_video]"+t+"[/kaskus_video][/center]"),sceditorInstance.insert("[center]"+e+"[/center]")):sceditorInstance.insert(sceditorInstance.insert("[kaskus_video]"+t+"[/kaskus_video]")))),_("uploadMedia")}),$(".jsFirstPostItemTrigger").click(function(){$(".jsFirstPostItemContent").hasClass("is-hide")?($(".jsFirstPostItemContent").removeClass("is-hide"),$(".jsFirstPostItemContent").slideDown(),$(this).find("i").removeClass("fa-angle-down").addClass("fa-angle-up"),$(this).find("span").text("Sembunyikan Isi Thread")):($(".jsFirstPostItemContent").addClass("is-hide"),$(".jsFirstPostItemContent").slideUp(),$(this).find("i").removeClass("fa-angle-up").addClass("fa-angle-down"),$(this).find("span").text("Lihat Isi Thread"),$("html, body").animate({scrollTop:$(".jsFirstPostItemContent").offset().top-300},400))}),$("#thread_post_list").on("click",".jsShowNestedTrigger",function(e){var t=$(this).attr("data-replycount");$(this).parent().next().hasClass("is-hide")?($(this).parent().next().removeClass("is-hide"),$(this).parent().next().slideDown(),$(this).find("i").removeClass("fa-angle-down").addClass("fa-angle-up"),$(this).find("span").text("Tutup Balasan")):($(this).parent().next().addClass("is-hide"),$(this).parent().next().slideUp(),$(this).find("i").removeClass("fa-angle-up").addClass("fa-angle-down"),$(this).find("span").text("Lihat "+t+" balasan"))}),$(".jsSpoilerTrigger").click(function(e){$(this).closest(".jsSpoiler").toggleClass("is-open"),$(this).find("i").toggleClass("fa-angle-down fa-angle-up"),$(this).closest(".jsSpoiler").hasClass("is-open")?($(this).find("span").text("Hide"),$(this).closest(".jsSpoiler").find(".jsSpoilerContent").first().slideDown()):($(this).find("span").text("Show"),$(this).closest(".jsSpoiler").find(".jsSpoilerContent").first().slideUp())}),$(".jsTabLink").click(function(){var e=$(this).attr("data-tab");$(".jsTabLink, .jsTabContent").removeClass("is-active"),$(this).addClass("is-active"),$("#"+e).addClass("is-active")}),$(".jsSearchStickyWrapper").css("width",$(".jsCategoryContainer").width()+30),$(".jsStickyHeader .jsSearchStickyWrapper").css("width",.67*$(".ListChannel-sticky").width()),$(".jsSearchFormInput").focus(function(){$(".jsSearchResult").addClass("is-open"),$(".jsNavHeaderOverlay").show(),$(".jsSearchStickyWrapper").css("min-height","700px")}),$(".jsSearchFormInput").blur(function(){$(".jsSearchResult").removeClass("is-open"),$(".jsNavHeaderOverlay").hide(),$(".jsSearchStickyWrapper").css("min-height","30px")}),$(".jsModalCloseButton").click(function(){$(".jsModal").removeClass("is-open"),$("body").removeClass("Ov(h)")}),$("#search").keydown(function(e){$(".jsSearchResult").find("li").removeClass("Bgc(c-semiwhite)"),13!=e.which&&$("#searchform").removeAttr("data-url");var t,a=$(".jsSearchResult .jsSearchWrapper li").length-1,s=".jsSearchResult .jsSearchWrapper li:eq("+indexSelected+")";if($(s).find("a").hasClass("categorySearch")&&void 0!==$(s).find("a").attr("data-forum-id")&&13==e.which&&(e.preventDefault(),t=$(s).find("span").text(),t+=" fid:"+$(s).find("a").attr("data-forum-id"),window.location.href="/search/forum/?q="+escape(t)),38==e.which)return 0<indexSelected?indexSelected--:indexSelected=a,b(),!1;40==e.which?(indexSelected<a?indexSelected++:indexSelected=0,b()):updateSearchResult=!0}),$(".jsUserAvatar").click(function(){$(".toggleMenu").hasClass("is-visible")?($(".toggleMenu").removeClass("is-visible"),$(".jsNavHeaderOverlay").hide(),$(".jsUserMenu").removeClass("is-active"),$(".jsNotificationMenu").removeClass("is-active")):($(this).next().toggleClass("is-visible"),toggleOverlay(),$(".jsUserMenu").addClass("is-active"))}),$(".jsNotificationIcon").click(function(){$(".toggleMenu").hasClass("is-visible")?($(".toggleMenu").removeClass("is-visible"),$(".jsNavHeaderOverlay").hide(),$(".jsNotificationMenu").removeClass("is-active"),$(".jsUserMenu").removeClass("is-active")):($(this).next().toggleClass("is-visible"),toggleOverlay(),$(".jsNotificationMenu").addClass("is-active"))}),$(document).on("click",function(e){$(e.target).closest(".jsPopover, .jsUserMenu, .jsNotificationMenu, .jsFlyoutMenu, .jsSearchOutterWrapper, .jsSearchStickyBtn,  .jsReplyTools, #jsReplyTextArea, .jsSmilies, .jsMention, .jsBBMention, .jsBBFontColor, .jsBBFontName, .jsBBFontSize, .jsSearchAnchorSticky, .sceditor-button-media, .sceditor-button-gpt").length||($(".jsPopoverMenu").removeClass("is-visible"),$(".jsPopoverTrigger").removeClass("C(c-blue").addClass("C(c-primary)"),$(".jsSmiliesContainer").removeClass("is-visible"),$(".jsButtonSmilies").removeAttr("style"),$(".jsMentionContainer").removeClass("is-visible"),$(".jsButtonMention").removeAttr("style"),$(".jsButtonMention").removeClass("active"),$(".jsUserDropdownMenu").removeClass("is-visible"),$(".jsUserMenu").removeClass("is-active"),$(".jsNotificationDropdownMenu").removeClass("is-visible"),$(".jsNotificationMenu").removeClass("is-active"),$(".jsSearchSticky").removeClass("is-clicked"),$(".jsSearchTrigger").removeClass("is-clicked"),$(".jsSearchOutterWrapper").hide(),$(".jsBBColorPicker, .jsBBSizePicker, .jsBBFontPicker, .jsGptContainer").addClass("D(n)"),"block"==$(".jsNavHeaderOverlay").css("display")&&$(".jsNavHeaderOverlay").hide(),$(".jsEmbedMediaMmtForm").hide(),0<$(".jsEmbedMediaMmtForm").length&&$(".sceditor-button-media").removeClass("active"))}),stickybits(".jsStickyAnchor",{stickyBitStickyOffset:60}),stickybits(".jsToolbarSCEditorAnchor",{verticalPosition:"bottom",useStickyClasses:!0});var y=$(".jsMenuAccordion"),w=(y.children("ul").find("a").click(function(){var e=$(this).next();return e.is("ul")&&(e.is(":visible")?($(this).closest("li").removeClass("is-open"),$(this).find(".jsMenuAccordionIcon").toggleClass("fa-angle-down fa-angle-up"),e.slideUp()):(y.children("ul").find("ul:visible").slideUp(),y.find("li").removeClass("is-open"),y.find(".jsMenuAccordionIcon").removeClass("fa-angle-up").addClass("fa-angle-down"),$(this).closest("li").addClass("is-open"),$(this).find(".jsMenuAccordionIcon").toggleClass("fa-angle-down fa-angle-up"),e.slideDown())),0===$(this).closest("li").find("ul").children().length}),$("#koin-amount").select2({minimumResultsForSearch:1/0}),document.querySelector(".jsKoinDateFrom")),C=document.querySelector(".jsKoinDateUntil"),k=(w&&flatpickr(w,{altInput:!0,altFormat:"d-m-Y",dateFormat:"Y-m-d",maxDate:new Date,onChange:function(e){C._flatpickr.set("minDate",e[0])}}),C&&flatpickr(C,{altInput:!0,altFormat:"d-m-Y",dateFormat:"Y-m-d",maxDate:new Date,onChange:function(e){w._flatpickr.set("maxDate",e[0])}}),"See more"),s=($(".description p").each(function(){var e=$(this).html();101<e.length&&(e=e.substr(0,101)+'<span class="moreelipses">...</span><span class="morecontent"><span>'+e.substr(101,e.length-101)+'</span>&nbsp;<a href="" class="morelink">'+k+"</a></span>",$(this).html(e))}),$(".morelink").click(function(){return $(this).hasClass("less")?($(this).removeClass("less"),$(this).html(k)):($(this).addClass("less"),$(this).html("See less")),$(this).parent().prev().toggle(),$(this).prev().toggle(),!1}),$(".searchIcon").click(function(){$(".searchIcon").hide(),$(".jsSearchContainer").css("display","flex"),$(".searchInput").animate({width:"100%"},500,function(){$(".jsSearchContainer input:text").focus(),$(".searchResult").show(),$(".jsNavHeaderOverlay").show()})}),$(".searchIconSticky").click(function(){$(".searchIconSticky").hide(),$(".jsSearchContainer").css("display","flex"),$(".searchInput").animate({width:"100%"},500,function(){$(".jsSearchContainer input:text").focus(),$(".searchResult").show(),$(".jsNavHeaderOverlay").show()})}),$(document).click(function(e){$(".searchResult").hide(),$(".searchInput").animate({width:"28px"},500,function(){$(".searchIcon, .searchIconSticky").show(),$(".jsSearchContainer").css("display","none")})}),$(".searchResult,.jsSearchContainer, .searchIcon, .searchIconSticky").click(function(e){e.stopPropagation(),$(".jsNavHeaderOverlay").show(),$(".jsSearchContainer input:text").focus()}),$("#jsExploreCommunity").click(function(){openModal("jsModalOnboardingAfterSignup")}),$(".tag").click(function(){$(this).toggleClass("is-active"),(checkBoxes=$(this).find("input[type=checkbox]")).prop("checked",!checkBoxes.prop("checked")),2<$(".tag.is-active").length?$("#next-button-onboarding").addClass("C(c-white) Bgc(c-blue)").removeClass("C(c-grey) Bgc(c-gray-2) Cur(d)").removeAttr("disabled"):$("#next-button-onboarding").addClass("C(c-grey) Bgc(c-gray-2) Cur(d)").removeClass("C(c-white) Bgc(c-blue)").attr("disabled")}),$("#next-button-onboarding").click(function(){var e,t;2<$(".tag.is-active").length&&(e=$("#select_channel").attr("action"),t=$("#select_channel").serialize(),$.ajax({url:e,dataType:"json",type:"post",data:t,success:function(e){"object"!=typeof e&&(e=$.parseJSON(e)),$("#onboarding-step-2").html(e.html),$("#onboarding-step-1").addClass("D(n)"),$("#onboarding-step-2").removeClass("D(n)"),$(".modal-indicator").first().addClass("Bgc(c-gray-4)").removeClass("Bgc(c-gray-7)"),$(".modal-indicator").last().addClass("Bgc(c-gray-7)").removeClass("Bgc(c-gray-4)")}}))}),$(".jsConnectWalletDropdown").select2({minimumResultsForSearch:1/0,placeholder:"Pilih Wallet",dropdownCssClass:"connectWalletDropdownCSS",templateResult:function(e){var t=$(e.element).data("src");return $("<div class='D(f) Jc(fs) Ai(c)'><img style='width: 14px;' src='"+t+"' /><span class='Pstart(8px)'>"+e.text+"</span></div>")}}),$(".loadFile").change(function(){$("#output").removeClass("D(n)"),$("#output").attr("src",URL.createObjectURL(event.target.files[0])),$(".uploadIcon").css("display","none"),$(".uploadLabel").removeClass("Bd(borderSolidGray2)")}),$(".loadFile, .notifTitle, .notifTextArea").on("keyup blur change",function(){void 0!==$("img#output").attr("src")&&0!==$(".notifTextArea, .notifTitle").val().length?$(".notifButton").attr("variant","primary"):$(".notifButton").attr("variant","disabled")}),$(".notifButton").click(function(){"primary"===$(".notifButton").attr("variant")&&(closeModal(),showBottomToast("Notifikasi berhasil dikirim!",3e3))}),document.getElementsByClassName("dragAndDropCont")[0]);s&&Sortable.create(s,{filter:".static",onMove:function(e){return"function"==typeof handleImageRatioText&&setTimeout(handleImageRatioText,0),-1===e.related.className.indexOf("static")}}),$(".createEventCheckbox").click(function(){1==$(this).prop("checked")?($(".createEventText").removeClass("D(n)"),$(".createContentButton").prop("text","Lanjut")):($(".createEventText").addClass("D(n)"),$(".createContentButton").prop("text","Post"))}),bindOnboardingStep2(),forumAllEventTracking(),bindForumAllIconCancel(),bindForumAllSearchResult(),bindForumAllSubscribeEvent(),bindTopKreatorClickFollowBtn(),bindTopKreatorHoverFollowBtn(),bindShowOrHideSelect2Dropdown(),getPromotedForumsAndHt(),loadListEvents()});