!function(e){e.marquee={version:"1.0.01"},e.fn.marquee=function(n){var t,i="string"==typeof arguments[0]&&arguments[0],o=i&&Array.prototype.slice.call(arguments,1)||arguments,s=0==this.length?null:e.data(this[0],"marquee");return s&&i&&this.length?"object"==i.toLowerCase()?s:s[i]?(this.each(function(n){var r=e.data(this,"marquee")[i].apply(s,o);if(0==n&&r){if(!r.jquery)return t=r,!1;t=e([]).add(r)}else r&&r.jquery&&(t=t.add(r))}),t||this):this:this.each(function(){new e.Marquee(this,n)})},e.Marquee=function(n,t){function i(e,n){if(1==p)return!1;n=n||t.pauseSpeed,e.outerWidth()>l.innerWidth()?setTimeout(function(){if(1==p)return!1;var n=e.outerWidth(),i=-1*n,s=parseInt(e.css("left"),10);e.animate({left:i+"px"},(n+s)*t.scrollSpeed,t.fxEasingScroll,function(){o(e)})},n):1<f.length&&setTimeout(function(){if(1==p)return!1;e.animate({top:("top"==t.yScroll?"+":"-")+l.innerHeight()+"px"},t.showSpeed,t.fxEasingScroll),o(e)},n)}function o(n){e.isFunction(t.aftershow)&&t.aftershow.apply(u,[l,n]),n.removeClass(t.cssShowing),a()}function s(){p=!0,1!=l.data("marquee.showing")&&f.filter("."+t.cssShowing).dequeue().stop()}function r(){p=!1,1!=l.data("marquee.showing")&&i(f.filter("."+t.cssShowing),1)}function a(){if(++h>=f.length){if(!isNaN(t.loop)&&0<t.loop&&++d>=t.loop)return!1;h=0}!function(n){if(0<f.filter("."+t.cssShowing).length)return!1;var o=f.eq(n);e.isFunction(t.beforeshow)&&t.beforeshow.apply(u,[l,o]),n={top:("top"==t.yScroll?"-":"+")+o.outerHeight()+"px",left:0},l.data("marquee.showing",!0),o.addClass(t.cssShowing),o.css(n).animate({top:"0px"},t.showSpeed,t.fxEasingShow,function(){e.isFunction(t.show)&&t.show.apply(u,[l,o]),l.data("marquee.showing",!1),i(o)})}(h)}t=e.extend({},e.Marquee.defaults,t);var u=this,l=e(n),f=l.find("> li"),h=-1,c=!1,p=!1,d=0;e.data(l[0],"marquee",u),this.pause=function(){c=!0,s()},this.resume=function(){c=!1,r()},this.update=function(){var e=f.length;f=l.find("> li"),1>=e&&r()},t.pauseOnHover&&l.hover(function(){if(c)return!1;s()},function(){if(c)return!1;r()}),e.isFunction(t.init)&&t.init.apply(u,[l,t]),a()},e.Marquee.defaults={yScroll:"top",showSpeed:850,scrollSpeed:12,pauseSpeed:5e3,pauseOnHover:!0,loop:-1,fxEasingShow:"swing",fxEasingScroll:"linear",cssShowing:"marquee-showing",init:null,beforeshow:null,show:null,aftershow:null}}(jQuery);