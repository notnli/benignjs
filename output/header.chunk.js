(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{396:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=40)}([function(e,t){e.exports=n(0)},function(e,t){e.exports={getUserAgent:function(e){return e.app.env?e.header["yk-user-agent"]||e.header["user-agent"]:e.navigator.userAgent},getCookie:function(e,t){var n="";if(t&&t.app&&t.app.env)n=t.cookies.get(e,{encrypt:!1,signed:!1,overwrite:!0});else{var r=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),o=document.cookie.match(r);o&&o[2]&&(n=o[2])}return n},setCookie:function(e,t,n,r,o){var a=e+"="+t;if(n){var i=1e3*n;a+=";expires="+new Date((new Date).getTime()+i).toUTCString()}a+=r?";domain="+r:";domain="+window.location.host.replace(window.location.port,"").replace(":",""),a+=o?";path="+o:";path=/",document.cookie=a},getQueryString:function(e){var t={},n=location.search.substr(1).split("&");if(n)for(var r=0;r<n.length;r++){var o=n[r].split("=");t[o[0]]=o[1]}return t[e]},getPreStr:function(e){var t,n=null==e?void 0:e.match(/pre|prodtest|local|pre2|staging/i);return null==n||null===(t=n[0])||void 0===t?void 0:t.toString()}}},function(e,t,n){e.exports={user_center_box:"usercenter_user_center_box",avatar:"usercenter_avatar",avatar_img:"usercenter_avatar_img",no_login:"usercenter_no_login",no_login_box:"usercenter_no_login_box",no_login_text:"usercenter_no_login_text",panel:"usercenter_panel",content:"usercenter_content",uInfo:"usercenter_uinfo",vipBorder:"usercenter_vipborder",uLink:"usercenter_ulink",vipULink:"usercenter_vipulink",vipLevelIcon:"usercenter_viplevelicon",exitLogin:"usercenter_exitlogin",uInfoInt:"usercenter_uinfoint",uList:"usercenter_ulist",item:"usercenter_item",lastItem:"usercenter_lastitem",iconSpan:"usercenter_iconspan",text:"usercenter_text",user_content:"usercenter_user_content",user_content_avatar:"usercenter_user_content_avatar",user_content_avatar_int:"usercenter_user_content_avatar_int",user_content_avatar_img:"usercenter_user_content_avatar_img",user_content_txt:"usercenter_user_content_txt",user_content_int:"usercenter_user_content_int",card_content:"usercenter_card_content",card_content_top:"usercenter_card_content_top",card_content_top_content:"usercenter_card_content_top_content",card_content_top_content_txt:"usercenter_card_content_top_content_txt",card_content_top_content_span:"usercenter_card_content_top_content_span",vipColorSubTitle:"usercenter_vipcolorsubtitle",card_content_bottom:"usercenter_card_content_bottom",card_content_bottom_item:"usercenter_card_content_bottom_item",intPanel:"usercenter_intpanel",vipPanel:"usercenter_vippanel",uPanel:"usercenter_upanel","user_panel_tab-in-animation":"usercenter_user_panel_tab-in-animation",winPanel:"usercenter_winpanel",winRedPanel:"usercenter_winredpanel",user_center_box_win:"usercenter_user_center_box_win",user_center_redbox_win:"usercenter_user_center_redbox_win",user_center_box_nav:"usercenter_user_center_box_nav",oldStyle:"usercenter_oldstyle"}},function(e,t,n){e.exports={uRecord:"historyrecord_urecord",headerLogImgLeft:"historyrecord_headerlogimgleft",headerLogImg:"historyrecord_headerlogimg",rightText:"historyrecord_righttext",rightTextFont:"historyrecord_righttextfont",headerLogDate:"historyrecord_headerlogdate",headerLogTime:"historyrecord_headerlogtime",headerLogImgRight:"historyrecord_headerlogimgright",recordIcon:"historyrecord_recordicon",panel:"historyrecord_panel","panel_tab-in-animation":"historyrecord_panel_tab-in-animation",filterArea:"historyrecord_filterarea",check:"historyrecord_check",content:"historyrecord_content",arrow:"historyrecord_arrow",intPanel:"historyrecord_intpanel",uPanel:"historyrecord_upanel","user_panel_tab-in-animation":"historyrecord_user_panel_tab-in-animation",intuPanel:"historyrecord_intupanel","user_panel_tab-in-animation-int":"historyrecord_user_panel_tab-in-animation-int",recordLogin:"historyrecord_recordlogin",recList:"historyrecord_reclist",icoDevice:"historyrecord_icodevice",recSt:"historyrecord_recst",hoverMore:"historyrecord_hovermore",next:"historyrecord_next",deletePlaylog:"historyrecord_deleteplaylog",notPlayable:"historyrecord_notplayable",iconfontheader:"historyrecord_iconfontheader",noRecord:"historyrecord_norecord","no-record-bg":"historyrecord_no-record-bg",uBottom:"historyrecord_ubottom",moreButton:"historyrecord_morebutton",logout:"historyrecord_logout",imgtip:"historyrecord_imgtip",subtitle:"historyrecord_subtitle",loginbuttonBox:"historyrecord_loginbuttonbox",loginbutton:"historyrecord_loginbutton",redPointer:"historyrecord_redpointer",dropdownOpen:"historyrecord_dropdownopen",handle:"historyrecord_handle",icoUrecord:"historyrecord_icourecord",showanimate:"historyrecord_showanimate"}},function(e,t,n){e.exports={hot_component:"hot-search-component_hot_component",nav_list:"hot-search-component_nav_list",nav_item_box:"hot-search-component_nav_item_box",nav_item_box_content:"hot-search-component_nav_item_box_content",nav_page_tabs:"hot-search-component_nav_page_tabs",nav_page_tabs_left:"hot-search-component_nav_page_tabs_left",nav_page_tabs_right:"hot-search-component_nav_page_tabs_right",nav_page_tabs_opacity:"hot-search-component_nav_page_tabs_opacity",nav_item:"hot-search-component_nav_item",current_item:"hot-search-component_current_item",list_box:"hot-search-component_list_box",hot_item:"hot-search-component_hot_item",hot_item_nohover_box:"hot-search-component_hot_item_nohover_box",hot_item_hover_box:"hot-search-component_hot_item_hover_box",hot_item_hover_box_img:"hot-search-component_hot_item_hover_box_img",hot_item_hover_content:"hot-search-component_hot_item_hover_content",hot_item_hover_content_title:"hot-search-component_hot_item_hover_content_title",hot_item_hover_content_txt:"hot-search-component_hot_item_hover_content_txt",hot_item_txt_hover:"hot-search-component_hot_item_txt_hover",hot_item_img_hover:"hot-search-component_hot_item_img_hover",hot_word:"hot-search-component_hot_word",hot_word_tag:"hot-search-component_hot_word_tag",hot_word_tag_number:"hot-search-component_hot_word_tag_number",hot_point_tag:"hot-search-component_hot_point_tag",hot_point_tag_icon:"hot-search-component_hot_point_tag_icon",order_box:"hot-search-component_order_box",order:"hot-search-component_order",text:"hot-search-component_text",one:"hot-search-component_one",two:"hot-search-component_two",three:"hot-search-component_three",more:"hot-search-component_more",last:"hot-search-component_last",hot_more:"hot-search-component_hot_more",hot_component_short:"hot-search-component_hot_component_short"}},function(e,t,n){e.exports={hot_search_list:"hot-search-list_hot_search_list",nav_list:"hot-search-list_nav_list",nav_item_box:"hot-search-list_nav_item_box",nav_item_box_content:"hot-search-list_nav_item_box_content",nav_page_tabs:"hot-search-list_nav_page_tabs",nav_page_tabs_left:"hot-search-list_nav_page_tabs_left",nav_page_tabs_right:"hot-search-list_nav_page_tabs_right",nav_page_tabs_opacity:"hot-search-list_nav_page_tabs_opacity",nav_item:"hot-search-list_nav_item",current_item:"hot-search-list_current_item",list_box:"hot-search-list_list_box",hot_item:"hot-search-list_hot_item",hot_item_nohover_box:"hot-search-list_hot_item_nohover_box",hot_item_hover_box:"hot-search-list_hot_item_hover_box",hot_item_hover_box_img:"hot-search-list_hot_item_hover_box_img",hot_item_hover_content:"hot-search-list_hot_item_hover_content",hot_item_hover_content_title:"hot-search-list_hot_item_hover_content_title",hot_item_hover_content_txt:"hot-search-list_hot_item_hover_content_txt",hot_item_txt_hover:"hot-search-list_hot_item_txt_hover",hot_item_img_hover:"hot-search-list_hot_item_img_hover",hot_word:"hot-search-list_hot_word",hot_word_tag:"hot-search-list_hot_word_tag",hot_word_tag_number:"hot-search-list_hot_word_tag_number",hot_point_tag:"hot-search-list_hot_point_tag",hot_point_tag_icon:"hot-search-list_hot_point_tag_icon",tag:"hot-search-list_tag",order_box:"hot-search-list_order_box",order:"hot-search-list_order",text:"hot-search-list_text",one:"hot-search-list_one",two:"hot-search-list_two",three:"hot-search-list_three",more:"hot-search-list_more",last:"hot-search-list_last",hot_more:"hot-search-list_hot_more"}},function(e,t,n){e.exports={vip_wrap:"vip_vip_wrap",vip_buy_button:"vip_vip_buy_button",vip_icon:"vip_vip_icon",vip_pop_content:"vip_vip_pop_content",vip_icontxt_width:"vip_vip_icontxt_width",vip_iconpop_width:"vip_vip_iconpop_width",icontxt:"vip_icontxt",angle_mark:"vip_angle_mark","angle-mark-in-animation":"vip_angle-mark-in-animation",vip_panel:"vip_vip_panel",vip_panel_content:"vip_vip_panel_content",panel_txt_list:"vip_panel_txt_list",panel_txt_item:"vip_panel_txt_item",panel_code_box:"vip_panel_code_box",panel_code_img:"vip_panel_code_img",code_loading:"vip_code_loading","code-refresh-in-animation":"vip_code-refresh-in-animation",code_error:"vip_code_error",code_error_box:"vip_code_error_box",panel_code_txt:"vip_panel_code_txt",bottomBox:"vip_bottombox",bottomButton:"vip_bottombutton",bottomButtonPop:"vip_bottombuttonpop",bottomButtonPopTxt:"vip_bottombuttonpoptxt",item_content:"vip_item_content",uPanel:"vip_upanel","user_panel_tab-in-animation":"vip_user_panel_tab-in-animation",masPanel:"vip_maspanel"}},function(e,t,n){e.exports={sugSearchList:"keyword-search-list_sugsearchlist",sugItem:"keyword-search-list_sugitem",left_word:"keyword-search-list_left_word",sugItemBox:"keyword-search-list_sugitembox",sugImgItem:"keyword-search-list_sugimgitem",sugItemHoverBox:"keyword-search-list_sugitemhoverbox",sugItemHoverContent:"keyword-search-list_sugitemhovercontent",sugItemHoverContentTitle:"keyword-search-list_sugitemhovercontenttitle",sugItemHoverContentTip:"keyword-search-list_sugitemhovercontenttip",sugItemHoverBoxImg:"keyword-search-list_sugitemhoverboximg",sugItemHoverBtn:"keyword-search-list_sugitemhoverbtn",sugItemHoverBoxNoBtn:"keyword-search-list_sugitemhoverboxnobtn",sugItemHover:"keyword-search-list_sugitemhover",sugTextItem:"keyword-search-list_sugtextitem",sugTextItemHover:"keyword-search-list_sugtextitemhover",sugItemFoucs:"keyword-search-list_sugitemfoucs",sugItemBoxLeft:"keyword-search-list_sugitemboxleft",tagBox:"keyword-search-list_tagbox",tag:"keyword-search-list_tag",tagText:"keyword-search-list_tagtext"}},function(e,t,n){e.exports={topHeaderWrap:"topheader_topheaderwrap",top_header_box:"topheader_top_header_box",uosHeader:"topheader_uosheader",red_box:"topheader_red_box",top_box:"topheader_top_box",uos_top_box:"topheader_uos_top_box",utils_box:"topheader_utils_box",top_box_mac:"topheader_top_box_mac",top_box_win:"topheader_top_box_win",no_drag:"topheader_no_drag",hasAd:"topheader_hasad",header_width:"topheader_header_width",headerBackGround:"topheader_headerbackground",scroll_class:"topheader_scroll_class","top_header_scroll-in-animation":"topheader_top_header_scroll-in-animation",scroll_no_class:"topheader_scroll_no_class","top_header_scroll_no-in-animation":"topheader_top_header_scroll_no-in-animation",search_box_mac:"topheader_search_box_mac"}},function(e,t,n){e.exports={search_box:"search_search_box",hot_search_box:"search_hot_search_box",hot_search_box_title:"search_hot_search_box_title",fire:"search_fire",hot_search:"search_hot_search",selected:"search_selected",focus_button:"search_focus_button",search_list:"search_search_list",close_box:"search_close_box",search_box_int:"search_search_box_int",search_box_mac:"search_search_box_mac",search_box_nav:"search_search_box_nav",search_box_short:"search_search_box_short",focus_search_box:"search_focus_search_box",hover_search_box:"search_hover_search_box"}},function(e,t,n){e.exports={nav_box:"topheadernav_nav_box",nav_item:"topheadernav_nav_item",nav_cut:"topheadernav_nav_cut",iconfontheader:"topheadernav_iconfontheader",nav_item_color:"topheadernav_nav_item_color",nav_panel:"topheadernav_nav_panel",nav_panel_list:"topheadernav_nav_panel_list",nav_panel_item:"topheadernav_nav_panel_item",nav_panel_cut:"topheadernav_nav_panel_cut",nav_panel_vip:"topheadernav_nav_panel_vip",nav_panel_vip_txt:"topheadernav_nav_panel_vip_txt",uPanel:"topheadernav_upanel","user_panel_tab-in-animation":"topheadernav_user_panel_tab-in-animation"}},function(e,t,n){e.exports={left_header_box:"leftheader_left_header_box",navList_wrap:"leftheader_navlist_wrap",nav_area_box:"leftheader_nav_area_box",shadow_bottom:"leftheader_shadow_bottom",nav_area_box_red:"leftheader_nav_area_box_red",left_header_box_red:"leftheader_left_header_box_red",left_nav_box:"leftheader_left_nav_box",link_item:"leftheader_link_item","tab-hover-animation":"leftheader_tab-hover-animation",link_item_vip:"leftheader_link_item_vip",current_item:"leftheader_current_item","current-tab-hover-animation":"leftheader_current-tab-hover-animation",current_item_vip:"leftheader_current_item_vip",shaixuan_box:"leftheader_shaixuan_box",line:"leftheader_line",icon_span:"leftheader_icon_span",footer_current_item:"leftheader_footer_current_item"}},function(e,t,n){e.exports={nav_box:"internationalnav_nav_box",nav_item:"internationalnav_nav_item",nav_cut:"internationalnav_nav_cut",iconfontheader:"internationalnav_iconfontheader",nav_item_color:"internationalnav_nav_item_color",current:"internationalnav_current",nav_panel:"internationalnav_nav_panel",nav_panel_list:"internationalnav_nav_panel_list",nav_panel_item:"internationalnav_nav_panel_item",nav_panel_cut:"internationalnav_nav_panel_cut",nav_panel_vip:"internationalnav_nav_panel_vip",nav_panel_vip_txt:"internationalnav_nav_panel_vip_txt",uPanel:"internationalnav_upanel","user_panel_tab-in-animation":"internationalnav_user_panel_tab-in-animation"}},function(e,t,n){e.exports={intapp_box:"intappdownload_intapp_box",icon_span:"intappdownload_icon_span",intapp_panel:"intappdownload_intapp_panel",text_box:"intappdownload_text_box",line:"intappdownload_line",code_wrap:"intappdownload_code_wrap",code_box:"intappdownload_code_box",code:"intappdownload_code",houzi:"intappdownload_houzi",uPanel:"intappdownload_upanel","user_panel_tab-in-animation":"intappdownload_user_panel_tab-in-animation"}},function(e,t,n){e.exports={logo_box:"logo_logo_box",logo_img:"logo_logo_img",logo_vip:"logo_logo_vip",nav_logo:"logo_nav_logo",logo_int:"logo_logo_int",oldStyle:"logo_oldstyle",logo_hover:"logo_logo_hover",I18n_box:"logo_i18n_box"}},function(e,t,n){e.exports={kuhuduan_box:"ikudownload_kuhuduan_box",download_panel:"ikudownload_download_panel",item_content:"ikudownload_item_content",bottom_button_box:"ikudownload_bottom_button_box",bottom_button:"ikudownload_bottom_button",uPanel:"ikudownload_upanel","user_panel_tab-in-animation":"ikudownload_user_panel_tab-in-animation"}},function(e,t,n){e.exports={input_box:"search-input_input_box",icon_box:"search-input_icon_box",search_clear:"search-input_search_clear",input_focus:"search-input_input_focus",input_short:"search-input_input_short",input_focus_int:"search-input_input_focus_int"}},function(e,t,n){e.exports={H5Content:"h5activity_h5content",conBox:"h5activity_conbox",bottomMask:"h5activity_bottommask",closeBtn:"h5activity_closebtn",H5Center:"h5activity_h5center"}},function(e,t,n){e.exports={infoBottom:"promotelogin_infobottom",close:"promotelogin_close",title:"promotelogin_title",subTitle:"promotelogin_subtitle",buttonBox:"promotelogin_buttonbox"}},function(e,t,n){e.exports={lang_box:"language_lang_box",icon_span:"language_icon_span",lang_panel:"language_lang_panel",current:"language_current",uPanel:"language_upanel","user_panel_tab-in-animation":"language_user_panel_tab-in-animation"}},function(e,t,n){e.exports={history_search_list:"history-search-list_history_search_list",title:"history-search-list_title",historyListBox:"history-search-list_historylistbox",history_item:"history-search-list_history_item"}},function(e,t){e.exports=n(326)},function(e,t,n){e.exports={win_header:"winheaderbox_win_header",win_header_red:"winheaderbox_win_header_red",YLine:"winheaderbox_yline"}},function(e,t,n){e.exports={localfile_box:"localfile_localfile_box",icon_span:"localfile_icon_span"}},function(e,t,n){e.exports={localplay_box:"localplay_localplay_box",icon_span:"localplay_icon_span"}},function(e,t,n){e.exports={reload_box:"reload_reload_box",icon_span:"reload_icon_span"}},function(e,t){e.exports=n(330)},function(e,t){e.exports=n(204)},function(e,t){e.exports=n(394)},function(e,t){e.exports=n(1006)},function(e,t){e.exports=n(247)},function(e,t,n){e.exports={toastBox:"toast_toastbox"}},function(e,t,n){e.exports={adWrap:"src_adwrap"}},function(e,t){e.exports=n(390)},function(e,t){e.exports=n(1021)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n(21),c={config:function(e,t){window.lib.mtop.config[e]=t},request:function(e){var t,r,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=location.host.includes("youku.tv"),c=location.search.includes("isProd=1")?"prod":(null===(t=window)||void 0===t?void 0:t.__ENV__)||(null===(r=window)||void 0===r||null===(o=r.__ENVDATA__)||void 0===o?void 0:o.env)||"prod";return new Promise((function(t,r){var o,l,u,s,p,f,h=(null===(o=window)||void 0===o||null===(l=o.lib)||void 0===l?void 0:l.mtop)||n(33),d={api:e,v:a.v||"1.0",data:a.data||{},ecode:0,appKey:i?"34300712":a.appKey||(null===(u=window)||void 0===u||null===(s=u.lib)||void 0===s||null===(p=s.mtop)||void 0===p||null===(f=p.config)||void 0===f?void 0:f.appKey)||"24679788",dataType:a.dataType||"jsonp",jsonpIncPrefix:(a.jsonpIncPrefix||"")+(new Date).getTime()};h.config.prefix="local"===c||"staging"===c||"pre"===c?"pre-acs":"acs",h.config.subDomain="",i?(h.config.mainDomain="youku.tv",h.config.syncCookieMode=!0):h.config.mainDomain="youku.com",window&&window.mtopConfig&&Object.assign(window.lib.mtop.config,window.mtopConfig),h.request(d,(function(e){e.ret.join(",").indexOf("SUCCESS")>-1?t(e):r(e)}),(function(e){r(e)}))}))}},l=c,u=n(26);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){p=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof d?t:d,i=Object.create(a.prototype),c=new j(o||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h={};function d(){}function m(){}function v(){}var y={};l(y,a,(function(){return this}));var g=Object.getPrototypeOf,_=g&&g(g(L([])));_&&_!==t&&n.call(_,a)&&(y=_);var b=v.prototype=d.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var o;r(this,"_invoke",{value:function(r,a){function i(){return new t((function(o,i){!function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==s(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(p).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=k(i,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=f(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:m,configurable:!0}),m.displayName=l(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,i,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new x(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(b),l(b,c,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function f(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){f(a,r,o,i,c,"next",e)}function c(e){f(a,r,o,i,c,"throw",e)}i(void 0)}))}}function d(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function y(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=_(e,"string");return"symbol"===s(t)?t:String(t)}function _(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var b={LOGIN_SUCCESS:"Xlogin:loginSuccess",LOGIN_OUT:"Xlogin:logoutSuccess",CHECK_LOGIN:"Xlogin:checkLogin"},w=function(){function e(t,n,r){m(this,e),this._isLoginStatus=t,this._userInfo=n,this._loginExtend=r}return y(e,[{key:"isLoginStatus",get:function(){return this._isLoginStatus}},{key:"userInfo",get:function(){return this._userInfo}},{key:"loginExtend",get:function(){return this._loginExtend}}]),e}(),x=function(){function e(t){var n=this;m(this,e),d(this,"loginInsatance",null),d(this,"loginExtend",null),d(this,"eventbusSuccess",[]),d(this,"eventbusLogin",new i.BehaviorSubject(new w(!1,null,null))),d(this,"eventbusLoggout",new i.Subject),d(this,"isLoginStatus",!1),d(this,"checkLoginStatus",!1),d(this,"_userInfo",null),d(this,"_isUseNew",!0),d(this,"DefaultLoginOptions",{loginOrLogout:"login",callbackURL:"",mode:"popup",template:"tempA",buid:"youku",pid:"8fb8456183734a86bfc1c15a1c761cdf",themes:["148AFF","c0e8f6"],bgThemes:"#fff url("+(e.isEvening?e.ThemeConfig.eveningBgURL:e.ThemeConfig.daytimeBgURL)+") no-repeat right bottom",fontColor:e.isEvening?e.ThemeConfig.eveningFontColor:e.ThemeConfig.daytimeFontColor,inkColor:e.isEvening?e.ThemeConfig.eveningFontColor:e.ThemeConfig.daytimeFontColor,padding:[30,30,30,410],loginModel:["normal","mobile"],regModel:["mobile"],isQRlogin:!0,isThirdPartLogin:!0,regShowType:"in",regRules:["\u7528\u6237\u534f\u8bae","//mapp.youku.com/service/agreement","//mapp.youku.com/service/copyright"],qrMsg:"\u8bf7\u4f7f\u7528\u4f18\u9177APP\u626b\u7801\u767b\u5f55",qrBu:["ykt",80,"false"],size:"normal",checkNoLogin:function(){},loadSucess:function(){},loginSuccess:function(){},login:this.login,logout:this.logout,isLogin:this.HasPCookie,getUserInfo:function(){return n.userInfo},on:function(e,t){n.on(e,t)}}),t&&(this.DefaultLoginOptions.pid="20211011PLF008702"),this.init()}var t,n;return y(e,[{key:"userInfo",get:function(){return this._userInfo}},{key:"HasPCookie",value:function(){var e=decodeURIComponent(Object(a.getCookie)("P_gck")||"").split("|")[1];return null!=e&&"NA"!==e}},{key:"init",value:function(){var e=this;if(this._isUseNew=!!window.useNewLogin&&window.useNewLogin,this._isUseNew&&!this.loginInsatance){var t=this.DefaultLoginOptions;t.loginSuccess=function(){e.loginInsatance&&e.loginInsatance.closeFrame&&e.loginInsatance.closeFrame(),e.loginSuccess()},this.loginInsatance=new u.YoukuLoginNew(t),window.XloginNew=this.loginInsatance}window.YKLoginLoader?this.Xlogin():E("pre"===window.__ENV__||"staging"===window.__ENV__||"local"===window.__ENV__?"//dev.g.alicdn.com/static-es6/login/3.0.5/src/public/load.js":"//g.alicdn.com/static-es6/login/3.0.5/public/load.js",(function(){e.Xlogin()}))}},{key:"createSuccessEvent",value:function(){var e=new i.Subject;return this.eventbusSuccess.push(e),e}},{key:"checkLogin",value:(n=h(p().mark((function e(){var t,n,r,o,a,i,c,u,s,f=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(f.length>0&&void 0!==f[0])||f[0],this.HasPCookie(),!this.userInfo||!this.HasPCookie()){e.next=8;break}return n=new w(this.isLoginStatus,this.userInfo,this.loginExtend),t&&this.eventbusLogin.next(n),e.abrupt("return",n);case 8:return this.checkLoginStatus=!0,r={deviceType:"pc",show:1},o={req:JSON.stringify(r)},a=!1,e.next=14,l.request("mtop.youku.vip.xtop.member.profile.get",{data:o,dataType:"json"}).catch(function(){var e=h(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a=!0,e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:if(i=e.sent,a){e.next=30;break}if(!i.ret||"SUCCESS::\u8c03\u7528\u6210\u529f"!==i.ret[0]||!i.data){e.next=24;break}return this.isLoginStatus=!0,i.data.loginStatus=!0,c=new w(this.isLoginStatus,i.data,this.loginExtend),t&&this.eventbusLogin.next(c),e.abrupt("return",c);case 24:return this.isLoginStatus=!1,u=new w(this.isLoginStatus,null,null),t&&this.eventbusLogin.next(u),e.abrupt("return",u);case 28:e.next=34;break;case 30:return this.isLoginStatus=!1,s=new w(this.isLoginStatus,this.assignEmptyObj(),null),t&&this.eventbusLogin.next(s),e.abrupt("return",s);case 34:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"loginSuccess",value:function(){var e=this;this.isLoginStatus=!0,this.eventbusSuccess.forEach((function(e){e.next("web app is success logined")})),setTimeout((function(){e.checkLogin()}),0)}},{key:"login",value:function(e){(e=e||{}).regist?this.loginInsatance.buildRegDom():this.loginInsatance.buildLoginDom(),e.extend&&(this.loginExtend=e.extend)}},{key:"logoutSuccess",value:function(){this._userInfo=null,this.eventbusLoggout.next("web app is success loggout")}},{key:"logout",value:(t=h(p().mark((function e(){var t=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t._isUseNew?t.loginInsatance.logout({logoutSuccess:function(){console.log("utility logoutSuccess",(new Date).getTime()),t.logoutSuccess(),e()}}):new window.YKLoginLoader({loginOrLogout:"logout",buid:t.DefaultLoginOptions.buid,pid:t.DefaultLoginOptions.pid,logoutSuccess:function(){t.logoutSuccess(),e()}})})));case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"setLoginBg",value:function(){}},{key:"on",value:function(e,t){switch(e){case b.LOGIN_SUCCESS:case b.LOGIN_OUT:case b.CHECK_LOGIN:}}},{key:"Xlogin",value:function(){var e=this,t=this.DefaultLoginOptions;t.loginSuccess=function(){e.loginInsatance&&e.loginInsatance.closeFrame&&e.loginInsatance.closeFrame(),e.loginSuccess()},t.loadSucess=function(){e.setLoginBg()},this._isUseNew||(this.loginInsatance=new window.YKLoginLoader(t)),window.Xlogin=new window.YKLoginLoader(t)}},{key:"assignEmptyObj",value:function(){return{is_vip:0,ytid:"",uname:"",login_email:"",login_mobile:"",mobile:"",vip_icon:"",user_icon:"",user_icon_big:"",user_icon_large:"",user_icon_middle:"",user_icon_small:"",uid:"",loginStatus:!1}}}]),e}();function E(e,t){var n=document.createElement("script");n.type="text/javascript",n.async=!0,t?t instanceof Function&&(t={callback:t}):t={},t.charset&&(n.charset=t.charset),t.crossOrigin&&(t.retry=1,n.crossOrigin="anonymous"),n.src=e;var r=document.getElementsByTagName("head")[0],o=!1,a=function(){o||Reflect.get(n,"readyState")&&"loaded"!==Reflect.get(n,"readyState")&&"complete"!==Reflect.get(n,"readyState")||(o=!0,n.onload=null,Reflect.set(n,"onreadystatechange",null),t.saveScript||r.removeChild(n),t.callback&&t.callback())};n.onerror=function(){n.onerror=null,t.retry&&(t.retry--,E(e,t))},n.onload=a,Reflect.set(n,"onreadystatechange",a),r.appendChild(n)}d(x,"isEvening",(new Date).getHours()>=18||(new Date).getHours()<=8),d(x,"ThemeConfig",{daytimeBgURL:"//account.youku.com/static-resources/images/stylize/youku_bg.jpg",eveningBgURL:"//account.youku.com/static-resources/images/stylize/yknight.jpg",eveningFontColor:"#fff",daytimeFontColor:"#333"});var k=n(27),S=n.n(k),O=n(28),j=n.n(O);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(){N=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),c=new S(o||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function f(){}function h(){}function d(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(O([])));y&&y!==t&&n.call(y,a)&&(m=y);var g=d.prototype=f.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var o;r(this,"_invoke",{value:function(r,a){function i(){return new t((function(o,i){!function r(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==L(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(p).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function w(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=s(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},_(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(g),l(g,c,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return(t=P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){var t=A(e,"string");return"symbol"===L(t)?t:String(t)}function A(e,t){if("object"!==L(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function D(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){D(a,r,o,i,c,"next",e)}function c(e){D(a,r,o,i,c,"throw",e)}i(void 0)}))}}function B(){return H.apply(this,arguments)}function H(){return(H=R(N().mark((function e(){var t,n,r,o=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},n=t.url,r={timeout:3e3,params:T({},t.data)},t.jsonp&&(r.adapter=j.a),e.abrupt("return",S.a.get(n,r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(){U=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),c=new S(o||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function f(){}function h(){}function d(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(O([])));y&&y!==t&&n.call(y,a)&&(m=y);var g=d.prototype=f.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var o;r(this,"_invoke",{value:function(r,a){function i(){return new t((function(o,i){!function r(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==M(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(p).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function w(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=s(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},_(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(g),l(g,c,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return(t=V(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){var t=W(e,"string");return"symbol"===M(t)?t:String(t)}function W(e,t){if("object"!==M(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function X(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){X(a,r,o,i,c,"next",e)}function c(e){X(a,r,o,i,c,"throw",e)}i(void 0)}))}}var J,z=[{title:"\u9996\u9875",pathName:"webhome",nodeKey:"WEBHOME",url:"https://www.youku.com/channel/webhome"},{title:"\u7535\u89c6\u5267",pathName:"webtv",nodeKey:"WEBTV",url:"https://www.youku.com/channel/webtv"},{title:"\u7535\u5f71",pathName:"webmovie",nodeKey:"WEBMOVIE",url:"https://www.youku.com/channel/webmovie"},{title:"\u7efc\u827a",pathName:"webzy",nodeKey:"WEBZY",url:"https://www.youku.com/channel/webzy"},{title:"\u52a8\u6f2b",pathName:"webcomic",nodeKey:"WEBCOMIC",url:"https://www.youku.com/channel/webcomic"},{title:"\u5c11\u513f",pathName:"webchild",nodeKey:"WEBCHILD",url:"https://www.youku.com/channel/webchild"},{title:"\u7eaa\u5f55\u7247",pathName:"webjilupian",nodeKey:"WEBJILUPIAN",url:"https://www.youku.com/channel/webjilupian"},{title:"\u4f53\u80b2",pathName:"tiyu",nodeKey:"TIYU",url:"https://www.youku.com/channel/tiyu"},{title:"\u6e38\u620f",pathName:"webgame",nodeKey:"WEBGAME",url:"https://www.youku.com/channel/webgame"},{title:"\u97f3\u4e50",pathName:"webmusic",nodeKey:"WEBMUSIC",url:"https://www.youku.com/channel/webmusic"},{title:"\u6587\u5316",pathName:"webculture",nodeKey:"WEBCULTURE",url:"https://www.youku.com/channel/webculture"},{title:"\u76f4\u64ad",pathName:"weblive",nodeKey:"WEBLIVE",url:"https://www.youku.com/channel/weblive"},{title:"\u6c7d\u8f66",pathName:"webauto",nodeKey:"WEBAUTO",url:"https://www.youku.com/channel/webauto"},{title:"\u5a31\u4e50",pathName:"webent",nodeKey:"WEBENT",url:"https://www.youku.com/channel/webent"},{title:"\u5b66\u5802",pathName:"webxuetang",nodeKey:"WEBXUETANG",url:"https://www.youku.com/channel/webxuetang"},{title:"\u641e\u7b11",pathName:"webfun",nodeKey:"WEBFUN",url:"https://www.youku.com/channel/webfun"},{title:"\u79d1\u6280",pathName:"webtech",nodeKey:"WEBTECH",url:"https://www.youku.com/channel/webtech"},{title:"\u751f\u6d3b",pathName:"weblife",nodeKey:"WEBLIFE",url:"https://www.youku.com/channel/weblife"},{title:"\u7535\u7ade",pathName:"webdianjing",nodeKey:"WEBDIANJING",url:"https://www.youku.com/channel/webdianjing"},{title:"\u65b0\u77e5",pathName:"webxinzhi",nodeKey:"WEBXINZHI",url:"https://www.youku.com/channel/webxinzhi"},{title:"\u65f6\u5c1a",pathName:"webfashion",nodeKey:"WEBFASHION",url:"https://www.youku.com/channel/webfashion"},{title:"\u65c5\u6e38",pathName:"webtravel",nodeKey:"WEBTRAVEL",url:"https://www.youku.com/channel/webtravel"},{title:"\u4eb2\u5b50",pathName:"webbaby",nodeKey:"WEBBABY",url:"https://www.youku.com/channel/webbaby"},{title:"\u53d1\u73b0",pathName:"webfaxian",nodeKey:"WEBFAXIAN",url:"https://www.youku.com/channel/webfaxian"},{title:"\u516c\u76ca",pathName:"webgongyi",nodeKey:"WEBGONGYI",url:"https://www.youku.com/channel/webgongyi"},{title:"\u6559\u80b2",pathName:"webedu",nodeKey:"WEBEDU",url:"https://www.youku.com/channel/webedu"},{title:"\u8d22\u7ecf",pathName:"webfinance",nodeKey:"WEBFINANCE",url:"https://www.youku.com/channel/webfinance"}];function Y(e){return $.apply(this,arguments)}function $(){return($=q(U().mark((function e(t){var n,r;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="prod"===window.__ENV__?"//pc.pay.youku.com/apis/pay_rcode":"//paypre.vip.youku.com/apis/pay_rcode",e.next=3,B({url:n,jsonp:!0,data:t});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){return Z.apply(this,arguments)}function Z(){return(Z=q(U().mark((function e(t){var n;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:"GET",v:"1.0",ecode:0,dataType:"json",data:JSON.stringify(t),appKey:"24679788"},e.abrupt("return",l.request("mtop.youku.xmop.strategyfacadeservice.getcontent",n).catch((function(e){console.log(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=q(U().mark((function e(t){var n,r,o,a,i,c,l,u,s,p,f,h;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t);case 2:if(n=e.sent){e.next=6;break}return console.log("\u63a5\u53e3\u8bf7\u6c42\u6570\u636e\u5931\u8d25,\u8bf7\u5c1d\u8bd5\u8bbe\u7f6e\u91cd\u8bd5\u673a\u5236\u6216\u8005\u68c0\u67e5\u63a5\u53e3\u53c2\u6570"),e.abrupt("return",{});case 6:if(n&&n.data&&Array.isArray(n.data.contents)&&0!==n.data.contents.length)try{r=JSON.parse(n.data.contents[0])}catch(e){console.log(e)}else r={};if(o={},r&&r.link&&r.link.indexOf("h5params=")>-1&&(i=r.link.split("&"),a=Array.isArray(i)&&i.filter((function(e){return e.indexOf("h5params=")>-1})),Array.isArray(a)&&a.length>0)){c="string"==typeof a[0]&&a[0].split("=");try{Array.isArray(c)&&c.length>0&&c[1]&&c[1].indexOf("{")>-1?o=JSON.parse(c[1]):Array.isArray(c)&&c.length>0&&c[1]&&(o=JSON.parse(decodeURIComponent(c[1])))}catch(e){console.log(e)}}if(l="",u="",s="",p=[],Object.keys(o).length>0){if(o.attributes){try{f=JSON.parse(o.attributes)}catch(e){console.log(e)}h=f&&f.crm_params,l=h?h&&JSON.stringify(h):r.crm_params?r.crm_params:""}u=o.activityCode?o.activityCode:r.activity_code?r.activity_code:"",s=o.biz?o.biz:"default",p=o.products?o.products:[]}else l=r.crm_params?r.crm_params:"",u=r.activity_code?r.activity_code:"",s="default",p=[];return e.abrupt("return",K(K({},r),{},{crm_params:l,activity_code:u,biz:s,products:p}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return re.apply(this,arguments)}function re(){return(re=q(U().mark((function e(){var t,n,r,o,i,c,u,s,p,f,h,d,m;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(null===(t=window)||void 0===t?void 0:t.__ENV__)||(null===(n=window)||void 0===n||null===(r=n.__ENVDATA__)||void 0===r?void 0:r.env)||"prod",i=location.userAgent,c=i&&i.indexOf("YoukuDesktop")>-1,u={},u="prod"===o?{rootPath:"product-main-cms",terminal:"pcweb",positionTag:"pcweb_homepage"}:{rootPath:"product-main-cms-test",terminal:"pcweb",positionTag:"pcweb.page.right"},c&&(u="prod"===o?{rootPath:"product-main-cms",terminal:"iku",positionTag:"pcweb_homepage"}:{rootPath:"product-main-cms-test",terminal:"iku",positionTag:"pcweb.page.right"}),s=Object(a.getCookie)("cna")||"homepage_empty_cna",p=window.__INITIAL_DATA__&&window.__INITIAL_DATA__.ip||"0.0.0.0",f=K(K({},u),{},{gray:!!Object(a.getQueryString)("grayMode"),utdid:s,ip:p,userId:0,debug:!1,businessContext:"",mockType:0,ttid:"",isVip:0,businessKey:"main_cms",mock:!1,systemInfo:JSON.stringify({device:"pcweb",os:"pcweb",ver:"1.0.0.0",userAgent:i,guid:"1590141704165YXe",appPackageKey:"com.youku.pcweb",young:0,brand:"",network:"",ouid:"",idfa:"",scale:"",operator:"",resolution:"",pid:"",childGender:0,userId:Number(0),utdid:s})}),h={type:"GET",v:"1.0",ecode:0,dataType:"json",data:JSON.stringify(f),appKey:"24679788"},e.prev=11,e.next=14,l.request("mtop.youku.xspace.maincms.position.query",h);case 14:if(null==(m=e.sent)||null===(d=m.data)||void 0===d||!d.modelData||!Array.isArray(m.data.modelData.positionTaskInfoList)){e.next=19;break}return e.abrupt("return",ce(m.data));case 19:return e.abrupt("return",{});case 20:e.next=25;break;case 22:return e.prev=22,e.t0=e.catch(11),e.abrupt("return",{});case 25:case"end":return e.stop()}}),e,null,[[11,22]])})))).apply(this,arguments)}function oe(e,t,n){return ae.apply(this,arguments)}function ae(){return(ae=q(U().mark((function e(t,n,r){var o,i,c,u,s,p,f,h,d,m;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(a.getCookie)("cna")||"homepage_empty_cna",i=window.__INITIAL_DATA__&&window.__INITIAL_DATA__.ip||"0.0.0.0",c=window&&window.navigator&&window.navigator.userAgent,u=0,(s=c.match(/ZREAL ./))&&s[0]&&s[0].length>0&&(u=Number(s[0].slice(-1))||0),p={debug:!1,gray:!1,pageNo:1,utdid:o,userId:0,bizKey:t||"YOUKU_WEB",appPackageKey:"com.youku.YouKu",session:JSON.stringify({scene:"home_channels"}),showNodeList:1,reqSubNode:0,nodeKey:n||"WEBHOME",ip:i},f={device:"pcweb",os:"pcweb",ver:"1.0.0.0",userAgent:c,guid:"1590141704165YXe",appPackageKey:"com.youku.pcweb",young:0,brand:"",network:"",ouid:"",idfa:"",scale:"",operator:"",resolution:"",pid:"",childGender:0,zx:u},r&&(f.language=r),h={ms_codes:"2019061000",params:JSON.stringify(p),system_info:JSON.stringify(f)},d={type:"GET",v:"1.0",ecode:0,dataType:"json",data:JSON.stringify(h),appKey:"24679788"},e.prev=12,e.next=15,l.request("mtop.youku.columbus.gateway.new.execute",d).catch((function(e){console.log(e)}));case 15:return m=e.sent,e.abrupt("return",ie(m.data[2019061e3].data.nodes));case 19:return e.prev=19,e.t0=e.catch(12),e.abrupt("return",z);case 22:case"end":return e.stop()}}),e,null,[[12,19]])})))).apply(this,arguments)}function ie(e){return e?e.map((function(e){var t=e&&e.data&&e.data.nodeKey,n=e&&e.data&&e.data.nodeKey&&e.data.nodeKey.toLowerCase();return{title:e&&e.data&&e.data.title,url:"https://www.youku.com/channel/".concat(n),pathName:n,nodeKey:t}})):[]}function ce(e){var t=[],n=[],r=[],o=[];return e&&e.modelData&&Array.isArray(e.modelData.positionTaskInfoList)&&e.modelData.positionTaskInfoList.forEach((function(e,a){var i={};e.bizExtProperty&&(i=JSON.parse(e.bizExtProperty));var c={};if(Array.isArray(e.materialInfoList)&&e.materialInfoList[0]){var l="";if(e.materialInfoList[0].materialValue)try{var u=JSON.parse(e.materialInfoList[0].materialValue);Object.keys(u).length>0&&(c=K(K({},c),u),(null==u?void 0:u.img)&&(c.imgUrl=u.img),(null==u?void 0:u.eventType)&&(c.scmType=u.eventType))}catch(e){console.log(e)}e.materialInfoList[0].materialId&&(l=e.materialInfoList[0].materialId),c=K(K({},c),{},{imgId:l})}var s=K(K(K({},i),{},{endTime:e.endTime,startTime:e.startTime,taskId:e.taskId},c),{},{trackInfo:e.trackInfo&&JSON.parse(e.trackInfo)||{}});switch(i.poplayerType){case"on_corner":t.push(s);break;case"full_screen":n.push(s);break;case"top_red":r.push(s);break;case"pic_in_pic":o.push(s)}})),{angle:t,fullScreen:n,topRed:r,picInPic:o}}function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t,n){return(t=se(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e){var t=pe(e,"string");return"symbol"===le(t)?t:String(t)}function pe(e,t){if("object"!==le(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function fe(e){return ve(e)||me(e)||de(e)||he()}function he(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function de(e,t){if(e){if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}function me(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ve(e){if(Array.isArray(e))return ye(e)}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e,t,n){var r=n||Object(a.getQueryString)("rid"),o=!e.rule||we(e.rule,Number(r)),i=!1;return e&&o&&(i=xe(e,t)),i}var _e=function(e,t){if(e&&e.user_identity)if("1"===e.user_identity){if(t&&(2===t.is_vip||0===t.is_vip))return!0}else if("2"===e.user_identity&&t&&1===t.is_vip)return!0;return!1},be=function(e){var t=Object(a.getCookie)("cna")||"",n=t.substr(t.length-1,1);return(e&&e.cna_investment.substr(e.cna_investment.length-1,1))===n},we=function(e,t){var n=!1;if(t=Number(t)?Number(t):1,e&&e.indexOf("-")>-1){var r=(e=e.replace(/\s*/g,"")).split("-").map((function(e){return Number(e)})),o=Math.min.apply(Math,fe(r))||0,a=Math.max.apply(Math,fe(r))||0;t>=o&&t<=a&&(n=!0)}return n},xe=function(e,t){var n=!1,r=!1,o=!1,i=!0,c=navigator.userAgent,l=c&&c.indexOf("YoukuDesktop")>-1;if(l&&!e.isElecShow&&(i=!1),"allChannel"===(null==e?void 0:e.domain_name)||l)o=!0;else{var u="/"===location.pathname?"/channel/".concat(Object(a.getQueryString)("channel")):location.pathname;"v.youku.com"!==location.host&&"so.youku.com"!==location.host||(u=location.host),"pre2-v.youku.com"===location.host&&(u="v.youku.com"),"pre2-so.youku.com"===location.host&&(u="so.youku.com"),"/"===location.pathname&&["prodtest.youku.com","pre2.youku.com","www.youku.com","youku.com","local.m.youku.com"].includes(location.host)&&(u="/channel/webhome"),null!=e&&e.domain_name&&Ee[e.domain_name]===u&&(o=!0)}return e&&e.fixed_investment&&"cna"===e.fixed_investment?r=be(e):"user"===e.fixed_investment?r="0"===e.user_identity&&!t.loginStatus||t&&t.loginStatus&&_e(e,t):"noGray"===e.fixed_investment&&(n=!0),i&&o&&(r||n)},Ee=(ue(J={"www.youku.com":"/channel/webhome","v.youku.com":"v.youku.com","so.youku.com":"so.youku.com","tv.youku.com":"/channel/webtv","movie.youku.com":"/channel/webmovie"},"tv.youku.com","/channel/webtv"),ue(J,"zy.youku.com","/channel/webzy"),ue(J,"music.youku.com","/channel/webmusic"),ue(J,"child.youku.com","/channel/webchild"),ue(J,"jilupian.youku.com","/channel/webjilupian"),ue(J,"gongyi.youku.com","/channel/webgongyi"),ue(J,"sports.youku.com","/channel/tiyu"),ue(J,"auto.youku.com","/channel/webauto"),ue(J,"tech.youku.com","/channel/webzy"),ue(J,"finance.youku.com","/channel/webzy"),ue(J,"ent.youku.com","/channel/webzy"),ue(J,"culture.youku.com","/channel/webzy"),ue(J,"comic.youku.com","/channel/webzy"),ue(J,"travel.youku.com","/channel/webzy"),ue(J,"fashion.youku.com","/channel/webzy"),ue(J,"baby.youku.com","/channel/webzy"),ue(J,"edu.youku.com","/channel/webzy"),ue(J,"game.youku.com","/channel/webzy"),ue(J,"vip.youku.com","/channel/hy"),J),ke=n(29),Se=Object(ke.create)((function(e){return{isI18n:!1,setIsI18n:function(t){return e({isI18n:t})}}})),Oe=n(8),je=n.n(Oe),Le=n(9),Ne=n.n(Le);function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(){Te=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),c=new S(o||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function f(){}function h(){}function d(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(O([])));y&&y!==t&&n.call(y,a)&&(m=y);var g=d.prototype=f.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var o;r(this,"_invoke",{value:function(r,a){function i(){return new t((function(o,i){!function r(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==Ie(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(p).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function w(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=s(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},_(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(g),l(g,c,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function Ce(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ce(a,r,o,i,c,"next",e)}function c(e){Ce(a,r,o,i,c,"throw",e)}i(void 0)}))}}var Ae=n(1),De=Ae.getCookie;function Re(){return Be.apply(this,arguments)}function Be(){return(Be=Pe(Te().mark((function e(){var t,n,r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=De("cna")||"XlQcF5xQrCcCAWoLKdGqIOhS",n={type:"GET",v:"1.0",dataType:"json",data:{appid:"14177",mtopParams:JSON.stringify({count:"1",channel:"PC",fr:"pc",app_source:"main_page",x_utdid:t}),utdid:t},appKey:24679788,jsonpIncPrefix:"headerSearch"},e.prev=2,e.next=5,l.request("mtop.ykrec.RecommendService.recommend",n);case 5:if(!(r=e.sent)){e.next=8;break}return e.abrupt("return",r);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function He(){return Me.apply(this,arguments)}function Me(){return(Me=Pe(Te().mark((function e(){var t,n,r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=De("cna")||"XlQcF5xQrCcCAWoLKdGqIOhS",n={type:"GET",v:"2.0",ecode:1,dataType:"json",data:{pg:"1",pz:"10",appScene:"default_page",appCaller:"youku-search-sdk",searchFrom:"home",utdId:t},appKey:23774304},e.prev=2,e.next=5,l.request("mtop.youku.soku.yksearch",n);case 5:if(!(r=e.sent)){e.next=8;break}return e.abrupt("return",r.data);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function Ue(e){return Fe.apply(this,arguments)}function Fe(){return(Fe=Pe(Te().mark((function e(t){var n,r,o,a;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=De("cna")||"XlQcF5xQrCcCAWoLKdGqIOhS",r={appScene:"kubox",appCaller:"pc",s:"pc",device:"pc",platform:"pc",keyword:t,utdId:n},o={appKey:24679788,jsonpIncPrefix:"headerSearch",v:"2.0",data:JSON.stringify(r),ecode:1,dataType:"jsonp"},e.prev=3,e.next=6,l.request("mtop.youku.soku.yksearch",o);case 6:if(!(a=e.sent)){e.next=9;break}return e.abrupt("return",a.data);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(){Ge=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),c=new S(o||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function f(){}function h(){}function d(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(O([])));y&&y!==t&&n.call(y,a)&&(m=y);var g=d.prototype=f.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var o;r(this,"_invoke",{value:function(r,a){function i(){return new t((function(o,i){!function r(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==Ke(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(p).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function w(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=s(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},_(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(g),l(g,c,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function Ve(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function We(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ve(a,r,o,i,c,"next",e)}function c(e){Ve(a,r,o,i,c,"throw",e)}i(void 0)}))}}var Xe=n(34);function qe(e,t,n){return Je.apply(this,arguments)}function Je(){return(Je=We(Ge().mark((function e(t,n,r){var o,i,c,l,u,s,p,f,h;return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Object(a.getCookie)("cna"),i={click:["/click.index.module","CLK"],show:["/show.index.module","EXP"]},c=document.querySelector('meta[name="data-spm"]'),l=c&&String(c.getAttribute("content"))||"",u=document.querySelector("body"),s=u&&String(u.getAttribute("data-spm"))||"";try{t=JSON.parse(t)}catch(e){console.log(e)}if(p={spm:"".concat(l,".").concat(s,".home.search"),track_info:t,pid:o},"click"!==n){e.next=14;break}return p={spm:"".concat(l,".").concat(s,".home.search"),track_info:t,pid:o,utparam:{yk_abtest:"129:317#337:775#218:491#290:661#142:345"},keywords:r},e.next=12,ze();case 12:p.track_info.aaid=e.sent,p.track_info.k=r;case 14:for(h in p.track_info.source_from="home",p.track_info=JSON.stringify(p.track_info),f="",p)void 0!==p[h]&&(f+="".concat(h,"=").concat(p[h],"&"));(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:[i[n][0],i[n][1],f,"POST"]});case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(){return Ye.apply(this,arguments)}function Ye(){return(Ye=We(Ge().mark((function e(){var t,n;return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Date.now(),n=Object(a.getCookie)("cna"),e.abrupt("return",Xe(n+t));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $e=n(16),Qe=n.n($e),Ze=function(e){var t=new RegExp("(^|&)".concat(e,"=([^&]*)(&|$)"),"i"),n=window.location.search.substr(1).match(t);return null!=n?decodeURI(n[2]):null},et=Object(r.forwardRef)((function(e,t){var n=Se((function(e){return e.isI18n}));Object(r.useImperativeHandle)(t,(function(){return{jumpToSearchResult:l}}));var a="",i="",c=Object(r.useRef)();Object(r.useEffect)((function(){var t,n,r,o,l,s,p,f;if("so.youku.com"===(null===(t=window)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.host)||"pre2-so.youku.com"===(null===(r=window)||void 0===r||null===(o=r.location)||void 0===o?void 0:o.host)||"pre-so.youku.tv"===(null===(l=window)||void 0===l||null===(s=l.location)||void 0===s?void 0:s.host)||"so.youku.tv"===(null===(p=window)||void 0===p||null===(f=p.location)||void 0===f?void 0:f.host)){var h=window.location.pathname.indexOf("q");h+=2;var d=window.location.pathname.substring(h);d=decodeURIComponent(d),c.current.placeholder=d,c.current.value=d,a=d}else if(null!=e&&e.isI18n){var m;c.current.placeholder=(null==e||null===(m=e.i18nHeader)||void 0===m?void 0:m.i18n_Search_DefaultWords)||""}else Re().then((function(e){var t,n,r,o,l;void 0!==(null==e||null===(t=e.result)||void 0===t?void 0:t[0])&&(c.current.placeholder=(null==e?void 0:e.q)||(null==e||null===(n=e.result)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.search_id)||"",a=null==e||null===(o=e.result)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.search_id,(null==e?void 0:e.track_info)&&qe(e.track_info,"show"),i=e.track_info)}));u(),/(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent)&&(c.current.style.width="170px")}),[]);var l=function(){var t,r;if(null==e||!e.isI18n||c.current.value){var o,l=c.current.value.length;if(window.baseCommonAttributes&&window.baseCommonAttributes.isSearchReload){var u=l>0?1:5,s="true"===Ze("gray_new");window.location.href="https://".concat(window.location.host,"/search_video/q_").concat(encodeURIComponent(l>0?c.current.value:c.current.placeholder)).concat(s?"?gray_new=true":"").concat(s?"&searchfrom=".concat(u):"?searchfrom=".concat(u).concat(n?"&isI18n=1":""))}else{var p,f=(null===(p=window)||void 0===p?void 0:p.__ENV__)||"prod",h=location.host.includes("youku.tv")?"so.youku.tv":"so.youku.com";"pre"!==f&&"staging"!==f&&"local"!==f&&"daily"!==f||(h=location.host.includes("youku.tv")?"pre-so.youku.tv":"pre2-so.youku.com"),l>0?window.open("https://".concat(h,"/search_video/q_").concat(encodeURIComponent(c.current.value),"?searchfrom=1").concat(n?"&isI18n=1":"")):window.open("https://".concat(h,"/search_video/q_").concat(encodeURIComponent(c.current.placeholder),"?searchfrom=5").concat(n?"&isI18n=1":""))}i&&qe(i,"click",l||a),(c.current.value.trim().length||null!=c&&null!==(t=c.current)&&void 0!==t&&null!==(r=t.placeholder)&&void 0!==r&&r.length)&&e.saveHistoryWord({value:c.current.value||(null==c||null===(o=c.current)||void 0===o?void 0:o.placeholder)})}},u=function(){c.current.addEventListener("keypress",(function(e){e&&13===e.keyCode&&(l(),c.current.blur())}))};return o.a.createElement("div",{className:"".concat(Qe.a.input_box," ").concat(e.searchShort?Qe.a.input_short:""),style:{width:e.isShowButton||e.isFocus?"":"".concat(e.searchShort?246:353,"px")}},o.a.createElement("span",{className:"iconfontheader icon-search ".concat(Qe.a.icon_box)}),o.a.createElement("input",{placeholder:"",id:"search-input-box",ref:c,autoComplete:"off",className:e.isI18n?Qe.a.input_focus_int:e.isShowButton||e.isFocus?Qe.a.input_focus:"",style:{color:e.isFocus?"#eaeaea":"",backgroundColor:"transparent",borderRight:null!=e&&e.isI18n||!e.isFocus||!e.isSug?"none":"1px solid rgba(255, 255, 255, 0.12)"}}),o.a.createElement("span",{style:{display:e.isFocus&&e.isSug?"block":"none"},className:"aplus_exp aplus_clk iconfontheader icon-searchClear ".concat(Qe.a.search_clear),"data-spm":"clearbutton",onClick:function(){c.current.value=""}}))})),tt=et,nt=n(7),rt=n.n(nt);function ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"CLK",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4?arguments[4]:void 0,a="a2hbt",i="13141534";document.getElementsByTagName("meta")["data-spm"]&&document.getElementsByTagName("meta")["data-spm"].getAttribute("content")&&(a=document.getElementsByTagName("meta")["data-spm"].getAttribute("content")),document.body.getAttribute("data-spm")&&(i=document.body.getAttribute("data-spm"));var c="".concat(a,".").concat(i,".").concat(e).concat(""!==t?".".concat(t):""),l={"data-spm":c,from:"PC",spm:c};r&&(l.en_scm=r,l.scm=r,l["data-scm"]=r);var u=Object.assign({},l);o&&(u=Object.assign(u,{"track-info":o}));var s=[{exargs:u,pageurl:window.location.href}],p={};"CLK"===n&&(p.clkdata=JSON.stringify(s)),"EXP"===n&&(p.expdata=JSON.stringify(s));var f=[];for(var h in p)f.push("".concat(h,"=").concat(p[h]));window.goldlog_queue||(window.goldlog_queue=[]),window.goldlog_queue.push({action:"goldlog.record",arguments:["/yt/youku.pcweb.control",n,f.join("&"),"POST"]})}var at=void 0===arguments?void 0:arguments,it=void 0;function ct(e,t){return ft(e)||pt(e,t)||ut(e,t)||lt()}function lt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ut(e,t){if(e){if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,t):void 0}}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pt(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function ft(e){if(Array.isArray(e))return e}var ht=function(e){var t=new RegExp("(^|&)".concat(e,"=([^&]*)(&|$)"),"i"),n=window.location.search.substr(1).match(t);return null!=n?decodeURI(n[2]):null},dt=function(e){var t=ct(Object(r.useState)([]),2),n=t[0],a=t[1],i=ct(Object(r.useState)(""),2),c=i[0],l=i[1],u=ct(Object(r.useState)(null),2),s=u[0],p=u[1],f=ct(Object(r.useState)(-1),2),h=f[0],d=f[1],m=Object(r.useRef)(null),v=Object(r.useRef)([]),y=e.isVisible;Object(r.useEffect)((function(){var e=document.getElementById("search-input-box"),t=!1;null==e||e.addEventListener("compositionstart",(function(){t=!0})),null==e||e.addEventListener("compositionend",(function(){t=!1}));var n=function(){var n=e.value.trim();d(-1),!t&&n&&Ue(n).then((function(e){var t,n,r,o,i,c=[];(null==e||null===(t=e.nodes)||void 0===t?void 0:t.length)>0&&(null==e||null===(n=e.nodes)||void 0===n||null===(r=n[0])||void 0===r||null===(o=r.nodes)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.nodes).forEach((function(e){var t=e.data;t&&c.push(t)}));for(var u=0;u<c.length;u++)if(c[u].thumbUrl){var s,p,f;d(u),ot("searchOperate","d_titledetail_".concat(u+1),"EXP",null===(s=c[u])||void 0===s||null===(p=s.action)||void 0===p||null===(f=p.report)||void 0===f?void 0:f.scm),c[u].hasExp=!0;break}l(c.length>0&&c[0].q),a(c),v.current=c}))};null==e||e.addEventListener("focus",n),null==e||e.addEventListener("input",function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){var r=it,o=at;clearTimeout(t),t=setTimeout((function(){e.apply(r,o)}),n)}}(n,300)),null==e||e.addEventListener("keydown",(function(t){38===t.keyCode&&null!==m.current&&m.current>=0&&(m.current-=1,m.current<0&&(m.current=0),e.value=v.current[m.current].w,p(m.current)),40===t.keyCode&&(null===m.current?(m.current=0,e.value=v.current[m.current].w,p(m.current)):m.current>=0&&(m.current+=1,m.current>=v.current.length&&(m.current=v.current.length-1),e.value=v.current[m.current].w,p(m.current)))}))}),[]),Object(r.useEffect)((function(){v.current=n,m.current=null,p(null)}),[n]);var g=function(t,n){var r,o;t.stopPropagation(),e.saveHistoryWord({value:n.w}),null!=n&&n.cate&&(window.open("//v.youku.com/v_nextstage/id_".concat(n.cate,".html")),ot("searchOperate","d_titledetail_".concat(index+1),"CLK",null==n||null===(r=n.action)||void 0===r||null===(o=r.report)||void 0===o?void 0:o.scm.replace(/keyword(.*)/,"jumptitle_v.youku.com/v_nextstage/id_".concat(n.cate,".html"))))},_=function(e){if(!e)return"";var t="";if(e.tagType&&e.tagText){switch(e.tagType){case 2:t="#999999";break;case 4:t="#FF008C";break;case 5:t="#2ECDE6";break;default:t="rgba(255, 255, 255, 0.3)"}return o.a.createElement("div",{className:rt.a.tagBox},o.a.createElement("span",{className:rt.a.tag,style:{backgroundColor:t}},o.a.createElement("span",{className:rt.a.tagText},e.tagText)))}return""};return o.a.createElement(o.a.Fragment,null,y&&n.length>0&&o.a.createElement("div",{className:rt.a.sugSearchList,"data-spm":"searchOperate"},n.map((function(t,n){var r,a,i,l,u,p,f,m,v;return o.a.createElement("a",{className:"aplus_exp ".concat(rt.a.sugItem," ").concat(t.thumbUrl?rt.a.sugImgItem:null!==(r=t.titleDTO)&&void 0!==r&&r.subTitle?rt.a.sugTextItem:""," ").concat(n===h?rt.a.sugItemHover:""," ").concat(n===s?rt.a.sugItemFoucs:""),href:"javascript:void(0)",key:t.w||t.keyword,"data-spm":"d_title_".concat(n+1),"data-scm":null==t||null===(a=t.action)||void 0===a||null===(i=a.report)||void 0===i?void 0:i.scm,onClick:function(){return function(t,n){var r,o;if(null!=e&&e.isUosMode&&(document.getElementById("search-input-box").value=t.w),window.baseCommonAttributes&&window.baseCommonAttributes.isSearchReload){var a="true"===ht("gray_new");window.location.href="https://".concat(window.location.host,"/search_video/q_").concat(encodeURIComponent(t.w)).concat(a?"?gray_new=true":"").concat(a?"&searchfrom=2":"?searchfrom=2")}else window.open("https://so.youku.com/search_video/q_".concat(encodeURIComponent(t.w),"?searchfrom=2"));e.saveHistoryWord({value:t.w}),ot("searchOperate","d_title".concat(null!=t&&t.thumbUrl?"detail":"","_").concat(n+1),"CLK",null==t||null===(r=t.action)||void 0===r||null===(o=r.report)||void 0===o?void 0:o.scm)}(t,n)},onMouseEnter:function(){!function(e,t){var n,r;d(-1),!e.hasExp&&null!=e&&e.thumbUrl&&(ot("searchOperate","d_titledetail_".concat(t+1),"EXP",null==e||null===(n=e.action)||void 0===n||null===(r=n.report)||void 0===r?void 0:r.scm),e.hasExp=!0)}(t,n)}},o.a.createElement("div",{className:rt.a.sugItemBox},t.titleDTO&&o.a.createElement("div",{className:rt.a.sugItemBoxLeft,dangerouslySetInnerHTML:{__html:null===(l=t.titleDTO)||void 0===l?void 0:l.title}}),!t.titleDTO&&o.a.createElement("span",null,function(e){var t=c;if(e&&t){t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var n=e.search(new RegExp("(".concat(t,")"),"g"));if(n>=0){var r=t.length,a=e.slice(0,n),i=e.slice(n+r);return o.a.createElement("div",null,a,o.a.createElement("span",{className:rt.a.left_word},t),i)}return e}return e}(t.w)),t.sugIconDTO&&_(t.sugIconDTO)),t.thumbUrl&&o.a.createElement("div",{className:"".concat(rt.a.sugItemHoverBox," ").concat(t.cate?"":rt.a.sugItemHoverBoxNoBtn)},o.a.createElement("div",{className:rt.a.sugItemHoverBoxImg,style:{backgroundImage:"url(".concat(t.thumbUrl,")")}}),o.a.createElement("div",{className:rt.a.sugItemHoverContent},o.a.createElement("div",{className:rt.a.sugItemHoverContentTitle},o.a.createElement("div",{className:rt.a.sugItemBoxLeft,dangerouslySetInnerHTML:{__html:null===(u=t.titleDTO)||void 0===u?void 0:u.title}}),_(t.sugIconDTO)),(null===(p=t.titleDTO)||void 0===p?void 0:p.subTitle)&&o.a.createElement("div",{className:rt.a.sugItemHoverContentTip,dangerouslySetInnerHTML:{__html:null===(f=t.titleDTO)||void 0===f?void 0:f.subTitle}})),t.cate&&o.a.createElement("div",{className:"".concat(rt.a.sugItemHoverBtn),onClick:function(e){g(e,t)}},"\u64ad\u653e")),!t.thumbUrl&&(null===(m=t.titleDTO)||void 0===m?void 0:m.subTitle)&&o.a.createElement("div",{className:rt.a.sugTextItemHover,dangerouslySetInnerHTML:{__html:null===(v=t.titleDTO)||void 0===v?void 0:v.subTitle}}))}))))},mt=dt,vt=n(5),yt=n.n(vt);function gt(e,t){return Et(e)||xt(e,t)||bt(e,t)||_t()}function _t(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bt(e,t){if(e){if("string"==typeof e)return wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wt(e,t):void 0}}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xt(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function Et(e){if(Array.isArray(e))return e}var kt=function(e){var t=new RegExp("(^|&)".concat(e,"=([^&]*)(&|$)"),"i"),n=window.location.search.substr(1).match(t);return null!=n?decodeURI(n[2]):null},St=function(e){var t=gt(Object(r.useState)([]),2),n=t[0],a=t[1],i=gt(Object(r.useState)(""),2),c=i[0],l=i[1],u=gt(Object(r.useState)(0),2),s=u[0],p=u[1],f=gt(Object(r.useState)(0),2),h=f[0],d=f[1],m=Object(r.useRef)(),v=Object(r.useRef)(),y=function(t){var n,r,o,a;return null!==(n=e.hostSearchMap[t])&&void 0!==n&&null!==(r=n.nodes[0])&&void 0!==r&&r.nodes?JSON.parse(JSON.stringify(null===(o=e.hostSearchMap[t])||void 0===o||null===(a=o.nodes[0])||void 0===a?void 0:a.nodes.slice(0,5))):[]};Object(r.useEffect)((function(){e.isVisible&&a(y(c||e.hostSearchDefaultTab))}),[e.isVisible]),Object(r.useEffect)((function(){e.hostSearchDefaultTab&&e.hostSearchTabs.length>0&&e.hostSearchMap&&"{}"!==JSON.stringify(e.hostSearchMap)&&(l(e.hostSearchDefaultTab),a(y(e.hostSearchDefaultTab)))}),[e.hostSearchMap,e.hostSearchDefaultTab,e.hostSearchTabs]);var g=function(e){switch(e){case 0:return"one";case 1:return"two";case 2:return"three";case 9:return"last";default:return"more"}},_=function(t,n,r){var a,i,c,l,u,s;return o.a.createElement("a",{className:"aplus_exp ".concat(yt.a.hot_item," ").concat(t.data.posterImage?yt.a.hot_item_img_hover:yt.a.hot_item_txt_hover),href:"javascript:void(0)",key:"d_poster_".concat(r,"_").concat(n),"data-spm":"d_poster_".concat(n+1),"data-scm":null==t||null===(a=t.data)||void 0===a||null===(i=a.action)||void 0===i||null===(c=i.report)||void 0===c?void 0:c.scm,"data-trackinfo":encodeURIComponent(JSON.stringify(null==t||null===(l=t.data)||void 0===l||null===(u=l.action)||void 0===u||null===(s=u.report)||void 0===s?void 0:s.trackInfo)),onMouseEnter:function(){!function(e,t){var n,r,o,a;!e.hasExp&&null!=e&&null!==(n=e.data)&&void 0!==n&&n.posterImage&&(ot("searchTop","d_posterdetail_".concat(t+1),"EXP",null==e||null===(r=e.data)||void 0===r||null===(o=r.action)||void 0===o||null===(a=o.report)||void 0===a?void 0:a.scm),e.hasExp=!0)}(t,n)},onClick:function(){return function(t,n){var r,o,a,i,c,l,u;ot("searchTop","d_poster".concat(null!=t&&null!==(r=t.data)&&void 0!==r&&r.posterImage?"detail":"","_").concat(n+1),"CLK",null==t||null===(o=t.data)||void 0===o||null===(a=o.action)||void 0===a||null===(i=a.report)||void 0===i?void 0:i.scm);var s,p,f=t&&t.data&&(t.data.keyword||t.data.title||""),h=document.querySelector("#search-input-box");if(null!=e&&e.isUosMode&&(h.value=f),h&&h.blur(),e.saveHistoryWord({value:f}),null!=t&&null!==(c=t.data)&&void 0!==c&&c.encodeShowId||null!=t&&null!==(l=t.data)&&void 0!==l&&l.showId)window.open("//v.youku.com/v_nextstage/id_".concat((null==t||null===(s=t.data)||void 0===s?void 0:s.encodeShowId)||(null==t||null===(p=t.data)||void 0===p?void 0:p.showId),".html"));else if(null!=t&&null!==(u=t.data)&&void 0!==u&&u.vid)window.open("//v.youku.com/v_show/id_".concat(t.data.vid,".html"));else if(window.baseCommonAttributes&&window.baseCommonAttributes.isSearchReload){var d="true"===kt("gray_new");window.location.href="https://".concat(window.location.host,"/search_video/q_").concat(encodeURIComponent(f)).concat(d?"?gray_new=true":"").concat(d?"&searchfrom=4":"?searchfrom=4")}else window.open("https://so.youku.com/search_video/q_".concat(encodeURIComponent(f),"?searchfrom=4"))}(t,n)}},o.a.createElement("div",{className:"".concat(yt.a.order_box)},o.a.createElement("div",{className:"".concat(yt.a.order," ").concat(yt.a[g(n)])},o.a.createElement("span",{className:yt.a.text},n+1))),o.a.createElement("div",{className:yt.a.hot_item_nohover_box},o.a.createElement("div",{className:yt.a.hot_word},r),t.data.searchIndexTitle&&t.data.searchIndexValue&&o.a.createElement("div",{className:yt.a.hot_word_tag},"\xa0\xb7\xa0",t.data.searchIndexTitle,o.a.createElement("span",{className:yt.a.hot_word_tag_number},t.data.searchIndexValue)),!(t.data.searchIndexTitle&&t.data.searchIndexValue)&&t.data.hotInfo&&o.a.createElement("span",{className:yt.a.hot_point_tag},o.a.createElement("span",{className:"iconfontheader ".concat(yt.a.hot_point_tag_icon)}),t.data.hotInfo)),t.data.posterImage&&o.a.createElement("div",{className:yt.a.hot_item_hover_box},o.a.createElement("div",{className:yt.a.hot_item_hover_box_img,style:{backgroundImage:"url(".concat(t.data.posterImage,")")}}),o.a.createElement("div",{className:yt.a.hot_item_hover_content},o.a.createElement("div",{className:yt.a.hot_item_hover_content_title},o.a.createElement("div",{className:yt.a.hot_word},r),t.data.searchIndexTitle&&t.data.searchIndexValue&&o.a.createElement("div",{className:yt.a.hot_word_tag},"\xa0\xb7\xa0",t.data.searchIndexTitle,o.a.createElement("span",{className:yt.a.hot_word_tag_number},t.data.searchIndexValue))),t.data.videoInfo&&o.a.createElement("div",{className:yt.a.hot_item_hover_content_txt},t.data.videoInfo.replace(/\xb7/g," \xb7 ")),t.data.hotComment&&o.a.createElement("div",{className:yt.a.hot_item_hover_content_txt},t.data.hotComment))))};return o.a.createElement(o.a.Fragment,null,e.isVisible&&n&&n.length>0&&o.a.createElement("div",{className:yt.a.hot_search_list,"data-spm":"searchTop",onMouseDown:function(e){e.preventDefault()}},o.a.createElement("div",{className:yt.a.nav_list},o.a.createElement("div",{ref:m,className:yt.a.nav_item_box},o.a.createElement("div",{ref:v,className:yt.a.nav_item_box_content,style:{left:"".concat(s,"px")}},Array.isArray(e.hostSearchTabs)&&e.hostSearchTabs&&e.hostSearchTabs.length>0&&e.hostSearchTabs.map((function(e,t){var n;return o.a.createElement("a",{className:"aplus_exp aplus_clk ".concat(yt.a.nav_item," ").concat(e.data&&e.data.cateName===c?yt.a.current_item:""),href:"javascript:void(0)",key:"d_channeltab_".concat(null==e||null===(n=e.data)||void 0===n?void 0:n.cateName,"_").concat(t),"data-spm":"d_channeltab_".concat(t+1),onClick:function(){var t;t=e.data&&e.data.cateName,l(t),a(y(t))}},e.data&&e.data.cateName)})))),o.a.createElement("div",{className:yt.a.nav_page_tabs},o.a.createElement("div",{className:"".concat(yt.a.nav_page_tabs_left," ").concat(0===s?yt.a.nav_page_tabs_opacity:""),onClick:function(){p(0)}}),o.a.createElement("div",{className:"".concat(yt.a.nav_page_tabs_right," ").concat(0!==s?yt.a.nav_page_tabs_opacity:""),onClick:function(){if(h)p(h);else{var e=m.current.clientWidth-v.current.clientWidth;d(e),p(e)}}}))),o.a.createElement("div",{className:yt.a.list_box},n&&n.map((function(e,t){var n=e&&e.data&&(e.data.keyword||e.data.title||"");return _(e,t,n)}))),o.a.createElement("div",null,o.a.createElement("a",{href:"https://acz.youku.com/wow/ykpage/act/top_hot",target:"_black",className:"aplus_exp aplus_clk ".concat(yt.a.hot_more),"data-spm":"d_more"},"\u66f4\u591a\u70ed\u95e8\u641c\u7d22"))))},Ot=St,jt=n(20),Lt=n.n(jt);function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pt(r.key),r)}}function Ct(e,t,n){return t&&Tt(e.prototype,t),n&&Tt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pt(e){var t=At(e,"string");return"symbol"===Nt(t)?t:String(t)}function At(e,t){if("object"!==Nt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Dt=function(){function e(t){It(this,e),this.name="storage"}return Ct(e,[{key:"setItem",value:function(e){var t={name:"",value:"",expires:"",startTime:(new Date).getTime()},n={};Object.assign(n,t,e),n.expires?localStorage.setItem(n.name,JSON.stringify(n)):("[object Object]"===Object.prototype.toString.call(n.value)&&(n.value=JSON.stringify(n.value)),"[object Array]"===Object.prototype.toString.call(n.value)&&(n.value=JSON.stringify(n.value)),localStorage.setItem(n.name,n.value))}},{key:"getItem",value:function(e){var t=localStorage.getItem(e);try{t=JSON.parse(t)}catch(e){console.log("error",e)}return t&&t.startTime?(new Date).getTime()-t.startTime>t.expires?(localStorage.removeItem(e),!1):t.value:t}},{key:"removeItem",value:function(e){localStorage.removeItem(e)}},{key:"clear",value:function(){localStorage.clear()}}]),e}();function Rt(e){return(new Dt).getItem(e)}function Bt(e){(new Dt).setItem(e)}function Ht(e){(new Dt).removeItem(e)}var Mt=function(e){var t=new RegExp("(^|&)".concat(e,"=([^&]*)(&|$)"),"i"),n=window.location.search.substr(1).match(t);return null!=n?decodeURI(n[2]):null},Ut=function(e){var t,n=Se((function(e){return e.isI18n}));return o.a.createElement(o.a.Fragment,null,e.isVisible&&e.historyList.length>0&&o.a.createElement("div",{className:Lt.a.history_search_list,"data-spm":"searchHistory"},o.a.createElement("h5",{className:Lt.a.title},null!=e&&e.isI18n?(null==e||null===(t=e.i18nHeader)||void 0===t?void 0:t.i18n_Search_History)||"Recent searches":"\u5386\u53f2\u641c\u7d22",o.a.createElement("img",{className:"aplus_exp aplus_clk","data-spm":"delete",src:"//img.alicdn.com/imgextra/i4/O1CN01q5QHSs1tYf71K7OAf_!!6000000005914-2-tps-32-32.png",width:"20",onClick:function(){null!=e&&e.isUosMode?Ht("youku_history_word"):n?Object(a.setCookie)("youku_history_word",JSON.stringify([]),.1,".youku.tv"):Object(a.setCookie)("youku_history_word",JSON.stringify([]),.1,".youku.com")}})),o.a.createElement("div",{className:Lt.a.historyListBox},e.historyList.map((function(t,r){return o.a.createElement("a",{className:"aplus_exp aplus_clk ".concat(Lt.a.history_item),href:"javascript:void(0)","data-spm":"d_title_".concat(r+1),"data-trackinfo":encodeURIComponent(JSON.stringify({object_title:t})),key:r+(new Date).getTime(),onClick:function(r){return function(t,r){if(t.preventDefault(),null!=e&&e.isUosMode&&(document.getElementById("search-input-box").value=r),window.baseCommonAttributes&&window.baseCommonAttributes.isSearchReload){var o="true"===Mt("gray_new");window.location.href="https://".concat(window.location.host,"/search_video/q_").concat(encodeURIComponent(r)).concat(o?"?gray_new=true":"").concat(o?"&searchfrom=3":"?searchfrom=3").concat(n?"&isI18n=1":"")}else{var a,i=(null===(a=window)||void 0===a?void 0:a.__ENV__)||"prod",c=location.host.includes("youku.tv")?"so.youku.tv":"so.youku.com";"pre"!==i&&"staging"!==i&&"local"!==i&&"daily"!==i||(c=location.host.includes("youku.tv")?"pre-so.youku.tv":"pre2-so.youku.com"),window.open("https://".concat(c,"/search_video/q_").concat(encodeURIComponent(r),"?searchfrom=3").concat(n?"&isI18n=1":""))}e.saveHistoryWord({value:r})}(r,t)}},t)})))))},Ft=Ut,Kt=n(4),Gt=n.n(Kt);function Vt(e,t){return zt(e)||Jt(e,t)||Xt(e,t)||Wt()}function Wt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xt(e,t){if(e){if("string"==typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qt(e,t):void 0}}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jt(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function zt(e){if(Array.isArray(e))return e}var Yt=function(e){var t=new RegExp("(^|&)".concat(e,"=([^&]*)(&|$)"),"i"),n=window.location.search.substr(1).match(t);return null!=n?decodeURI(n[2]):null},$t=function(e){var t=Vt(Object(r.useState)([]),2),n=t[0],a=t[1],i=Vt(Object(r.useState)(""),2),c=i[0],l=i[1],u=Vt(Object(r.useState)(0),2),s=u[0],p=u[1],f=Vt(Object(r.useState)(0),2),h=f[0],d=f[1],m=Object(r.useRef)(),v=Object(r.useRef)(),y=function(t){var n,r,o,a;return null!==(n=e.hostSearchMap[t])&&void 0!==n&&null!==(r=n.nodes[0])&&void 0!==r&&r.nodes?JSON.parse(JSON.stringify(null===(o=e.hostSearchMap[t])||void 0===o||null===(a=o.nodes[0])||void 0===a?void 0:a.nodes.slice(0,5))):[]},g=function(t){var n=document.querySelector(".hot-search-component_hot_component"),r=!1;t.target.className.indexOf("hot-search-component_nav_item")>-1&&(r=!0),n&&n.contains(t.target)||r||e.handleHotSearch()};Object(r.useEffect)((function(){return e.isVisible&&(a(y(c||e.hostSearchDefaultTab)),document.addEventListener("click",g)),e.isVisible||document.removeEventListener("click",g),function(){document.removeEventListener("click",g)}}),[e.isVisible]),Object(r.useEffect)((function(){e.hostSearchDefaultTab&&e.hostSearchTabs.length>0&&e.hostSearchMap&&"{}"!==JSON.stringify(e.hostSearchMap)&&(l(e.hostSearchDefaultTab),a(y(e.hostSearchDefaultTab)))}),[e.hostSearchMap,e.hostSearchDefaultTab,e.hostSearchTabs]);var _=function(e){switch(e){case 0:return"one";case 1:return"two";case 2:return"three";case 9:return"last";default:return"more"}},b=function(t,n,r){var a,i,c,l,u,s;return o.a.createElement("a",{className:"aplus_exp ".concat(Gt.a.hot_item," ").concat(t.data.posterImage?Gt.a.hot_item_img_hover:Gt.a.hot_item_txt_hover),href:"javascript:void(0)",key:"d_poster_".concat(r,"_").concat(n),"data-spm":"d_poster_".concat(n+1),"data-scm":null==t||null===(a=t.data)||void 0===a||null===(i=a.action)||void 0===i||null===(c=i.report)||void 0===c?void 0:c.scm,"data-trackinfo":encodeURIComponent(JSON.stringify(null==t||null===(l=t.data)||void 0===l||null===(u=l.action)||void 0===u||null===(s=u.report)||void 0===s?void 0:s.trackInfo)),onMouseEnter:function(){!function(e,t){var n,r,o,a;!e.hasExp&&null!=e&&null!==(n=e.data)&&void 0!==n&&n.posterImage&&(ot("d_hotSearch","d_posterdetail_".concat(t+1),"EXP",null==e||null===(r=e.data)||void 0===r||null===(o=r.action)||void 0===o||null===(a=o.report)||void 0===a?void 0:a.scm),e.hasExp=!0)}(t,n)},onClick:function(){return function(t,n){var r,o,a,i,c,l,u;ot("d_hotSearch","d_poster".concat(null!=t&&null!==(r=t.data)&&void 0!==r&&r.posterImage?"detail":"","_").concat(n+1),"CLK",null==t||null===(o=t.data)||void 0===o||null===(a=o.action)||void 0===a||null===(i=a.report)||void 0===i?void 0:i.scm);var s,p,f=t&&t.data&&(t.data.keyword||t.data.title||"");if(null!=e&&e.isUosMode&&(document.getElementById("search-input-box").value=f),e.saveHistoryWord({value:f}),null!=t&&null!==(c=t.data)&&void 0!==c&&c.encodeShowId||null!=t&&null!==(l=t.data)&&void 0!==l&&l.showId)window.open("//v.youku.com/v_nextstage/id_".concat((null==t||null===(s=t.data)||void 0===s?void 0:s.encodeShowId)||(null==t||null===(p=t.data)||void 0===p?void 0:p.showId),".html"));else if(null!=t&&null!==(u=t.data)&&void 0!==u&&u.vid)window.open("//v.youku.com/v_show/id_".concat(t.data.vid,".html"));else if(window.baseCommonAttributes&&window.baseCommonAttributes.isSearchReload){var h="true"===Yt("gray_new");window.location.href="https://".concat(window.location.host,"/search_video/q_").concat(encodeURIComponent(f)).concat(h?"?gray_new=true":"").concat(h?"&searchfrom=4":"?searchfrom=4")}else window.open("https://so.youku.com/search_video/q_".concat(encodeURIComponent(f),"?searchfrom=4"))}(t,n)}},o.a.createElement("div",{className:"".concat(Gt.a.order_box)},o.a.createElement("div",{className:"".concat(Gt.a.order," ").concat(Gt.a[_(n)])},o.a.createElement("span",{className:Gt.a.text},n+1))),o.a.createElement("div",{className:Gt.a.hot_item_nohover_box},o.a.createElement("span",{className:Gt.a.hot_word},r),t.data.searchIndexTitle&&t.data.searchIndexValue&&o.a.createElement("span",{className:Gt.a.hot_word_tag},"\xa0\xb7\xa0",t.data.searchIndexTitle,o.a.createElement("span",{className:Gt.a.hot_word_tag_number},t.data.searchIndexValue)),!(t.data.searchIndexTitle&&t.data.searchIndexValue)&&t.data.hotInfo&&o.a.createElement("span",{className:Gt.a.hot_point_tag},o.a.createElement("span",{className:"iconfontheader ".concat(Gt.a.hot_point_tag_icon)}),t.data.hotInfo)),t.data.posterImage&&o.a.createElement("div",{className:Gt.a.hot_item_hover_box},o.a.createElement("div",{className:Gt.a.hot_item_hover_box_img,style:{backgroundImage:"url(".concat(t.data.posterImage,")")}}),o.a.createElement("div",{className:Gt.a.hot_item_hover_content},o.a.createElement("div",{className:Gt.a.hot_item_hover_content_title},o.a.createElement("span",{className:Gt.a.hot_word},r),t.data.searchIndexTitle&&t.data.searchIndexValue&&o.a.createElement("span",{className:Gt.a.hot_word_tag},"\xa0\xb7\xa0",t.data.searchIndexTitle,o.a.createElement("span",{className:Gt.a.hot_word_tag_number},t.data.searchIndexValue))),t.data.videoInfo&&o.a.createElement("div",{className:Gt.a.hot_item_hover_content_txt},t.data.videoInfo.replace(/\xb7/g," \xb7 ")),t.data.hotComment&&o.a.createElement("div",{className:Gt.a.hot_item_hover_content_txt},t.data.hotComment))))};return o.a.createElement(o.a.Fragment,null,e.isVisible&&n.length>0&&o.a.createElement("div",{className:"".concat(Gt.a.hot_component," ").concat(e.searchShort?Gt.a.hot_component_short:"")},o.a.createElement("div",{className:Gt.a.nav_list},o.a.createElement("div",{ref:m,className:Gt.a.nav_item_box},o.a.createElement("div",{ref:v,className:Gt.a.nav_item_box_content,style:{left:"".concat(s,"px")}},Array.isArray(e.hostSearchTabs)&&e.hostSearchTabs&&e.hostSearchTabs.length>0&&e.hostSearchTabs.map((function(e,t){var n;return o.a.createElement("a",{className:"aplus_exp aplus_clk ".concat(Gt.a.nav_item," ").concat(e.data&&e.data.cateName===c?Gt.a.current_item:""),href:"javascript:void(0)",key:"d_channeltab_".concat(null==e||null===(n=e.data)||void 0===n?void 0:n.cateName,"_").concat(t),"data-spm":"d_channeltab_".concat(t+1),onClick:function(){var t;t=e.data&&e.data.cateName,l(t),a(y(t))}},e.data&&e.data.cateName)})))),o.a.createElement("div",{className:Gt.a.nav_page_tabs},o.a.createElement("div",{className:"".concat(Gt.a.nav_page_tabs_left," ").concat(0===s?Gt.a.nav_page_tabs_opacity:""),onClick:function(){p(0)}}),o.a.createElement("div",{className:"".concat(Gt.a.nav_page_tabs_right," ").concat(0!==s?Gt.a.nav_page_tabs_opacity:""),onClick:function(){if(h)p(h);else{var e=m.current.clientWidth-v.current.clientWidth;d(e),p(e)}}}))),o.a.createElement("div",{className:Gt.a.list_box},n&&n.map((function(e,t){var n=e&&e.data&&(e.data.keyword||e.data.title||"");return b(e,t,n)}))),o.a.createElement("div",null,o.a.createElement("a",{href:"https://acz.youku.com/wow/ykpage/act/top_hot",target:"_black",className:"aplus_exp aplus_clk ".concat(Gt.a.hot_more),"data-spm":"d_more"},"\u66f4\u591a\u70ed\u95e8\u641c\u7d22"))))},Qt=$t;function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function en(){en=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),c=new S(o||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function f(){}function h(){}function d(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(O([])));y&&y!==t&&n.call(y,a)&&(m=y);var g=d.prototype=f.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var o;r(this,"_invoke",{value:function(r,a){function i(){return new t((function(o,i){!function r(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==Zt(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(p).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function w(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=s(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},_(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(g),l(g,c,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function tn(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function nn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){tn(a,r,o,i,c,"next",e)}function c(e){tn(a,r,o,i,c,"throw",e)}i(void 0)}))}}function rn(e,t){return un(e)||ln(e,t)||an(e,t)||on()}function on(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function an(e,t){if(e){if("string"==typeof e)return cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(e,t):void 0}}function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ln(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function un(e){if(Array.isArray(e))return e}var sn=!1;function pn(e){var t=rn(Object(r.useState)(!1),2),n=t[0],i=t[1],c=rn(Object(r.useState)(!1),2),l=c[0],u=c[1],s=rn(Object(r.useState)(!1),2),p=s[0],f=s[1],h=rn(Object(r.useState)([]),2),d=h[0],m=h[1],v=rn(Object(r.useState)(!1),2),y=v[0],g=v[1],_=rn(Object(r.useState)([]),2),b=_[0],w=_[1],x=rn(Object(r.useState)(""),2),E=x[0],k=x[1],S=rn(Object(r.useState)({}),2),O=S[0],j=S[1],L=Object(r.useRef)();Object(r.useEffect)((function(){var t=document.querySelector("#search-input-box");t.addEventListener("focus",(function(){i(!0),u(!0),g(!1),t.value.length>0&&f(!0),0===t.value.length&&f(!1),e.setSearchIsFocus&&e.setSearchIsFocus(!0)})),t.addEventListener("blur",(function(){sn=!1,setTimeout((function(){i(!1),e.setSearchIsFocus&&e.setSearchIsFocus(!1),sn||u(!1)}),200)})),t.addEventListener("input",(function(){t.value.length>0&&(f(!0),g(!1)),0===t.value.length&&f(!1)})),He().then((function(e){var t,n,r,o,a,i,c,l,u,s,p,f;null!=e&&null!==(t=e.nodes[0])&&void 0!==t&&null!==(n=t.nodes[0])&&void 0!==n&&n.nodes&&null!=e&&null!==(r=e.nodes[0])&&void 0!==r&&null!==(o=r.nodes[0])&&void 0!==o&&o.data&&(w(null==e||null===(a=e.nodes[0])||void 0===a||null===(i=a.nodes[0])||void 0===i?void 0:i.nodes),k(null==e||null===(c=e.nodes[0])||void 0===c||null===(l=c.nodes[0])||void 0===l||null===(u=l.data)||void 0===u?void 0:u.defaultTab),j(null==e||null===(s=e.nodes[0])||void 0===s||null===(p=s.nodes[0])||void 0===p||null===(f=p.data)||void 0===f?void 0:f.tabDataMap))}))}),[]),Object(r.useEffect)((function(){T()}),[n]);var N=function(){var t=[];if(e.isUosMode)t=Rt("youku_history_word")||[];else if(t=Object(a.getCookie)("youku_history_word"))try{t=JSON.parse(t)}catch(e){t=[]}else t=[];return t},I=function(t){var n,r=N();null==r||r.unshift(encodeURIComponent(t.value));for(var o=Array.from(new Set(r)),i=o.length,c="",l=0;l<o.length;l++)if((c+=o[l]).length>600){i=l-1;break}o=null===(n=o)||void 0===n?void 0:n.slice(0,i),e.isUosMode?Bt({name:"youku_history_word",value:o}):e.isI18n?Object(a.setCookie)("youku_history_word",JSON.stringify(o),null,".youku.tv"):Object(a.setCookie)("youku_history_word",JSON.stringify(o),null,".youku.com")},T=function(){var e=N();e=Array.isArray(e)&&e.map((function(e){return decodeURIComponent(e)})),m(e)},C=function(){var e=nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L.current.jumpToSearchResult();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=null,A=null;return o.a.createElement("div",{className:"".concat(Ne.a.search_box," ").concat(n?Ne.a.focus_search_box:""," ").concat(y?Ne.a.hover_search_box:""," ").concat(e.isPaddingMac?Ne.a.search_box_mac:""," ").concat(e.showTopHeaderNav?Ne.a.search_box_nav:""," ").concat(e.searchShort?Ne.a.search_box_short:""," ").concat(e.isI18n?Ne.a.search_box_int:""),"data-spm":"search"},o.a.createElement(tt,{isFocus:n,isSug:p,isShowButton:l,ref:L,saveHistoryWord:I,searchShort:e.searchShort,isI18n:null==e?void 0:e.isI18n,i18nHeader:null==e?void 0:e.i18nHeader}),!e.isI18n&&o.a.createElement("div",{className:"".concat(Ne.a.hot_search_box),onMouseEnter:n?null:function(){clearTimeout(P),A=setTimeout((function(){g(!0)}),100)},onMouseLeave:sn?null:function(){clearTimeout(A),sn=!1,P=setTimeout((function(){g(!1)}),150)},"data-spm":"d_hotSearch"},o.a.createElement("div",{className:"aplus_exp aplus_clk ".concat(Ne.a.hot_search_box_title),onClick:n?function(){sn=!0,g(!0)}:null},o.a.createElement("span",{className:"iconfontheader iconhuore-16-mian ".concat(Ne.a.fire," ").concat(y?Ne.a.selected:"")}),o.a.createElement("a",{className:"".concat(Ne.a.hot_search," ").concat(y?Ne.a.selected:"")},"\u70ed\u641c\u699c")),o.a.createElement(Qt,{isVisible:y,hostSearchTabs:b,hostSearchDefaultTab:E,hostSearchMap:O,searchShort:e.searchShort,handleHotSearch:function(){sn=!1,g(!1),u(!1)},saveHistoryWord:I,isUosMode:e.isUosMode})),l&&o.a.createElement("div",{className:"aplus_exp aplus_clk ".concat(Ne.a.focus_button),"data-spm":"searchbutton",onClick:C},o.a.createElement("img",{src:"//img.alicdn.com/imgextra/i2/O1CN01TTI7vI1GYPt7FowfZ_!!6000000000634-2-tps-200-200.png"})),o.a.createElement("div",{className:Ne.a.search_list},!(null!=e&&e.isI18n)&&o.a.createElement(mt,{isVisible:n&&p,saveHistoryWord:I,isUosMode:e.isUosMode}),o.a.createElement(Ft,{historyList:d,isVisible:n&&!p,saveHistoryWord:I,isI18n:null==e?void 0:e.isI18n,i18nHeader:null==e?void 0:e.i18nHeader,isUosMode:e.isUosMode}),!(null!=e&&e.isI18n)&&o.a.createElement(Ot,{isVisible:n&&!p,hostSearchTabs:b,hostSearchDefaultTab:E,hostSearchMap:O,historyListLength:d.length?d.length:0,saveHistoryWord:I,isUosMode:e.isUosMode})))}var fn=pn,hn=n(18),dn=n.n(hn);function mn(e,t){return bn(e)||_n(e,t)||yn(e,t)||vn()}function vn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yn(e,t){if(e){if("string"==typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gn(e,t):void 0}}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _n(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function bn(e){if(Array.isArray(e))return e}var wn=function(e){var t=mn(Object(r.useState)(!1),2),n=t[0],a=t[1],i=mn(Object(r.useState)(!1),2),c=i[0],l=i[1];Object(r.useEffect)((function(){e.logininstance&&e.logininstance&&e.logininstance.eventbusLogin.subscribe((function(e){e.userInfo&&a(e.isLoginStatus)}))}),[e.logininstance]),Object(r.useEffect)((function(){document.addEventListener("scroll",(function(){var e=document.documentElement.scrollTop||document.body.scrollTop;if("v.youku.com"!==location.host&&"pre2-v.youku.com"!==location.host){if(e>200&&!n){var t=localStorage.getItem("logouttiptime"),r=new Date,o=new Date("".concat(r.getFullYear(),"-").concat(r.getMonth()+1,"-").concat(r.getDate())).getTime();t?t!=="".concat(o)&&l(!1):l(!0)}}else l(!1)}))}),[]);var u=function(t){t.preventDefault(),e.logininstance&&e.logininstance.login()};return o.a.createElement("div",null,c&&!n&&o.a.createElement("div",{className:"".concat(dn.a.infoBottom)},o.a.createElement("img",{className:dn.a.close,src:"//img.alicdn.com/tfs/TB1lPFxh4D1gK0jSZFyXXciOVXa-12-12.svg",onClick:function(e){!function(){l(!1);var e=new Date,t=new Date("".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())).getTime();localStorage.setItem("logouttiptime","".concat(t))}()}}),o.a.createElement("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),u(e)},className:dn.a.title},"\u767b\u5f55\u4f18\u9177\uff0c\u5c0a\u4eab\u54c1\u8d28\u89c2\u5f71\u4f53\u9a8c"),o.a.createElement("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),u(e)},className:dn.a.subTitle},"VIP\u767b\u5f55\uff0c\u8df3\u8fc7\u5e7f\u544a\u770b\u5927\u7247"),o.a.createElement("div",{className:dn.a.buttonBox},o.a.createElement("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),u(e)}},"\u7acb\u5373\u767b\u5f55"))))},xn=wn,En=n(2),kn=n.n(En);function Sn(e,t){return In(e)||Nn(e,t)||jn(e,t)||On()}function On(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jn(e,t){if(e){if("string"==typeof e)return Ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ln(e,t):void 0}}function Ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nn(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function In(e){if(Array.isArray(e))return e}var Tn=function(e){var t=Sn(Object(r.useState)({}),2),n=t[0],i=t[1],c=Sn(Object(r.useState)(!1),2),l=c[0],u=c[1],s=Sn(Object(r.useState)(!1),2),p=s[0],f=s[1],h=Sn(Object(r.useState)(!1),2),d=h[0],m=h[1],v=Sn(Object(r.useState)(""),2),y=v[0],g=v[1],_=Sn(Object(r.useState)(""),2),b=_[0],w=_[1],x=e.theme,E=e.crmData,k=null,S=null,O=!1,j=Object(a.getPreStr)(y),L=null==y?void 0:y.includes(j),N=null!=y&&y.includes("youku.tv")?"".concat(L?"pre":"www",".youku.tv"):"".concat(L?"prodtest":"www",".youku.com");Object(r.useEffect)((function(){e.logininstance&&(e.logininstance&&e.logininstance.eventbusLogin.subscribe((function(e){e.userInfo&&(i(e.userInfo),f(e.isLoginStatus),V(e.isLoginStatus),m(!(1!==e.userInfo.is_vip&&"1"!==e.userInfo.is_vip)),ot("loginyindao",e.isLoginStatus?1===e.userInfo.is_vip||"1"===e.userInfo.is_vip?"d_renew":"d_startpay":"d_login","EXP"))})),e.logininstance.checkLogin())}),[e.logininstance]),Object(r.useEffect)((function(){return g(window.location.host),w(window.location.search),function(){clearTimeout(k),clearTimeout(S)}}),[]),Object(r.useEffect)((function(){e.loginGuideAllow&&V()}),[e.loginGuideAllow]),Object(r.useEffect)((function(){e.mouseIn&&l&&(clearTimeout(k),u(!1))}),[e.mouseIn]);var I,T,C,P,A,D,R,B,H,M,U,F,K,G,V=function(t){(O||void 0!==t)&&(O=!0,(t=t||p)?u(!1):e.loginGuideAllow&&(u(!0),ot("loginyindaopanel","d_login","EXP"),ot("loginyindaokaitonghuiyuan","d_login","EXP",E.scm?E.scm:""),ot("loginyindaopanellogin","d_login","EXP"),k=setTimeout((function(){u(!1)}),8e3)))},W=function(){e.logininstance&&e.logininstance.login()};return o.a.createElement("div",{className:"".concat(kn.a.user_center_box," ").concat("win"===e.platform?e.isShowRed?kn.a.user_center_redbox_win:kn.a.user_center_box_win:""," ").concat(null!=e&&e.isI18n||!e.showTopHeaderNav?"":kn.a.user_center_box_nav," ").concat(e.oldStyle?kn.a.oldStyle:""),"data-spm":"userCenter",onMouseEnter:function(){clearTimeout(k),S=setTimeout((function(){u(!0)}),300);var e=p?d?"d_renew":"d_startpay":"d_login";ot("loginyindaopanel",e,"EXP"),ot("loginyindaokaitonghuiyuan",e,"EXP",E.scm?E.scm:""),p||ot("loginyindaopanellogin","d_login","EXP")},onMouseLeave:function(){clearTimeout(S),k=setTimeout((function(){u(!1)}),150)}},o.a.createElement("div",{className:kn.a.avatar},o.a.createElement("a",{href:p?"//".concat(N,"/page/usc/index").concat(x?"?theme=".concat(x,"&").concat(b):"?".concat(b)):"javascript:void(:;)",target:p?"_blank":"",onClick:function(){ot("loginyindao",p?d?"d_renew":"d_startpay":"d_login","CLK"),!p&&W()},className:"aplus_exp aplus_clk","data-spm":"d_avatar",rel:"noreferrer"},o.a.createElement("img",{className:"".concat(kn.a.avatar_img," ").concat(d>0?kn.a.vipBorder:""),src:n.user_icon_large||"https://img.alicdn.com/imgextra/i2/O1CN01lr1KAH1eIQrB1u9ZK_!!6000000003848-2-tps-138-138.png",title:null==n?void 0:n.uname,alt:null==n?void 0:n.uname}))),p&&l&&(M=(null==n||null===(C=n.iconData)||void 0===C||null===(P=C[4])||void 0===P?void 0:P[1])||(null==n?void 0:n.vip_icon),U=e.isI18n?(null==e||null===(A=e.i18nHeader)||void 0===A?void 0:A.i18n_Header_Me_VIP)||"VIP":"\u4f18\u9177VIP\u4f1a\u5458",F=e.isI18n?(null==e||null===(D=e.i18nHeader)||void 0===D?void 0:D.i18n_Header_Me_Buy)||"Join VIP":"\u7acb\u5373\u7eed\u8d39",K=e.isI18n?(null==e||null===(R=e.i18nHeader)||void 0===R?void 0:R.i18n_Header_Me_Buy)||"Join VIP":"\u7acb\u5373\u5f00\u901a",G=null!=e&&e.isI18n?(null==e||null===(B=e.i18nHeader)||void 0===B?void 0:B.i18n_Header_Me_Expiration)||"Expire on %s":"%s\u5230\u671f",o.a.createElement("div",{className:"".concat(kn.a.panel," ").concat(kn.a.uPanel," ").concat(d>0?kn.a.vipPanel:""," ").concat("win"===e.platform?e.isShowRed?kn.a.winRedPanel:kn.a.winPanel:""," ").concat(null!=e&&e.isI18n?kn.a.intPanel:"")},o.a.createElement("div",{className:"".concat(kn.a.content)},o.a.createElement("div",{className:"".concat(kn.a.uInfo," ").concat(null!=e&&e.isI18n?kn.a.uInfoInt:"")},o.a.createElement("a",{href:"//".concat(N,"/page/usc/index/?theme=").concat(x,"&".concat(b)),target:"_blank",rel:"noreferrer"},o.a.createElement("img",{src:n.user_icon_middle,className:d?kn.a.vipBorder:""})),o.a.createElement("a",{href:"//".concat(N,"/page/usc/index/?theme=").concat(x,"&".concat(b)),className:"".concat(kn.a.uLink," ").concat(d?kn.a.vipULink:""),target:"_blank",title:n.uname,rel:"noreferrer"},n.uname),o.a.createElement("a",{rel:"noreferrer"},o.a.createElement("span",{className:kn.a.vipLevelIcon,style:{backgroundImage:"url(".concat(M,")")}})),o.a.createElement("a",{onClick:function(t){ot("loggedin","exit","CLK"),e.logininstance&&e.logininstance.logout()},className:kn.a.exitLogin},null!=e&&e.isI18n?(null==e||null===(H=e.i18nHeader)||void 0===H?void 0:H.i18n_Header_Logout)||"Log out":"\u9000\u51fa\u767b\u5f55")),o.a.createElement("div",{className:"".concat(kn.a.card_content," youku_vip_pay_btn"),onClick:function(){ot("loginyindaokaitonghuiyuan",d?"d_renew":"d_startpay","CLK",E.scm?E.scm:"")},"data-spm-anchor-id":e.spmAB&&"".concat(e.spmAB.spmA,".").concat(e.spmAB.spmB,".vipyindao.d_kaitonghuiyuan"),"data-scm":E&&E.scm?E.scm:"","data-spm":"d_kaitonghuiyuan","data-products":E&&E.product_sku_id,"data-crm_params":E&&E.crm_params&&encodeURIComponent(JSON.stringify(E.crm_params)),"data-acode":E&&E.activity_code&&E.activity_code,"data-product_params":E&&E.products&&encodeURIComponent(JSON.stringify(E.products)),"data-type":E&&E.biz},o.a.createElement("div",{className:kn.a.card_content_top},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i3/O1CN01Y4Bpw01XcrD2nGhCU_!!6000000002945-2-tps-171-171.png"}),o.a.createElement("div",{className:kn.a.card_content_top_content},o.a.createElement("p",{className:kn.a.card_content_top_content_txt},null!=E&&E.title?E.title:U),o.a.createElement("p",{className:"".concat(kn.a.card_content_top_content_span," ").concat(d>0?kn.a.vipColorSubTitle:"")},(null==E?void 0:E.subtitle)||(d>0?G.replace("%s",n.exptime):null!=e&&e.isI18n?"":"\u5f00\u901a\u4f1a\u5458\u89e3\u9501\u66f4\u591a\u70ed\u64ad\u5267\u96c6"))),o.a.createElement("a",null,(null==E?void 0:E.btntext)||(d>0?F:K)))),!(null!=e&&e.isI18n)&&o.a.createElement("div",{className:kn.a.uList},o.a.createElement("div",{className:kn.a.item,onClick:function(){ot("loggedin","guanzhu","CLK"),window.open("https://www.youku.com/profile/subscribe")}},o.a.createElement("span",{className:"iconfontheader iconjiaguanzhu-28-mian ".concat(kn.a.iconSpan)}),o.a.createElement("a",{className:kn.a.text},"\u6211\u7684\u5173\u6ce8")),o.a.createElement("div",{className:kn.a.item,onClick:function(){ot("loggedin","shoucang","CLK"),window.open("https://user.youku.com/page/usc/fav?theme=".concat(x))}},o.a.createElement("span",{className:"iconfontheader iconshoucang-24-mian1 ".concat(kn.a.iconSpan)}),o.a.createElement("a",{className:kn.a.text},"\u6211\u7684\u6536\u85cf")),o.a.createElement("div",{className:kn.a.item,onClick:function(){ot("loggedin","chuangzuo","CLK"),window.open("https://mp.youku.com/new/video")}},o.a.createElement("span",{className:"iconfontheader iconchuangzuozhongxin-24-mian ".concat(kn.a.iconSpan)}),o.a.createElement("a",{className:kn.a.text},"\u521b\u4f5c\u4e2d\u5fc3")),o.a.createElement("div",{className:kn.a.lastItem,onClick:function(){ot("loggedin","bangzhu","CLK"),window.open("https://t.youku.com/yep/page/pc/youkukefu?isNeedBaseImage=1")}},o.a.createElement("span",{className:"iconfontheader iconkefu-24-mian ".concat(kn.a.iconSpan)}),o.a.createElement("a",{className:kn.a.text},"\u5e2e\u52a9\u4e2d\u5fc3")))))),!p&&l&&o.a.createElement("div",{className:"".concat(kn.a.panel," ").concat(kn.a.uPanel," ").concat("win"===e.platform?e.isShowRed?kn.a.winRedPanel:kn.a.winPanel:""," ").concat(null!=e&&e.isI18n?kn.a.intPanel:"")},o.a.createElement("div",{className:kn.a.content},o.a.createElement("div",{className:"".concat(kn.a.user_content," ").concat(null!=e&&e.isI18n?kn.a.user_content_int:"")},o.a.createElement("div",{className:"".concat(kn.a.user_content_avatar," ").concat(null!=e&&e.isI18n?kn.a.user_content_avatar_int:"")},o.a.createElement("a",{onClick:function(e){e.preventDefault(),e.stopPropagation(),W(),ot("loginyindaopanellogin","d_login","CLK")}},o.a.createElement("img",{className:kn.a.user_content_avatar_img,src:"https://img.alicdn.com/imgextra/i2/O1CN01lr1KAH1eIQrB1u9ZK_!!6000000003848-2-tps-138-138.png"}))),o.a.createElement("div",{className:kn.a.user_content_txt},o.a.createElement("a",{onClick:function(e){e.preventDefault(),e.stopPropagation(),W(),ot("loginyindaopanellogin","d_login","CLK")}},null!=e&&e.isI18n?(null==e||null===(I=e.i18nHeader)||void 0===I?void 0:I.i18n_Header_Login)||"Log in":"\u7acb\u5373\u767b\u5f55",o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i4/O1CN01dPxUfG1sOkwab62IN_!!6000000005757-2-tps-60-60.png"})),o.a.createElement("p",null,null!=e&&e.isI18n?(null==e||null===(T=e.i18nHeader)||void 0===T?void 0:T.i18n_Header_Login_Str)||"view more browsing history":"\u540c\u6b65\u591a\u7aef\u89c2\u770b\u8bb0\u5f55 \u5c0a\u4eab\u9ad8\u6e05\u89c2\u5f71\u4f53\u9a8c"))),!(null!=e&&e.isI18n)&&o.a.createElement("div",{className:"".concat(kn.a.card_content," youku_vip_pay_btn"),onClick:function(){ot("loginyindaokaitonghuiyuan","d_login","CLK",E.scm?E.scm:"")},"data-spm-anchor-id":e.spmAB&&"".concat(e.spmAB.spmA,".").concat(e.spmAB.spmB,".vipyindao.d_kaitonghuiyuan"),"data-scm":E&&E.scm?E.scm:"","data-spm":"d_kaitonghuiyuan","data-products":E&&E.product_sku_id,"data-crm_params":E&&E.crm_params&&encodeURIComponent(JSON.stringify(E.crm_params)),"data-acode":E&&E.activity_code&&E.activity_code,"data-product_params":E&&E.products&&encodeURIComponent(JSON.stringify(E.products)),"data-type":E&&E.biz},o.a.createElement("div",{className:kn.a.card_content_top},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i3/O1CN01Y4Bpw01XcrD2nGhCU_!!6000000002945-2-tps-171-171.png"}),o.a.createElement("div",{className:kn.a.card_content_top_content},o.a.createElement("p",{className:kn.a.card_content_top_content_txt},E&&E.title),o.a.createElement("p",{className:kn.a.card_content_top_content_span},E&&E.subtitle)),o.a.createElement("a",null,E&&E.btntext?E.btntext:"\u7acb\u5373\u5f00\u901a")),o.a.createElement("div",{className:kn.a.card_content_bottom},o.a.createElement("div",{className:kn.a.card_content_bottom_item},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i3/O1CN01AwZQgn1SZ7uEOdOm2_!!6000000002260-2-tps-66-66.png"}),o.a.createElement("p",null,"\u5e7f\u544a\u7279\u6743")),o.a.createElement("div",{className:kn.a.card_content_bottom_item},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i4/O1CN019clF1m1T6YoghIM20_!!6000000002333-2-tps-66-66.png"}),o.a.createElement("p",null,"\u5e27\u4eab\u5f71\u97f3")),o.a.createElement("div",{className:kn.a.card_content_bottom_item},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i1/O1CN01fPVypd28y3K3gEQIg_!!6000000008000-2-tps-66-66.png"}),o.a.createElement("p",null,"\u70ed\u5267\u62a2\u5148\u770b")),o.a.createElement("div",{className:kn.a.card_content_bottom_item},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i4/O1CN01Q68wVL1NhlIAkq9Dl_!!6000000001602-2-tps-66-66.png"}),o.a.createElement("p",null,"\u9662\u7ebf\u65b0\u7247")))))))},Cn=Tn,Pn=n(14),An=n.n(Pn),Dn=function(e){return o.a.createElement("div",{className:"".concat(An.a.logo_box," ").concat("win"!==e.platform&&"mac"!==e.platform?An.a.logo_hover:""," ").concat(e.isI18n?An.a.I18n_box:"")},o.a.createElement("img",{className:"".concat(An.a.logo_img," ").concat(e.isVipPage?An.a.logo_vip:""," ").concat(e.showTopHeaderNav?An.a.nav_logo:""," ").concat(e.oldStyle?An.a.oldStyle:""," ").concat(null!=e&&e.isI18n?An.a.logo_int:""),onClick:function(){if("win"!==e.platform&&"mac"!==e.platform)if(e.isVipPage)window.location.href="//hy.youku.com";else if(e.isI18n){var t,n=Object(a.getPreStr)(null===(t=location)||void 0===t?void 0:t.host),r="pre"===window.__ENV__||"staging"===window.__ENV__||location.host.includes(n);if(location.host.includes("youku.tv")){var o=r?"pre.youku.tv":"www.youku.tv";window.location.href="//".concat(o,"/channel/webhome")}else{var i=r?"prodtest.youku.com":"www.youku.com";window.location.href="//".concat(i,"/channel/webhome?isI18n=1")}}else window.location.href="//www.youku.com"},src:e.isVipPage?"https://img.alicdn.com/imgextra/i2/O1CN01pmQKji1ooASxRIUpe_!!6000000005271-2-tps-501-75.png":"https://img.alicdn.com/tfs/TB17DTuXkH0gK0jSZPiXXavapXa-680-133.svg"}))},Rn=Dn,Bn=n(30),Hn=n.n(Bn),Mn=n(6),Un=n.n(Mn);function Fn(e){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kn(){Kn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),c=new S(o||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function f(){}function h(){}function d(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(O([])));y&&y!==t&&n.call(y,a)&&(m=y);var g=d.prototype=f.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var o;r(this,"_invoke",{value:function(r,a){function i(){return new t((function(o,i){!function r(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==Fn(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(p).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function w(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=s(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},_(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(g),l(g,c,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function Gn(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Vn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Gn(a,r,o,i,c,"next",e)}function c(e){Gn(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Wn(e,t){return Yn(e)||zn(e,t)||qn(e,t)||Xn()}function Xn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function qn(e,t){if(e){if("string"==typeof e)return Jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jn(e,t):void 0}}function Jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zn(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function Yn(e){if(Array.isArray(e))return e}var $n=[{url:"https://hy.youku.com/",img:"//img.alicdn.com/imgextra/i3/O1CN01AwZQgn1SZ7uEOdOm2_!!6000000002260-2-tps-66-66.png",title:"\u5e7f\u544a\u7279\u6743"},{url:"https://hy.youku.com/",img:"//img.alicdn.com/imgextra/i4/O1CN019clF1m1T6YoghIM20_!!6000000002333-2-tps-66-66.png",title:"\u5e27\u4eab\u5f71\u97f3"},{url:"https://hy.youku.com/",img:"//img.alicdn.com/imgextra/i1/O1CN01fPVypd28y3K3gEQIg_!!6000000008000-2-tps-66-66.png",title:"\u70ed\u5267\u62a2\u5148\u770b"},{url:"https://hy.youku.com/",img:"//img.alicdn.com/imgextra/i4/O1CN01Q68wVL1NhlIAkq9Dl_!!6000000001602-2-tps-66-66.png",title:"\u9662\u7ebf\u65b0\u7247"}],Qn=null,Zn=function(e){var t=e.userInfo,n=e.crmData,a=e.isLogin,i=e.isVip,c=Se((function(e){return e.isI18n})),l=Wn(Object(r.useState)(""),2),u=l[0],s=l[1],p=Wn(Object(r.useState)("loading"),2),f=p[0],h=p[1],d=Wn(Object(r.useState)(""),2),m=d[0],v=d[1],y=Wn(Object(r.useState)(!1),2),g=y[0],_=y[1],b=null,w=null,x=function(){var t=Vn(Kn().mark((function t(){var r,o,a;return Kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&n.link){t.next=4;break}return v("https://t.youku.com/app/visp/cashier/index"),h("ready"),t.abrupt("return");case 4:if(r="https://t.youku.com/app/visp/cashier/index?hideNavigatorBar=true&sceneType=fullScreen&tabStyle=1",o={pageKey:n.cashierPageKey,channel:"pc@yk",activityCode:n.activity_code,attributes:n.cashier_attributes,products:n.products},"win"!==e.platform&&"mac"!==e.platform||(o.channel="iku@yk"),"true"===e.isMas&&(o.channel="mac@yk"),r+="&h5params=".concat(encodeURIComponent(JSON.stringify(o)),"&en_scm=").concat(n.scm,"&v=1"),!Qn||Qn!==r){t.next=11;break}return t.abrupt("return");case 11:return Qn=r,h("loading"),t.prev=13,t.next=16,Y({codeSize:128,sources:"pc",channel:"pc",cycle_buy_re:1,payUrl:r});case 16:a=t.sent,v(a.data.result.data.shortUrl),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(13),v("https://t.youku.com/app/visp/cashier/index");case 23:h("ready");case 24:case"end":return t.stop()}}),t,null,[[13,20]])})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){if(n&&n.scm){var e=t.loginStatus?1===t.is_vip?"1":"2":"0",r="";e&&"0"===e?r="login":e&&"1"===e?r="renew":e&&"2"===e&&(r="startpay"),s(r),ot("vipyindao","d_".concat(r),"EXP","login"!==r?n.scm?n.scm:"20140719.manual.cashier_".concat(r,".syt_default"):"")}}),[n,t]),Object(r.useEffect)((function(){var t=e.isLogin?e.isVip?"renew":"startpay":"login";s(t)}),[a,i]),o.a.createElement("div",{className:Un.a.vip_wrap,onMouseEnter:c?void 0:function(){e.setMouseIn&&e.setMouseIn(!0),clearTimeout(b),w=setTimeout((function(){x(),_(!0)}),300),ot("vipyindaopanel","d_".concat(u),"EXP","login"!==u?n.scm?n.scm:"20140719.manual.cashier_".concat(u,".syt_default"):""),n&&n.btntext&&ot("vipyindaokaitonghuiyuan","d_".concat(u),"EXP","login"!==u?n.scm?n.scm:"20140719.manual.cashier_".concat(u,".syt_default"):"")},onMouseLeave:c?void 0:function(){clearTimeout(w),b=setTimeout((function(){_(!1)}),150)},"data-spm":"vipyindao"},o.a.createElement("a",{className:"youku_vip_pay_btn aplus_exp aplus_clk ".concat(Un.a.vip_buy_button),onClick:function(){ot("vipyindao","d_".concat(u),"CLK","login"!==u?n.scm?n.scm:"20140719.manual.cashier_".concat(u,".syt_default"):"")},"data-spm-anchor-id":e.spmAB&&"".concat(e.spmAB.spmA,".").concat(e.spmAB.spmB,".vipyindao.d_").concat(u),"data-scm":n&&n.scm?n.scm:"20140719.manual.cashier_".concat(u,".syt_default"),"data-spm":"d_".concat(u),"data-name":"a_pos","data-products":n&&n.product_sku_id,"data-crm_params":n&&n.crm_params&&encodeURIComponent(JSON.stringify(n.crm_params)),"data-acode":n&&n.activity_code,"data-product_params":n&&n.products&&encodeURIComponent(JSON.stringify(n.products)),"data-type":n&&n.biz},o.a.createElement("span",{className:"iconfontheader icon-vip ".concat(Un.a.vip_icon)}),o.a.createElement("div",{className:"".concat(Un.a.vip_pop_content," ").concat((null==n?void 0:n.iconpop)&&Un.a.vip_iconpop_width||Un.a.vip_icontxt_width)},(null==n?void 0:n.icontxt)&&o.a.createElement("span",{className:Un.a.icontxt},n.icontxt),(null==n?void 0:n.iconpop)&&o.a.createElement("span",{className:Un.a.angle_mark},n.iconpop))),g&&o.a.createElement("div",{className:"".concat(Un.a.vip_panel," ").concat(Un.a.uPanel," ").concat("true"===e.isMas?Un.a.masPanel:"")},o.a.createElement("div",{className:Un.a.vip_panel_content},o.a.createElement("div",{className:Un.a.panel_txt_list},$n&&$n.map((function(e,t){return o.a.createElement("a",{key:t,className:"aplus_exp aplus_clk ".concat(Un.a.panel_txt_item),href:e.url,onClick:function(){ot("vipyindao","text_".concat(t+1),"CLK")},target:"_blank",rel:"noreferrer"},o.a.createElement("img",{src:e.img}),o.a.createElement("p",null,e.title))}))),"true"!==e.isMas&&o.a.createElement("div",{className:Un.a.panel_code_box},o.a.createElement("div",{className:Un.a.panel_code_img},m&&"loading"!==f&&o.a.createElement(Hn.a,{width:96,code:m}),"loading"===f&&o.a.createElement("img",{className:Un.a.code_loading,src:"https://img.alicdn.com/imgextra/i4/O1CN01XIDL4K1YLk1m7oXIc_!!6000000003043-2-tps-63-63.png"}),"error"===f&&o.a.createElement("div",{className:Un.a.code_error,onClick:function(){h("loading"),setTimeout((function(){h("ready")}),1e3)}},o.a.createElement("div",{className:Un.a.code_error_box},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i4/O1CN01q1SlXH1t1EDZJ8JUM_!!6000000005841-2-tps-63-63.png"}),o.a.createElement("p",null,"\u70b9\u51fb\u5237\u65b0")))),o.a.createElement("div",{className:Un.a.panel_code_txt},o.a.createElement("span",null,o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i1/O1CN01lXpGHd23MQhwDeNoy_!!6000000007241-2-tps-54-54.png"}),o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i1/O1CN01S88svU1GX2iMgWcK1_!!6000000000631-2-tps-54-54.png"}),"\u652f\u4ed8\u5b9d/\u5fae\u4fe1 ",o.a.createElement("br",null),"\u626b\u7801\u5f00\u4f1a\u5458")))),o.a.createElement("div",{className:Un.a.bottomBox},n&&n.btntext&&o.a.createElement("a",{className:"youku_vip_pay_btn aplus_exp aplus_clk ".concat(Un.a.bottomButton),onClick:function(){ot("vipyindaokaitonghuiyuan","d_".concat(u),"CLK","login"!==u?n.scm?n.scm:"20140719.manual.cashier_".concat(u,".syt_default"):"")},"data-spm-anchor-id":e.spmAB&&"".concat(e.spmAB.spmA,".").concat(e.spmAB.spmB,".vipyindao.d_").concat(u),"data-scm":n&&n.scm?n.scm:"20140719.manual.cashier_".concat(u,".syt_default"),"data-spm":"d_".concat(u),"data-name":"a_pos","data-products":n&&n.product_sku_id,"data-crm_params":n&&n.crm_params&&encodeURIComponent(JSON.stringify(n.crm_params)),"data-acode":n&&n.activity_code,"data-product_params":n&&n.products&&encodeURIComponent(JSON.stringify(n.products)),"data-type":n&&n.biz},n&&n.btntext),n&&n.subtitle&&o.a.createElement("div",{className:Un.a.bottomButtonPop},o.a.createElement("p",{className:Un.a.bottomButtonPopTxt},n&&n.subtitle)))))},er=Zn,tr=n(23),nr=n.n(tr),rr=function(e){return o.a.createElement("div",{className:nr.a.localfile_box},o.a.createElement("a",{onClick:function(){window.ikuApi&&window.ikuApi.switchPersonalCenter&&window.ikuApi.switchPersonalCenter({flag:!0,personalActiveKey:2})},title:"\u4e0b\u8f7d",className:"iconfontheader icon-localfile-main-24 ".concat(nr.a.icon_span)}))},or=rr,ar=n(24),ir=n.n(ar),cr=function(e){return o.a.createElement("div",{className:ir.a.localplay_box},o.a.createElement("a",{onClick:function(){window.ikuApi&&window.ikuApi.openLocalPlayWindow&&window.ikuApi.openLocalPlayWindow()},title:"\u672c\u5730\u64ad\u653e",className:"iconfontheader icon-localplay-main-24 ".concat(ir.a.icon_span)}))},lr=cr,ur=n(25),sr=n.n(ur),pr=function(e){return o.a.createElement("div",{className:sr.a.reload_box},o.a.createElement("a",{onClick:function(){window.ikuApi&&window.ikuApi.windowReload&&window.ikuApi.windowReload()},title:"\u5237\u65b0",className:"iconfontheader icon-reload-main-24 ".concat(sr.a.icon_span)}))},fr=pr,hr=n(22),dr=n.n(hr),mr=function(e){return o.a.createElement("div",{className:"".concat(dr.a.win_header," ").concat(e.isShowRed?dr.a.win_header_red:"")},!e.isShowRed&&o.a.createElement("div",{className:dr.a.YLine}),o.a.createElement(fr,null))},vr=mr,yr=n(3),gr=n.n(yr);function _r(e){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function br(){br=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),c=new S(o||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function f(){}function h(){}function d(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(O([])));y&&y!==t&&n.call(y,a)&&(m=y);var g=d.prototype=f.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var o;r(this,"_invoke",{value:function(r,a){function i(){return new t((function(o,i){!function r(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==_r(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(p).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function w(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=s(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},_(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(g),l(g,c,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function wr(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function xr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){wr(a,r,o,i,c,"next",e)}function c(e){wr(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Er(e,t){return kr.apply(this,arguments)}function kr(){return(kr=xr(br().mark((function e(t,n){var r,o,i;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(a.getCookie)("cna"),o={api:"mtop.youku.playlog.open.get",type:"GET",v:"1.0",ecode:0,dataType:"jsonp",data:JSON.stringify({nlid:r||"XlQcF5xQrCcCAWoLKdGqIOhS",uid:t||"",pageLength:100,timestamp:(new Date).getTime().toString(),appKey:"qPbb2hfIYugHjMaj",appName:"pc",hwClass:1,deviceName:"web",isPlayController:1,ccode:n?"0597":"0502",clientDrmAbility:Sr(navigator&&navigator.userAgent)||3}),appKey:24679788,jsonpIncPrefix:"headerRecord"},e.next=4,l.request("mtop.youku.playlog.open.get",o).catch((function(e){console.log("getRecord_open.get_err",e)}));case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sr(e){var t,n,r=/(chrome)\/([\w.]+)/.test(e)&&e.match(new RegExp("chrome/([0-9]+)."))<=49,o=(e.indexOf("360ee")>-1||e.indexOf("360se")>-1)&&r;(e.indexOf("msie")>-1||e.indexOf("compatible")>-1||e.indexOf("trident")>-1)&&(t=RegExp.$1,n=!0);var a=e.match(new RegExp("".concat(t,":| ([0-9]+).")));return r||o||n&&a<11?1:3}function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hr(r.key),r)}}function Nr(e,t,n){return t&&Lr(e.prototype,t),n&&Lr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ir(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tr(e,t)}function Tr(e,t){return(Tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Cr(e){var t=Dr();return function(){var n,r=Rr(e);if(t){var o=Rr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pr(this,n)}}function Pr(e,t){if(t&&("object"===Or(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ar(e)}function Ar(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Rr(e){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Br(e,t,n){return(t=Hr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hr(e){var t=Mr(e,"string");return"symbol"===Or(t)?t:String(t)}function Mr(e,t){if("object"!==Or(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Or(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Ur=function(e){Ir(n,e);var t=Cr(n);function n(e){var r;return jr(this,n),Br(Ar(r=t.call(this,e)),"updateView",(function(e,t){e&&r.setState({progressWidth:e/100*t})})),r.state={progressWidth:0},r}return Nr(n,[{key:"componentWillReceiveProps",value:function(e){e.progress!==this.props.progress&&this.updateView(e.progress,90)}},{key:"componentDidMount",value:function(){this.updateView(this.props.progress,90)}},{key:"render",value:function(){return o.a.createElement("div",{style:{width:"100%",height:"3px",background:"rgba(255,255,255, .5)",position:"absolute",bottom:"0px",left:"0px"}},o.a.createElement("div",{style:{width:"".concat(this.state.progressWidth,"px"),height:"3px",background:"#61f6ff"}}))}}]),n}(o.a.Component);function Fr(e,t){return e[{"VIP\xb7\u534a\u4ef7":"i18n_Corner_VodHalf","\u4ed8\u8d39":"i18n_Corner_Tvod","\u72ec\u64ad":"i18n_Corner_Exclusive","\u6700\u65b0":"i18n_Corner_Latest","\u5df2\u70b9\u64ad":"i18n_Corner_Available","\u8d85\u524d\u70b9\u64ad":"i18n_Corner_Express",VIP:"i18n_Corner_VIP","\u9884\u544a":"i18n_Corner_Trailer"}[t]]||""}function Kr(e){return(Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gr(){Gr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),c=new S(o||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function f(){}function h(){}function d(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(O([])));y&&y!==t&&n.call(y,a)&&(m=y);var g=d.prototype=f.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var o;r(this,"_invoke",{value:function(r,a){function i(){return new t((function(o,i){!function r(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==Kr(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(p).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function w(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=s(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},_(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(g),l(g,c,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function Vr(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Wr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Vr(a,r,o,i,c,"next",e)}function c(e){Vr(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Xr(e,t){return $r(e)||Yr(e,t)||Jr(e,t)||qr()}function qr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Jr(e,t){if(e){if("string"==typeof e)return zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zr(e,t):void 0}}function zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yr(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function $r(e){if(Array.isArray(e))return e}var Qr=!1,Zr=[],eo=[],to=[],no=!1,ro=function(e){var t=Xr(Object(r.useState)(!1),2),n=t[0],i=t[1],c=Xr(Object(r.useState)(!1),2),l=c[0],u=c[1],s=Xr(Object(r.useState)(!1),2),p=s[0],f=s[1],h=Xr(Object(r.useState)(""),2),d=h[0],m=h[1],v=Xr(Object(r.useState)(""),2),y=v[0],g=v[1],_=Xr(Object(r.useState)(""),2),b=_[0],w=_[1],x=Object(r.useRef)(null),E=Object(r.useRef)();Object(r.useEffect)((function(){e.logininstance&&(e.logininstance&&e.logininstance.eventbusLogin.subscribe((function(e){e.userInfo&&(i(e.isLoginStatus,(function(){if(d){var e=document.createElement("a");e.target="_blank",e.href=d,document.body.appendChild(e),e.click(),document.body.removeChild(e)}})),L(e.userInfo.ytid))})),e.logininstance.eventbusLoggout.subscribe((function(){Zr=[],L(""),i(!1)})))}),[e.logininstance]),Object(r.useEffect)((function(){return g(window.location.host),w(window.location.search),function(){clearTimeout(null),clearTimeout(null)}}),[]);var k=function(t,n,r){var o;return null!=e&&e.isI18n?(null==e||null===(o=e.i18nHeader)||void 0===o?void 0:o[t])||n:r},S=function(){e.logininstance&&e.logininstance.login()},O=function(e,t){t=Math.floor(t/1e3);var n=new Date,r=new Date("".concat(n.getFullYear(),"/").concat(n.getMonth()+1,"/").concat(n.getDate()," 00:00:00")).getTime()/1e3,o=new Date("".concat(n.getFullYear(),"/").concat(n.getMonth()+1,"/").concat(n.getDate()," 23:59:59")).getTime()/1e3;return e>=r&&e<=o?0:t-e<=604800?1:2},j=function(e){var t=[],n=0,r=0,o=0;return e.todayList.length>0&&(t.push({type:"date",title:k("i18n_Header_History_Today","Today","\u4eca\u5929")}),r++,e.todayList.map((function(e,r){return r<10&&(e.order=++n,t.push(e)),e}))),t.length<11?(o=11-t.length,t.push({type:"date",title:k("i18n_Header_History_Week","Last 7 days","\u4e03\u5929\u5185")}),r++,o=10-t.length+r,0===e.withinSevenList.length&&t.pop(),e.withinSevenList.map((function(e,r){return r<o-1&&(e.order=++n,t.push(e)),e})),t.length<12&&(o=12-t.length,t.push({type:"date",title:k("i18n_Header_History_Earlier","Earlier","\u66f4\u65e9")}),r++,o=10-t.length+r,0===e.earlierList.length&&t.pop(),e.earlierList.map((function(e,r){return r<o&&(e.order=++n,t.push(e)),e}))),t):t},L=function(){var t=Wr(Gr().mark((function t(n){var r,o,a,i,c,l,u;return Gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Er(n,null==e?void 0:e.isI18n);case 3:l=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:Qr=!(l&&l.data&&l.data.dataList&&l.data.dataList.length>0),u={todayList:[],withinSevenList:[],earlierList:[]},null===(r=l)||void 0===r||null===(o=r.data)||void 0===o||null===(a=o.dataList)||void 0===a||a.forEach((function(e){var t=O(e.lastUpdate,(new Date).getTime());0===t?u.todayList.push(e):1===t?u.withinSevenList.push(e):u.earlierList.push(e)})),Zr=j(u),eo=(null===(i=l)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.dataList)||[];case 14:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),N=function(t,r,o){var i,c="//v.youku.com/v_show/id_".concat(r.videoId,".html?firsttime=").concat(r.point),l=Object(a.getPreStr)(null===(i=location)||void 0===i?void 0:i.host),u="pre"===window.__ENV__||"staging"===window.__ENV__||location.host.includes(l);if(null!=e&&e.isI18n&&(c=location.host.includes("youku.tv")?"//".concat(u?"pre-v.youku.tv":"v.youku.tv","/v_show/id_").concat(r.videoId,".html?firsttime=").concat(r.point):"//".concat(u?"pre-v1.youku.com":"www.youku.com","/v_show/id_").concat(r.videoId,".html?firsttime=").concat(r.point,"&isI18n=1")),r.urlParams&&(c+="&".concat(r.urlParams)),0===o?ot(n?"loginrecord":"unloginrecord","text_".concat(r.order),"CLK"):r.playPercent<97?ot(n?"loginrecord":"unloginrecord","continue"):ot(n?"loginrecord":"unloginrecord","replay"),window.headerInterceptSwitch){if(!n&&!no)return S(),no=!0,m(c),!1;no&&(m(""),window.open(c)),n&&window.open(c)}else window.open(c);return!1},I=function(t,n){var r,a,i,c;if("date"===t.type)return o.a.createElement("dt",{key:n},t.title);var l="iconlishijilu-16-diannao";switch(t.hwClass){case 1:l="iconlishijilu-16-diannao";break;case 2:l="iconlishijilu-16-TV";break;case 3:l="iconlishijilu-16-pad";break;case 4:l="iconlishijilu-16-shouji";break;default:l="iconlishijilu-16-shouji"}return 0===t.isPlayable?o.a.createElement("dd",{key:n,className:gr.a.notPlayable},(null==t?void 0:t.img)&&o.a.createElement("div",{style:{display:"inline-block",height:"51px",marginRight:"7px"}},o.a.createElement("img",{src:t.img,className:gr.a.headerLogImg})),o.a.createElement("div",{style:{display:"inline-block",height:"51px"}},o.a.createElement("a",{href:"javascript:return false"},t.title),o.a.createElement("span",{className:gr.a.recSt},k("i18n_Header_History_Ban","Sorry, the video is unavailable.","\u6682\u65e0\u53ef\u64ad\u6e90")))):o.a.createElement("dd",{key:n},o.a.createElement("div",{className:gr.a.headerLogImgLeft},t.img?o.a.createElement("img",{className:gr.a.headerLogImg,src:t.img,alt:"",onClick:function(e){return N(0,t,0)}}):o.a.createElement("div",{className:gr.a.headerLogImg}),null!=e&&e.isI18n||!t.showUpdateStatus?"":o.a.createElement("span",{className:gr.a.headerLogDate},t.showUpdateStatus," "),t.playPercent?o.a.createElement(Ur,{progress:t.playPercent,containerStyle:{borderRadius:"0px"}}):"",t.cornerMark?function(t,n,r){var a=t;"VIP\xb7\u5e27\u4eab"===a&&(a="VIP");var i="",c="";if(n)switch(n){case"RED":i="#ff008c",c="#fff";break;case"GOLDEN":i="#ffdd9a",c="#4e2d03";break;case"BLUE":i="#03c8d4",c="#fff"}return r&&(a=Fr(e.i18nHeader,a)),i&&c&&a?o.a.createElement("div",{className:gr.a.rightText,style:{position:"absolute",right:0,top:0,background:i,borderRadius:"0 7px 0 7px",color:c}},o.a.createElement("span",{className:gr.a.rightTextFont},i?a:"\u76f4\u64ad")):""}(t.cornerMark,t.markColor,null==e?void 0:e.isI18n):""),o.a.createElement("div",{className:gr.a.headerLogImgRight},o.a.createElement("a",{target:"video",style:{maxWidth:"170px"},title:t.title,onClick:function(e){return N(0,t,0)}},t.title),o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement("span",{className:"iconfontheader ".concat(l," ").concat(gr.a.icoDevice),style:{display:"inline-block"}}),o.a.createElement("span",{className:gr.a.recSt},t.playPercent<1?(null==e||null===(r=e.i18nHeader)||void 0===r||null===(a=r.i18n_Header_History_WatchPer)||void 0===a?void 0:a.replace("%s","1%"))||"\u89c2\u770b\u4e0d\u8db31%":t.playPercent>97?k("i18n_Header_History_Finished","Finished","\u5df2\u770b\u5b8c"):(null==e||null===(i=e.i18nHeader)||void 0===i||null===(c=i.i18n_Header_History_WatchPer)||void 0===c?void 0:c.replace("%s","".concat(t.playPercent,"%")))||"\u89c2\u770b\u81f3".concat(t.playPercent,"%")),t.lastUpdate?o.a.createElement("span",{className:gr.a.headerLogTime},function(e){e&&e.toString().length<=10&&(e*=1e3);var t=new Date(e),n="".concat(t.getMonth()+1);n=n.length>1?n:"0".concat(n);var r="".concat(t.getDate());r=r.length>1?r:"0".concat(r);var o="".concat(t.getHours());o=o.length>1?o:"0".concat(o);var a="".concat(t.getMinutes());a=a.length>1?a:"0".concat(a);var i=new Date,c="".concat(i.getMonth()+1);c=c.length>1?c:"0".concat(c);var l="".concat(i.getDate());return l=l.length>1?l:"0".concat(l),n===c&&r===l?"".concat(k("i18n_Header_History_Today","Today","\u4eca\u5929")," ").concat(o,":").concat(a):"".concat(n,"-").concat(r," ").concat(o,":").concat(a)}(t.lastUpdate)," "):"")))},T=function(){E&&E.current&&f(!E.current.checked)},C=function(e){var t=e.target.checked?"filter_on":"filter_off";ot(n?"loginrecord":"unloginrecord",t,"CLK"),f(e.target.checked)};if(p){var P,A={todayList:[],withinSevenList:[],earlierList:[]};null===(P=eo)||void 0===P||P.forEach((function(e){var t=O(e.lastUpdate,(new Date).getTime());0===e.tp&&Number(e.duration)<1200||(0===t?A.todayList.push(e):1===t?A.withinSevenList.push(e):A.earlierList.push(e))})),to=j(A),Qr=0===to.length}else Zr.length>0&&(Qr=!1);var D=Object(a.getPreStr)(y),R=null==y?void 0:y.includes(D),B=null!=y&&y.includes("youku.tv")?"".concat(R?"pre":"www",".youku.tv"):"".concat(R?"prodtest":"www",".youku.com"),H="//".concat(B,"/page/usc/index").concat(b);return o.a.createElement("div",{className:"".concat(gr.a.uRecord," ").concat((e.white,"")),onMouseEnter:function(){e.setMouseIn&&e.setMouseIn(!0),e.logininstance&&e.logininstance.eventbusLogin&&e.logininstance.eventbusLogin.subscribe((function(e){var t=e.userInfo&&e.userInfo.ytid;L(t)})),ot(n?"loginrecord":"unloginrecord","","EXP"),x.current&&clearTimeout(x.current),x.current=setTimeout((function(){u(!0)}),300)},onMouseLeave:function(){x.current&&clearTimeout(x.current),x.current=null,u(!1)}},o.a.createElement("a",{rel:"noopener noreferrer",title:k("i18n_Header_History","history","\u64ad\u653e\u8bb0\u5f55"),href:n?H:"javascript:void:",target:n?"_black":"",onClick:function(e){!n&&S(),ot("headericons","kanguo","CLK")},className:"aplus_exp aplus_clk iconfontheader icondingdao-24-guankanlishi ".concat(gr.a.recordIcon),"data-spm":"d_record"}),l&&o.a.createElement(o.a.Fragment,null,!Qr&&o.a.createElement("div",{className:"".concat(null!=e&&e.isI18n?gr.a.intPanel:gr.a.panel," ").concat(null!=e&&e.isI18n?gr.a.intuPanel:gr.a.uPanel),style:{display:l?"block":"none"}},o.a.createElement("div",null,!(null!=e&&e.isI18n)&&o.a.createElement("div",{className:gr.a.filterArea},o.a.createElement("input",{id:"headerCheckBox",className:gr.a.check,type:"checkbox",onChange:function(e){return C(e)},checked:p,ref:E}),o.a.createElement("label",{htmlFor:"headerCheckBox"}),o.a.createElement("span",{onClick:T},k("i18n_Header_History_NoShorts","Filter out short videos","\u8fc7\u6ee4\u77ed\u89c6\u9891"))),o.a.createElement("dl",{className:gr.a.recList},p?to.map((function(e,t){return I(e,t)})):Zr.map((function(e,t){return I(e,t)})))),n?o.a.createElement("div",{className:gr.a.uBottom},o.a.createElement("a",{href:H,className:gr.a.moreButton,target:"_blank",onClick:function(){setTimeout((function(){u(!1)}),500),ot("loginrecord","more","CLK")},rel:"noreferrer"},k("i18n_Header_History_More","More","\u67e5\u770b\u66f4\u591a"))):o.a.createElement("div",{className:gr.a.uBottom},o.a.createElement("a",{onClick:function(e){S(),ot("unloginrecord","loginmore","CLK")},className:gr.a.moreButton},k("i18n_Header_History_Login","Sign in to view history","\u767b\u5f55\u67e5\u770b\u66f4\u591a")),o.a.createElement("br",null))),Qr&&n&&o.a.createElement("div",{className:"".concat(null!=e&&e.isI18n?gr.a.intPanel:gr.a.panel," ").concat(gr.a.logout," ").concat(null!=e&&e.isI18n?gr.a.intuPanel:gr.a.uPanel),style:{display:l?"block":"none"}},!(null!=e&&e.isI18n)&&o.a.createElement("div",{className:gr.a.filterArea},o.a.createElement("input",{id:"headerCheckBox2",className:gr.a.check,type:"checkbox",onChange:function(e){return C(e)},checked:p,ref:E}),o.a.createElement("label",{htmlFor:"headerCheckBox2"}),o.a.createElement("span",{onClick:T},k("i18n_Header_History_NoShorts","Filter out short videos","\u8fc7\u6ee4\u77ed\u89c6\u9891"))),o.a.createElement("img",{className:gr.a.imgtip,src:"//gw.alicdn.com/tfs/TB1fLhORUY1gK0jSZFCXXcwqXXa-400-400.png"}),o.a.createElement("div",{className:gr.a.subtitle},k("i18n_Header_History_None","No video",p?"\u4eb2\uff0c\u6682\u65e0\u957f\u89c6\u9891\u64ad\u653e\u8bb0\u5f55\u54e6~":"\u4eb2\uff0c\u4f60\u8fd8\u6ca1\u6709\u89c2\u770b\u89c6\u9891\u54e6~")),o.a.createElement("div",{className:gr.a.loginbuttonBox},o.a.createElement("button",{onClick:function(){setTimeout((function(){u(!1)}),500),window.open(H),ot("loginrecord","more","CLK")},className:gr.a.loginbutton},k("i18n_Header_History_More","More","\u67e5\u770b\u66f4\u591a")))),Qr&&!n&&o.a.createElement("div",{className:"".concat(null!=e&&e.isI18n?gr.a.intPanel:gr.a.panel," ").concat(gr.a.logout," ").concat(null!=e&&e.isI18n?gr.a.intuPanel:gr.a.uPanel),style:{display:l?"block":"none"}},!(null!=e&&e.isI18n)&&o.a.createElement("div",{className:gr.a.filterArea},o.a.createElement("input",{id:"headerCheckBox3",className:gr.a.check,type:"checkbox",onChange:function(e){return C(e)},checked:p,ref:E}),o.a.createElement("label",{htmlFor:"headerCheckBox3"}),o.a.createElement("span",{onClick:T},k("i18n_Header_History_NoShorts","Filter out short videos","\u8fc7\u6ee4\u77ed\u89c6\u9891"))),o.a.createElement("img",{className:gr.a.imgtip,src:"//gw.alicdn.com/tfs/TB1fLhORUY1gK0jSZFCXXcwqXXa-400-400.png"}),o.a.createElement("div",{className:gr.a.subtitle},k("i18n_Header_History_None","No video",p?"\u4eb2\uff0c\u6682\u65e0\u957f\u89c6\u9891\u64ad\u653e\u8bb0\u5f55\u54e6~":"\u4eb2\uff0c\u4f60\u8fd8\u6ca1\u6709\u89c2\u770b\u89c6\u9891\u54e6~")),o.a.createElement("div",{className:gr.a.loginbuttonBox},o.a.createElement("button",{onClick:function(e){S(),ot("unloginrecord","loginmore","CLK")},className:gr.a.loginbutton},k("i18n_Header_History_Login","Sign in to view history","\u767b\u5f55\u67e5\u770b\u66f4\u591a"))))))},oo=ro,ao=n(15),io=n.n(ao);function co(e,t){return fo(e)||po(e,t)||uo(e,t)||lo()}function lo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function uo(e,t){if(e){if("string"==typeof e)return so(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?so(e,t):void 0}}function so(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function po(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function fo(e){if(Array.isArray(e))return e}var ho=[{url:"//www.youku.com/ikudownload/index",type:"icon",img:"//img.alicdn.com/imgextra/i3/O1CN019qtoTE1cnulCtvCq1_!!6000000003646-2-tps-40-38.png",title:"1080P\u9650\u514d",show:!0,icon:"iconHD-24-mian"},{url:"//www.youku.com/ikudownload/index",type:"img",img:"//img.alicdn.com/imgextra/i2/O1CN01rFI7mg1d6EbNH5q6m_!!6000000003686-2-tps-72-72.png",title:"\u6d41\u7545\u64ad\u653e",show:!0},{url:"//www.youku.com/ikudownload/index",type:"icon",img:"//img.alicdn.com/imgextra/i1/O1CN0198j2wM1VT7TA2CgR8_!!6000000002653-2-tps-48-48.png",title:"\u6781\u901f\u79bb\u7ebf\u4e0b\u8f7d",show:!0,icon:"iconjisuxiazai-24-mian"}],mo=function(e){var t=co(Object(r.useState)(!1),2),n=t[0],a=t[1],i=null,c=null;return o.a.createElement("div",{className:io.a.kuhuduan_box,onMouseEnter:function(){e.setMouseIn&&e.setMouseIn(!0),clearTimeout(i),c=setTimeout((function(){a(!0)}),300)},onMouseLeave:function(){clearTimeout(c),i=setTimeout((function(){a(!1)}),150)}},o.a.createElement("a",{href:"//youku.com/product/index",title:"\u5ba2\u6237\u7aef",target:"_black",rel:"noopener noreferrer",className:"iconfontheader iconkehuduan-main-24 ".concat(io.a.icon_span," aplus_exp aplus_clk"),"data-spm":"d_ikuDownload"}),n&&o.a.createElement("div",{className:"".concat(io.a.download_panel," ").concat(io.a.uPanel)},ho&&ho.map((function(e,t){var n={href:e.url?e.url:"javascript:void(0)",onClick:function(){ot("vipyindao","text_".concat(t+1),"CLK")}};return e.show?o.a.createElement("div",{key:t,className:io.a.item_content},"img"===e.type?o.a.createElement("img",{src:e.img}):o.a.createElement("i",{style:{color:"#03c8d4"},className:"iconfontheader ".concat(e.icon," ")}),o.a.createElement("a",n,e.title)):null})),o.a.createElement("div",{className:io.a.bottom_button_box},o.a.createElement("a",{className:io.a.bottom_button,href:"//www.youku.com/ikudownload/index",onClick:function(){ot("downloadikuyindao","downloadiku","CLK")}},"\u7acb\u5373\u4f53\u9a8c"))))},vo=mo,yo=n(10),go=n.n(yo);function _o(e,t){return ko(e)||Eo(e,t)||wo(e,t)||bo()}function bo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function wo(e,t){if(e){if("string"==typeof e)return xo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xo(e,t):void 0}}function xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eo(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function ko(e){if(Array.isArray(e))return e}var So=function(e){var t=_o(Object(r.useState)(!1),2),n=t[0],a=t[1],i=_o(Object(r.useState)([]),2),c=i[0],l=i[1],u=_o(Object(r.useState)([]),2),s=u[0],p=u[1];Object(r.useEffect)((function(){window.addEventListener("resize",f(d))}),[]),Object(r.useEffect)((function(){d()}),[e.channelList]);var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=!0;return function(){var r=arguments,o=this;n&&(n=!1,setTimeout((function(){e.apply(o,r),n=!0}),t))}},h="",d=function(){if(e.channelList&&0!==e.channelList.length){var t=document.body.clientWidth;(!h||"long"===h)&&t<=1250?(l(e.channelList.slice(0,1)),p(e.channelList.slice(1,e.channelList.length)),h="short"):(!h||"short"===h)&&t>1250&&(l(e.channelList.slice(0,4)),p(e.channelList.slice(4,e.channelList.length)),h="long")}},m=null,v=null,y=Math.ceil(s.length/2);return o.a.createElement("div",{className:go.a.nav_box},o.a.createElement("ul",null,c&&c.length>0&&c.map((function(e,t){return o.a.createElement("li",{className:"".concat(go.a.nav_item),key:t},o.a.createElement("a",{href:e.url,target:"_blank",rel:"noreferrer"},e.title))})),(null==s?void 0:s.length)>0&&o.a.createElement("li",{className:"".concat(go.a.nav_item),onMouseEnter:function(){clearTimeout(m),v=setTimeout((function(){a(!0)}),300)},onMouseLeave:function(){clearTimeout(v),m=setTimeout((function(){a(!1)}),150)}},o.a.createElement("span",{className:go.a.nav_cut}),o.a.createElement("a",{className:"".concat(n?go.a.nav_item_color:"")},"\u5168\u90e8",o.a.createElement("span",{className:"iconfontheader ".concat(go.a.iconfontheader," iconzhankaijiantou-xia ").concat(n?"iconzhankaijiantou-shang":"")})),n&&s&&s.length>0&&o.a.createElement("div",{className:"".concat(go.a.nav_panel," ").concat(go.a.uPanel)},o.a.createElement("ul",{className:go.a.nav_panel_list,style:{width:"".concat(62*y,"px")}},s.map((function(e,t){return o.a.createElement("li",{className:go.a.nav_panel_item,key:t},o.a.createElement("a",{href:e.url,target:"_blank",rel:"noreferrer"},e.title))}))),o.a.createElement("div",{className:go.a.nav_panel_cut}),o.a.createElement("a",{className:go.a.nav_panel_vip,href:"https://hy.youku.com/",target:"_blank",rel:"noreferrer"},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i2/O1CN01YbcMgh1gdA1tZxOA3_!!6000000004164-2-tps-108-90.png"}),o.a.createElement("div",{className:go.a.nav_panel_vip_txt},"\u4f1a\u5458\u7cbe\u9009"))))))},Oo=So,jo=n(19),Lo=n.n(jo);function No(e,t){return Ao(e)||Po(e,t)||To(e,t)||Io()}function Io(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function To(e,t){if(e){if("string"==typeof e)return Co(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Co(e,t):void 0}}function Co(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Po(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function Ao(e){if(Array.isArray(e))return e}var Do=[{title:"\u7b80\u4f53\u4e2d\u6587",key:"zh_CN"},{title:"\u7e41\u9ad4\u4e2d\u6587",key:"zh_TW"},{title:"English",key:"en_US"},{title:"Ti\u1ebfng Vi\u1ec7t",key:"vi_VN"},{title:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",key:"th_TH"},{title:"Bahasa Indonesia",key:"in_ID"},{title:"Espa\xf1ol",key:"es_ES"},{title:"Bahasa Melayu",key:"ms_MY"},{title:"Portugu\xeas",key:"pt_BR"}],Ro=function(){return Object(a.getCookie)("yk_lang")},Bo=function(e){var t,n=No(Object(r.useState)(),2),i=n[0],c=n[1],l=No(Object(r.useState)(""),2),u=l[0],s=l[1],p=(Se((function(e){return e.isI18n})),Object(r.useRef)(null));Object(r.useEffect)((function(){var e=Ro();s(e)}),[]);return o.a.createElement("div",{className:Lo.a.lang_box,onMouseEnter:function(){p.current&&clearTimeout(p.current),p.current=setTimeout((function(){c(!0)}),300),ot("languagepanel",Do.findIndex((function(e){return e.key===u}))+1,"EXP","",{language:u})},onMouseLeave:function(){c(!1),p.current&&clearTimeout(p.current),p.current=null}},o.a.createElement("a",{className:"aplus_exp aplus_clk iconfontheader iconlanguage-main-24 ".concat(Lo.a.icon_span),"data-spm":"d_language",title:(null==e||null===(t=e.i18nHeader)||void 0===t?void 0:t.i18n_Header_Language)||"language"}),i&&o.a.createElement("ul",{className:"".concat(Lo.a.lang_panel," ").concat(Lo.a.uPanel)},Do.map((function(e,t){return o.a.createElement("li",{className:"".concat(u===e.key?Lo.a.current:""),key:t,onClick:function(){!function(e,t){s(e.key),ot("languagepanel",t+1,"CLK","",{language:e.key}),function(e){return new Promise((function(t){var n,r,o=null!==(n=location)&&void 0!==n&&null!==(r=n.host)&&void 0!==r&&r.includes("youku.tv")?"youku.tv":"youku.com";t(Object(a.setCookie)("yk_lang",e,null,o))}))}(e.key).then((function(){var e;null===(e=location)||void 0===e||e.reload()}))}(e,t)}},e.title)}))))},Ho=Bo,Mo=n(13),Uo=n.n(Mo);function Fo(e,t){return Xo(e)||Wo(e,t)||Go(e,t)||Ko()}function Ko(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Go(e,t){if(e){if("string"==typeof e)return Vo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vo(e,t):void 0}}function Vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wo(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function Xo(e){if(Array.isArray(e))return e}var qo=function(e){var t,n,a,i,c=Fo(Object(r.useState)(!1),2),l=c[0],u=c[1],s=Object(r.useRef)(null);Object(r.useEffect)((function(){return function(){clearTimeout(p),clearTimeout(f)}}),[]);var p=null,f=null;return o.a.createElement("div",{className:Uo.a.intapp_box,onMouseEnter:function(){s.current&&clearTimeout(s.current),s.current=setTimeout((function(){u(!0)}),300)},onMouseLeave:function(){u(!1),s.current&&clearTimeout(s.current),s.current=null}},o.a.createElement("div",{className:"iconfontheader iconintappDownload-main-24 aplus_exp aplus_clk ".concat(Uo.a.icon_span),"data-spm":"d_intApp"}),l&&o.a.createElement("div",{className:"".concat(Uo.a.intapp_panel," ").concat(Uo.a.uPanel)},o.a.createElement("div",{className:Uo.a.text_box},o.a.createElement("h2",null,(null==e||null===(t=e.i18nHeader)||void 0===t?void 0:t.i18n_Header_App_Title)||"Scan QR code to download App Now!"),o.a.createElement("p",null,(null==e||null===(n=e.i18nHeader)||void 0===n?void 0:n.i18n_Header_App_Benefit1)||"Boost your download speed"),o.a.createElement("p",null,(null==e||null===(a=e.i18nHeader)||void 0===a?void 0:a.i18n_Header_App_Benefit2)||"No more buffering while streaming"),o.a.createElement("p",null,(null==e||null===(i=e.i18nHeader)||void 0===i?void 0:i.i18n_Header_App_Benefit3)||"High resolution")),o.a.createElement("div",{className:Uo.a.line}),o.a.createElement("div",{className:Uo.a.code_wrap},o.a.createElement("div",{style:{position:"relative"}},o.a.createElement("div",{className:Uo.a.code_box},o.a.createElement("div",{className:Uo.a.code})),o.a.createElement("img",{className:Uo.a.houzi,src:"https://img.alicdn.com/imgextra/i1/O1CN01BhptKl1KpbFOscgVl_!!6000000001213-2-tps-240-276.png"})))))},Jo=qo,zo=n(12),Yo=n.n(zo);function $o(e,t){return na(e)||ta(e,t)||Zo(e,t)||Qo()}function Qo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zo(e,t){if(e){if("string"==typeof e)return ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ea(e,t):void 0}}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ta(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function na(e){if(Array.isArray(e))return e}var ra=[],oa=function(e){var t,n=$o(Object(r.useState)(!1),2),i=n[0],c=n[1],l=$o(Object(r.useState)([]),2),u=l[0],s=l[1],p=$o(Object(r.useState)([]),2),f=p[0],h=p[1],d=$o(Object(r.useState)(e.current),2),m=d[0],v=d[1],y=$o(Object(r.useState)(""),2),g=y[0],_=y[1],b=2;Object(r.useEffect)((function(){return window.addEventListener("resize",w),function(){window.removeEventListener("resize",w)}}),[m]),Object(r.useEffect)((function(){w(m)}),[e.channelList]);var w=function(){if(_(""),e.channelList&&0!==e.channelList.length){var t,n,r,o,a,i;ra=[];var c=(null===(t=document)||void 0===t||null===(n=t.querySelector(".topheader_top_box"))||void 0===n?void 0:n.clientWidth)-(null===(r=document)||void 0===r||null===(o=r.querySelector(".logo_logo_box"))||void 0===o?void 0:o.clientWidth)-(null===(a=document)||void 0===a||null===(i=a.querySelector(".topheader_utils_box"))||void 0===i?void 0:i.clientWidth)-150,l=document.createElement("canvas").getContext("2d");l.font="16px pingfang SC Microsoft YaHei helvetica arial verdana tahoma sans-serif";for(var u=0,p=0;p<e.channelList.length;p++){var f=e.channelList[p];if((u+=Math.ceil(l.measureText(f.title).width)+22)+38>c){b=p;break}b=p+1}b=b<2?2:b;var d,v=e.channelList.slice(b,e.channelList.length),y=[];null!=v&&v.some((function(e){return e.nodeKey===m}))?(_(null==v||null===(d=v.find((function(e){return e.nodeKey===m})))||void 0===d?void 0:d.title),y=v.filter((function(e){return e.nodeKey!==m}))):_(""),s(e.channelList.slice(0,b)),h(y.length>0?y:v),ra=v}},x=null,E=null,k=function(e){var t,n;if(window){var r=e,o=Object(a.getPreStr)(null===(t=location)||void 0===t?void 0:t.host),i="pre"===window.__ENV__||"staging"===window.__ENV__||location.host.includes(o);if(null!==(n=location.host)&&void 0!==n&&n.includes("youku.tv")){var c=i?"pre.youku.tv":"www.youku.tv";r=r.replace("www.youku.com",c)}else{var l=i?"prodtest.youku.com":"www.youku.com";r="".concat(r.replace("www.youku.com",l),"?isI18n=1")}return r}};return o.a.createElement("div",{className:Yo.a.nav_box},o.a.createElement("ul",{style:{display:"flex",height:"100%",whiteSpace:"nowrap"}},(null==u?void 0:u.length)>0&&u.map((function(t,n){return o.a.createElement("li",{className:"".concat(Yo.a.nav_item," ").concat("play"!==e.channelType&&t.nodeKey===m?Yo.a.current:null),key:n},o.a.createElement("a",{href:"play"===e.channelType?k(t.url):"javascript:void(0);",target:"play"===e.channelType?"_blank":"_self",onClick:"play"!==e.channelType?function(){!function(t){v(t.nodeKey),_(""),h(ra),c(!1),e.handleChannelClick(t)}(t)}:null,rel:"noreferrer"},t.title))})),((null==u?void 0:u.length)>0&&(null==f?void 0:f.length)>0||g)&&o.a.createElement("li",{className:"".concat(Yo.a.nav_item),onMouseEnter:function(){clearTimeout(x),E=setTimeout((function(){c(!0)}),300)},onMouseLeave:function(){clearTimeout(E),x=setTimeout((function(){c(!1)}),150)}},o.a.createElement("a",{className:"".concat(i?Yo.a.nav_item_color:"")},o.a.createElement("span",{className:g?Yo.a.current:""},g||(null==e||null===(t=e.i18nHeader)||void 0===t?void 0:t.i18n_Header_All)||"All"),(null==f?void 0:f.length)>0&&o.a.createElement("span",{className:"iconfontheader ".concat(Yo.a.iconfontheader," iconzhankaijiantou-xia ").concat(i?"iconzhankaijiantou-shang":"")})),i&&(null==f?void 0:f.length)>0&&o.a.createElement("div",{className:"".concat(Yo.a.nav_panel," ").concat(Yo.a.uPanel)},o.a.createElement("ul",{className:Yo.a.nav_panel_list},f.map((function(t,n){return o.a.createElement("li",{className:"".concat(Yo.a.nav_panel_item," ").concat("play"!==e.channelType&&t.nodeKey===m?Yo.a.current:null),key:n},o.a.createElement("a",{href:"play"===e.channelType?k(t.url):"javascript:void(0);",target:"play"===e.channelType?"_blank":"_self",onClick:"play"!==e.channelType?function(n){!function(t,n){var r=t.target.innerHTML,o=ra.filter((function(e){return e.title!==r}));h(o),_(r||""),v(n.nodeKey),c(!1),e.handleChannelClick(n)}(n,t)}:null,rel:"noreferrer"},t.title))})))))))},aa=oa;function ia(e,t){return pa(e)||sa(e,t)||la(e,t)||ca()}function ca(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function la(e,t){if(e){if("string"==typeof e)return ua(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ua(e,t):void 0}}function ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sa(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function pa(e){if(Array.isArray(e))return e}var fa=function(e){var t=ia(Object(r.useState)({}),2),n=t[0],a=t[1],i=ia(Object(r.useState)(!1),2),c=i[0],l=i[1],u=ia(Object(r.useState)(!1),2),s=u[0],p=u[1],f=ia(Object(r.useState)(!1),2),h=f[0],d=f[1],m=ia(Object(r.useState)(!1),2),v=m[0],y=m[1],g=ia(Object(r.useState)(!1),2),_=g[0],b=g[1],w=e.angleData,x=e.scrollClass;Object(r.useEffect)((function(){e.logininstance&&e.logininstance&&e.logininstance.eventbusLogin.subscribe((function(e){e.userInfo&&(a(e.userInfo),l(e.isLoginStatus),p(!(1!==e.userInfo.is_vip&&"1"!==e.userInfo.is_vip)))}))}),[e.logininstance]),Object(r.useEffect)((function(){e.festivalConfig&&document&&document.addEventListener("scroll",(function(){var e=document.documentElement.scrollTop||document.body.scrollTop;e>=100&&!v?y(!0):e<100&&y(!1)}))}),[]);var E,k,S="win"===e.platform&&!e.isShowRed,O="mac"===e.platform&&!e.isShowRed&&!e.macFullScreen,j="mac"===e.platform||"win"===e.platform;return o.a.createElement("div",{className:"".concat(je.a.topHeaderWrap," ").concat(x?"no_class"===x?je.a.scroll_no_class:je.a.scroll_class:""," ").concat(v||e.festivalConfig?v?"":je.a.hasAd:""," ").concat(void 0!==x?"":je.a.headerBackGround)},o.a.createElement("div",{className:"".concat(je.a.top_header_box," ").concat(e.oldStyle?je.a.header_width:""," ").concat(_?je.a.no_drag:""),style:{height:"".concat(null!=e&&e.isI18n||!e.isShowRed?"70":"140","px")}},"win"===e.platform&&o.a.createElement("div",{className:je.a.uosHeader}),!(null!=e&&e.isI18n)&&e.isShowRed&&Array.isArray(w.topRed)&&w.topRed[0]&&o.a.createElement("div",{className:je.a.red_box,style:{backgroundColor:"".concat("bg_color"===w.topRed[0].bgType?w.topRed[0].bg_color:w.topRed[0].bg_fill_color||"#BD0000")}},"bg_pic"===w.topRed[0].bgType&&o.a.createElement("div",{style:{backgroundImage:"url(".concat(w.topRed[0].imgUrl,")")}})),o.a.createElement("div",{className:"".concat(je.a.top_box," ").concat(j?je.a.uos_top_box:""," ").concat(e.isShowRed?je.a.no_drag:""," ").concat(S?je.a.top_box_win:""," ").concat(O?je.a.top_box_mac:"")},(null==e?void 0:e.isI18n)?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{display:"flex",flexGrow:"1"}},o.a.createElement(Rn,{isVipPage:e.isVipPage,platform:e.platform,showTopHeaderNav:e.showTopHeaderNav,oldStyle:e.oldStyle,isI18n:e.isI18n}),(null==e||null===(E=e.topChannelList)||void 0===E?void 0:E.length)>0&&o.a.createElement(aa,{showTopHeaderNav:e.showTopHeaderNav,channelList:e.topChannelList,handleChannelClick:e.handleChannelClick,i18nHeader:null==e?void 0:e.i18nHeader,current:e.current,channelType:e.channelType,languageForRequest:e.languageForRequest})),o.a.createElement("div",{className:"".concat(je.a.utils_box)},o.a.createElement(fn,{isPaddingMac:O,showTopHeaderNav:e.showTopHeaderNav,searchShort:e.searchShort,isI18n:null==e?void 0:e.isI18n,i18nHeader:null==e?void 0:e.i18nHeader,isUosMode:j}),o.a.createElement(Jo,{i18nHeader:null==e?void 0:e.i18nHeader}),o.a.createElement(oo,{setMouseIn:d,logininstance:e.logininstance,isI18n:e.isI18n,i18nHeader:null==e?void 0:e.i18nHeader}),(null==e?void 0:e.showLanguage)&&o.a.createElement(Ho,{isI18n:e.isI18n,i18nHeader:null==e?void 0:e.i18nHeader}),o.a.createElement(er,{setMouseIn:d,logininstance:e.logininstance,crmData:e.vipNewData,userInfo:n,spmAB:e.spmAB,isLogin:c,isVip:s,platform:e.platform}),o.a.createElement(Cn,{mouseIn:h,platform:e.platform,crmData:e.vipData,logininstance:e.logininstance,showTopHeaderNav:e.showTopHeaderNav,loginGuideAllow:e.loginGuideAllow,oldStyle:e.oldStyle,isI18n:e.isI18n,i18nHeader:null==e?void 0:e.i18nHeader}))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{display:"flex",flexGrow:"1"}},o.a.createElement(Rn,{isVipPage:e.isVipPage,platform:e.platform,showTopHeaderNav:e.showTopHeaderNav,oldStyle:e.oldStyle}),e.topChannelList&&e.topChannelList.length>0&&o.a.createElement(Oo,{showTopHeaderNav:e.showTopHeaderNav,channelList:e.topChannelList}),o.a.createElement(fn,{isPaddingMac:O,showTopHeaderNav:e.showTopHeaderNav,searchShort:e.searchShort,setSearchIsFocus:b,isUosMode:j})),!e.isShowRed&&o.a.createElement(xn,{logininstance:e.logininstance}),o.a.createElement("div",{className:"".concat(je.a.utils_box)},"win"===(k=e.platform)?o.a.createElement(o.a.Fragment,null,o.a.createElement(oo,{logininstance:e.logininstance}),o.a.createElement(or,null),o.a.createElement(lr,null),o.a.createElement(er,{logininstance:e.logininstance,crmData:e.vipNewData,userInfo:n,spmAB:e.spmAB,isLogin:c,isVip:s,platform:e.platform}),o.a.createElement(Cn,{platform:e.platform,isShowRed:e.isShowRed,crmData:e.vipData,logininstance:e.logininstance}),o.a.createElement(vr,{isShowRed:e.isShowRed})):"mac"===k?o.a.createElement(o.a.Fragment,null,o.a.createElement(fr,null),o.a.createElement(oo,{logininstance:e.logininstance}),o.a.createElement(or,null),o.a.createElement(lr,null),o.a.createElement(er,{logininstance:e.logininstance,crmData:e.vipNewData,userInfo:n,spmAB:e.spmAB,isLogin:c,isVip:s,platform:e.platform,isMas:e.isMas}),o.a.createElement(Cn,{platform:e.platform,crmData:e.vipData,logininstance:e.logininstance})):o.a.createElement(o.a.Fragment,null,o.a.createElement(vo,{setMouseIn:d}),o.a.createElement(oo,{setMouseIn:d,logininstance:e.logininstance}),o.a.createElement(er,{setMouseIn:d,logininstance:e.logininstance,crmData:e.vipNewData,userInfo:n,spmAB:e.spmAB,isLogin:c,isVip:s,platform:e.platform}),o.a.createElement(Cn,{mouseIn:h,platform:e.platform,crmData:e.vipData,logininstance:e.logininstance,showTopHeaderNav:e.showTopHeaderNav,loginGuideAllow:e.loginGuideAllow,oldStyle:e.oldStyle})))))))},ha=fa,da=n(11),ma=n.n(da);function va(e,t){return wa(e)||ba(e,t)||ga(e,t)||ya()}function ya(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ga(e,t){if(e){if("string"==typeof e)return _a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_a(e,t):void 0}}function _a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ba(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function wa(e){if(Array.isArray(e))return e}function xa(e){var t=va(Object(r.useState)(0),2),n=t[0],a=t[1],i=va(Object(r.useState)("absolute"),2),c=i[0],l=i[1],u=va(Object(r.useState)(e.navList),2),s=u[0];u[1],Object(r.useEffect)((function(){if(e.UOSMode)l("fixed");else{var t=document.querySelector(".app_normal")&&document.querySelector(".app_normal").getBoundingClientRect().left||0;t<0&&(t=0),a(t),l("fixed"),window.addEventListener("resize",(function(){var e=document.querySelector(".app_normal")&&document.querySelector(".app_normal").getBoundingClientRect().left||0;e<0&&(e=0),a(e)}))}}),[]);var p=function(t){(!e.disableNodeKeys||e.disableNodeKeys.indexOf(t.nodeKey)<0)&&e.setCurrent&&e.setCurrent(t.nodeKey),e.handleChannelClick(t)};return o.a.createElement("div",{className:"".concat(ma.a.left_header_box," ").concat(e.isShowRed?ma.a.left_header_box_red:""),style:{left:"".concat(n,"px"),position:c}},o.a.createElement("div",{className:"".concat(ma.a.navList_wrap," ").concat(e.isShowRed?ma.a.nav_area_box_red:""),"data-spm":"navList"},o.a.createElement("div",{className:"".concat(ma.a.nav_area_box)},o.a.createElement("div",{className:ma.a.left_nav_box},s&&s.map((function(t,n){return t.url?o.a.createElement("a",{className:"aplus_exp aplus_clk ".concat(ma.a.link_item," ").concat(t.nodeKey===e.current?e.isVipPage?ma.a.current_item_vip:ma.a.current_item:""),key:(new Date).getTime()+n,href:t.url,target:"_blank","data-spm":"d_".concat(t.url.match(/\/\/(\S*).youku.com/)[1]),onClick:function(){p(t)},rel:"noreferrer"},t.title):o.a.createElement("a",{"data-spm":"d_".concat(t.pathName),key:(new Date).getTime()+n,href:"javascript:void(0);",className:"aplus_exp aplus_clk ".concat("hy"===t.pathName?ma.a.link_item_vip:ma.a.link_item," ").concat(t.nodeKey===e.current?e.isVipPage?ma.a.current_item_vip:ma.a.current_item:""),onClick:function(){p(t)}},t.title)}))))))}var Ea=xa,ka=(n(35),n(17)),Sa=n.n(ka);function Oa(e){return(Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function La(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ia(r.key),r)}}function Na(e,t,n){return t&&La(e.prototype,t),n&&La(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ia(e){var t=Ta(e,"string");return"symbol"===Oa(t)?t:String(t)}function Ta(e,t){if("object"!==Oa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Oa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ca(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pa(e,t)}function Pa(e,t){return(Pa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Aa(e){var t=Ba();return function(){var n,r=Ha(e);if(t){var o=Ha(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Da(this,n)}}function Da(e,t){if(t&&("object"===Oa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ra(e)}function Ra(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ba(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ha(e){return(Ha=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ma=function(e){Ca(n,e);var t=Aa(n);function n(e){var r;return ja(this,n),(r=t.call(this,e)).state={isShow:!0},r}return Na(n,[{key:"closeBtn",value:function(e){this.setState({isShow:!1}),ot("closeBtn",e,"CLK")}},{key:"componentDidMount",value:function(){ot("market_h5",this.props.spmD,"EXP")}},{key:"render",value:function(){var e=this,t=this.state.isShow,n=this.props,r=n.iframeSrc,a=n.spmD;return t&&o.a.createElement("div",{className:Sa.a.H5Content},o.a.createElement("div",{className:Sa.a.conBox},o.a.createElement("img",{className:Sa.a.closeBtn,src:"https://img.alicdn.com/imgextra/i2/O1CN01SfCZWt1UrZ0SRs5gm_!!6000000002571-2-tps-120-120.png",onClick:function(){e.closeBtn(a)}}),o.a.createElement("div",{className:Sa.a.bottomMask}),o.a.createElement("div",{className:Sa.a.H5Center},o.a.createElement("iframe",{className:Sa.a.iframeDom,width:"100%",height:"100%",frameBorder:"0",src:r}))))}}]),n}(o.a.Component);function Ua(e){return(Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ka(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qa(r.key),r)}}function Ga(e,t,n){return t&&Ka(e.prototype,t),n&&Ka(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Va(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wa(e,t)}function Wa(e,t){return(Wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Xa(e){var t=za();return function(){var n,r=Ya(e);if(t){var o=Ya(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qa(this,n)}}function qa(e,t){if(t&&("object"===Ua(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ja(e)}function Ja(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function za(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ya(e){return(Ya=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $a(e,t,n){return(t=Qa(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qa(e){var t=Za(e,"string");return"symbol"===Ua(t)?t:String(t)}function Za(e,t){if("object"!==Ua(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ua(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var ei=function(e){Va(n,e);var t=Xa(n);function n(e){var r;return Fa(this,n),$a(Ja(r=t.call(this,e)),"userRecord",(function(){var e=r.props.angleData;if(e&&e.exposure_switch){e.timesCompany&&"hour"===e.timesCompany&&e.timesLength?r.intervalTime=60*e.timesLength*60*1e3:e.timesCompany&&"day"===e.timesCompany&&e.timesLength&&(r.intervalTime=24*e.timesLength*60*60*1e3);var t=Number(Object(a.getCookie)("angle-index"));if(!t)return;var n=Object(a.getCookie)("angle-startTime"),o=r.intervalTime+n,i=(new Date).getTime();if(i>=o)Object(a.setCookie)("angle-index",1,Math.floor(r.intervalTime/1e3)),Object(a.setCookie)("angle-startTime",i,Math.floor(r.intervalTime/1e3));else{var c=r.intervalTime-((new Date).getTime()-n);t<=Number(r.props.angleData.times-1)?Object(a.setCookie)("angle-index",t+1,Math.floor(c/1e3)):(r.props.angleData&&"angle_static"===r.props.angleData.angle||r.props.angleData&&"angle_dynamic"===r.props.angleData.angle)&&r.setState({isShowAll:!1})}}})),$a(Ja(r),"closeClick",(function(){var e=(new Date).getTime();r.props.angleData&&r.props.angleData.exposure_switch&&r.IntervalTime(e),r.setState({isShowAll:!1}),ot(r.props.angleData&&r.props.angleData.taskId,"corner_close","CLK"),clearTimeout(r.timer)})),$a(Ja(r),"autoClose",(function(){r.props.angleData&&r.props.angleData.angle_time&&0!==r.props.angleData.angle_time&&(r.timer=setTimeout((function(){if(r.props.angleData&&r.props.angleData.exposure_switch){var e=(new Date).getTime();r.IntervalTime(e)}r.props.angleData&&"angle_static"===r.props.angleData.angle?r.setState({isShowAll:!1}):r.props.angleData&&"angle_dynamic"===r.props.angleData.angle&&r.setState({isanimation:!1}),ot(r.props.angleData&&r.props.angleData.taskId,"corner_close","CLK")}),1e3*r.props.angleData.angle_time))})),$a(Ja(r),"IntervalTime",(function(e){Object(a.getCookie)("angle-index")||(Object(a.setCookie)("angle-index",1,Math.floor(r.intervalTime/1e3)),Object(a.setCookie)("angle-startTime",e,Math.floor(r.intervalTime/1e3)))})),r.cna="",r.intervalTime=0,r.state={isanimation:!0,isShowAll:!0,isShowFrist:!1,isActivity:!1,iframeSrc:""},r.subscribe=!1,r.timer,r}return Ga(n,[{key:"componentDidMount",value:function(){this.setState({isShowFrist:!0}),this.autoClose(),this.userRecord();var e=this.props.angleData&&this.props.angleData.taskId,t=this.props.angleData&&this.props.angleData.angle;"angle_static"===t?ot(e,"corner","EXP"):"angle_dynamic"===t&&ot(e,"pop_corner","EXP"),console.info({alarm_type:"angle-pop",alarm_code:8206,client_msg:{message:"angle-pop"}})}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.loginInstance&&!this.subscribe||!this.props.loginInstance||this.props.loginInstance.eventbusLogin.subscribe((function(e){e&&e._userInfo&&e._userInfo.loginStatus&&t.props.angleData&&"0"===t.props.angleData.user_identity&&((t.props.angleData&&"angle_static"===t.props.angleData.angle||t.props.angleData&&"angle_dynamic"===t.props.angleData.angle)&&t.setState({isShowAll:!1}),clearTimeout(t.timer))})),this.subscribe=!0}},{key:"render",value:function(){var e=this,t=this.props.angleData,n=this.state,r=n.isActivity,a=n.iframeSrc;return o.a.createElement(o.a.Fragment,null,r&&o.a.createElement(Ma,{iframeSrc:a,spmD:t.taskId}),this.state.isShowAll&&this.state.isShowFrist&&o.a.createElement(o.a.Fragment,null,this.props.angleData&&"angle_static"===this.props.angleData.angle?o.a.createElement("div",{className:"angle_box","data-spm":t.taskId},t&&"url"===t.scmType&&o.a.createElement("a",{"data-spm":"d_corner",href:t.actionUrl,target:"_blank",onClick:function(){if(e.setState({isShowAll:!1}),t&&t.exposure_switch){var n=(new Date).getTime();e.IntervalTime(n)}clearTimeout(e.timer),ot(t.taskId,"corner","CLK")},rel:"noreferrer"},o.a.createElement("img",{className:"imgStyle",src:t&&t.imgUrl})),t&&"cashier"===t.scmType&&o.a.createElement("a",{"data-spm":"d_corner",href:"javascript:void(;:)"},o.a.createElement("img",{src:t&&t.imgUrl,className:"imgStyle youku_vip_pay_btn",onClick:function(){if(e.setState({isShowAll:!1}),t&&t.exposure_switch){var n=(new Date).getTime();e.IntervalTime(n)}clearTimeout(e.timer),ot(t.taskId,"corner","CLK")}})),t&&"login"===t.scmType&&o.a.createElement("a",{"data-spm":"d_corner",href:"javascript:void(;:)"},o.a.createElement("img",{className:"imgStyle",src:t&&t.imgUrl,onClick:function(){if(e.props.loginInstance.login(),e.setState({isShowAll:!1}),t&&t.exposure_switch){var n=(new Date).getTime();e.IntervalTime(n)}clearTimeout(e.timer),ot(t.taskId,"corner","CLK")}})),t&&"activity"===t.scmType&&o.a.createElement("a",{"data-spm":"d_full_screen",href:"javascript:void(:;)"},o.a.createElement("img",{className:"imgStyle",src:t&&t.imgUrl,onClick:function(){if(t&&t.exposure_switch){var n=(new Date).getTime();e.IntervalTime(n)}clearTimeout(e.timer),ot(t.taskId,"pop_corner","CLK"),e.setState({isActivity:!0,isShowAll:!1,iframeSrc:t&&t.activityUrl})}})),o.a.createElement("img",{className:"static_close",src:"//img.alicdn.com/tfs/TB1lPFxh4D1gK0jSZFyXXciOVXa-12-12.svg",onClick:this.closeClick})):this.props.angleData&&"angle_dynamic"===this.props.angleData.angle&&o.a.createElement("div",{className:"angle_box ".concat(this.state.isanimation?"":"dynamic_putAway"),"data-spm":t.taskId},t&&"url"===t.scmType&&o.a.createElement("a",{href:t.actionUrl,target:"_blank","data-spm":"d_pop_corner",onClick:function(){if(e.setState({isShowAll:!1}),t&&t.exposure_switch){var n=(new Date).getTime();e.IntervalTime(n)}ot(t&&t.taskId,"pop_corner","CLK"),clearTimeout(e.timer)},rel:"noreferrer"},o.a.createElement("img",{className:"imgStyle",src:t&&t.imgUrl})),t&&"cashier"===t.scmType&&o.a.createElement("a",{"data-spm":"d_pop_corner",href:"javascript:void(;:)"},o.a.createElement("img",{src:t&&t.imgUrl,className:"imgStyle youku_vip_pay_btn",onClick:function(){if(e.setState({isShowAll:!1}),t&&t.exposure_switch){var n=(new Date).getTime();e.IntervalTime(n)}clearTimeout(e.timer),ot(t.taskId,"pop_corner","CLK")}})),t&&"login"===t.scmType&&o.a.createElement("a",{"data-spm":"d_pop_corner",href:"javascript:void(;:)"},o.a.createElement("img",{className:"imgStyle",src:t&&t.imgUrl,onClick:function(){if(e.props.loginInstance.login(),e.setState({isShowAll:!1}),t&&t.exposure_switch){var n=(new Date).getTime();e.IntervalTime(n)}clearTimeout(e.timer),ot(t.taskId,"pop_corner","CLK")}})),t&&"activity"===t.scmType&&o.a.createElement("a",{"data-spm":"d_full_screen",href:"javascript:void(:;)"},o.a.createElement("img",{className:"imgStyle",src:t&&t.imgUrl,onClick:function(){if(t&&t.exposure_switch){var n=(new Date).getTime();e.IntervalTime(n)}clearTimeout(e.timer),ot(t.taskId,"pop_corner","CLK"),e.setState({isActivity:!0,isShowAll:!1,iframeSrc:t&&t.activityUrl})}})),o.a.createElement("a",{className:"dynamic_close ".concat(this.state.isanimation?"":"close_animation"),onClick:function(t){return e.closeClick(t)},href:"javaScript:void(0)"},o.a.createElement("span",{className:"closeSpan"},o.a.createElement("img",{src:"//img.alicdn.com/tfs/TB1lPFxh4D1gK0jSZFyXXciOVXa-12-12.svg"}))))))}}]),n}(r.Component),ti=(n(36),n(31)),ni=n.n(ti);function ri(e){return(ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ci(r.key),r)}}function ii(e,t,n){return t&&ai(e.prototype,t),n&&ai(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ci(e){var t=li(e,"string");return"symbol"===ri(t)?t:String(t)}function li(e,t){if("object"!==ri(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ri(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ui(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&si(e,t)}function si(e,t){return(si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function pi(e){var t=di();return function(){var n,r=mi(e);if(t){var o=mi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fi(this,n)}}function fi(e,t){if(t&&("object"===ri(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hi(e)}function hi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function di(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function mi(e){return(mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vi=function(e){ui(n,e);var t=pi(n);function n(){return oi(this,n),t.apply(this,arguments)}return ii(n,[{key:"render",value:function(){var e=this.props.content;return o.a.createElement("div",{className:ni.a.toastBox},o.a.createElement("p",null,e))}}]),n}(r.Component),yi=vi;function gi(e){return(gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_i(Object(n),!0).forEach((function(t){Ai(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wi(){wi=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),c=new S(o||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function f(){}function h(){}function d(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(O([])));y&&y!==t&&n.call(y,a)&&(m=y);var g=d.prototype=f.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var o;r(this,"_invoke",{value:function(r,a){function i(){return new t((function(o,i){!function r(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==gi(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(p).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function w(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=s(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},_(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(g),l(g,c,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function xi(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Ei(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){xi(a,r,o,i,c,"next",e)}function c(e){xi(a,r,o,i,c,"throw",e)}i(void 0)}))}}function ki(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Di(r.key),r)}}function Oi(e,t,n){return t&&Si(e.prototype,t),n&&Si(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ji(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Li(e,t)}function Li(e,t){return(Li=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ni(e){var t=Ci();return function(){var n,r=Pi(e);if(t){var o=Pi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ii(this,n)}}function Ii(e,t){if(t&&("object"===gi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ti(e)}function Ti(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ci(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Pi(e){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ai(e,t,n){return(t=Di(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Di(e){var t=Ri(e,"string");return"symbol"===gi(t)?t:String(t)}function Ri(e,t){if("object"!==gi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Bi=function(e){ji(n,e);var t=Ni(n);function n(e){var r;return ki(this,n),Ai(Ti(r=t.call(this,e)),"rerserver",Ei(wi().mark((function e(){var t,n,o,a,i,c,u,s,p,f,h,d,m,v;return wi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.loginStatus=!1,u=r.props,s=u.fullScreenData,p=u.UOSMode,f={bizId:53,contentId:null==s?void 0:s.show,contentType:"SHOW",deviceType:p?"iku":"PC",src:p?"iku_fullscreen":"pcweb_fullscreen",serviceVer:2},h={type:"GET",v:"1.2",dataType:"jsonp",data:f},e.prev=5,e.next=8,l.request("mtop.youku.rooster.reservationservice.rerserver",h);case 8:d=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),d=e.t0;case 14:null!==(t=d)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&null!==(o=n.model)&&void 0!==o&&o.success||null!==(a=d)&&void 0!==a&&null!==(i=a.ret)&&void 0!==i&&null!==(c=i[0])&&void 0!==c&&c.includes("CONTENT_ID_BEEN_RESERVERED")?(r.toastTxt="\u9884\u7ea6\u6210\u529f\uff01\u5185\u5bb9\u4e0a\u7ebf\u4f1a\u5728\u624b\u673a\u7aef\u901a\u77e5\u4f60\u54e6~",r.setState({isReserve:!0,isShowAll:!1})):(r.toastTxt="\u9884\u7ea6\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",r.setState({isReserve:!0,isShowAll:!1})),m=setTimeout((function(){(null==s?void 0:s.jumpUrl)&&window.open(s.jumpUrl),window.isReLoad&&window._loginStatus&&window.location.reload(),clearTimeout(m)}),600),v=setTimeout((function(){r.setState({isReserve:!1}),clearTimeout(v)}),3e3);case 17:case"end":return e.stop()}}),e,null,[[5,11]])})))),Ai(Ti(r),"userRecord",(function(){var e=r.props.fullScreenData;if(e&&e.exposure_switch){"hour"===(null==e?void 0:e.timesCompany)&&e.timesLength?r.intervalTime=60*e.timesLength*60*1e3:"day"===(null==e?void 0:e.timesCompany)&&e.timesLength&&(r.intervalTime=24*e.timesLength*60*60*1e3);var t=Number(Object(a.getCookie)("full-index"));if(!t)return;var n=Number(Object(a.getCookie)("full-startTime")),o=r.intervalTime+n,i=(new Date).getTime();if(i>=o)Object(a.setCookie)("full-index",1,Math.floor(r.intervalTime/1e3)),Object(a.setCookie)("full-startTime",i,Math.floor(r.intervalTime/1e3));else{var c=r.intervalTime-((new Date).getTime()-n);t<=Number(r.props.fullScreenData.times-1)?Object(a.setCookie)("full-index",t+1,Math.floor(c/1e3)):r.setState({isShowAll:!1})}}})),Ai(Ti(r),"closeClick",(function(){var e=(new Date).getTime();r.props.fullScreenData&&r.props.fullScreenData.exposure_switch&&r.IntervalTime(e),r.setState({isShowAll:!1}),ot(r.props.fullScreenData&&r.props.fullScreenData.taskId,"full_screen_close","CLK"),clearTimeout(r.timer)})),Ai(Ti(r),"autoClose",(function(){var e,t,n;0!==(null===(e=Ti(r))||void 0===e||null===(t=e.props)||void 0===t||null===(n=t.fullScreenData)||void 0===n?void 0:n.full_time)&&(r.timer=setTimeout((function(){var e,t,n,o,a,i,c=(new Date).getTime();null!==(e=Ti(r))&&void 0!==e&&null!==(t=e.props)&&void 0!==t&&null!==(n=t.fullScreenData)&&void 0!==n&&n.exposure_switch&&r.IntervalTime(c),r.setState({isShowAll:!1}),ot(null===(o=Ti(r))||void 0===o||null===(a=o.props)||void 0===a||null===(i=a.fullScreenData)||void 0===i?void 0:i.taskId,"full_screen_close","CLK")}),1e3*r.props.fullScreenData.full_time))})),Ai(Ti(r),"IntervalTime",(function(e){Object(a.getCookie)("full-index")||(Object(a.setCookie)("full-index",1,Math.floor(r.intervalTime/1e3)),Object(a.setCookie)("full-startTime",e,Math.floor(r.intervalTime/1e3)))})),r.cna="",r.intervalTime=0,r.state={isShowAll:!0,isShowFrist:!1,isActivity:!1,iframeSrc:"",isLogin:!1,isReserve:!1},r.toastTxt="",r.subscribe=!1,r.timer,r.loginStatus=!1,r}return Oi(n,[{key:"componentDidMount",value:function(){var e,t,n,r,o,a;this.setState({isShowFrist:!0}),this.autoClose(),this.userRecord();var i=null==this||null===(e=this.props)||void 0===e||null===(t=e.fullScreenData)||void 0===t?void 0:t.taskId,c=(null==this||null===(n=this.props)||void 0===n||null===(r=n.fullScreenData)||void 0===r?void 0:r.trackInfo)||{};"appointment"===this.props.fullScreenData.scmType&&null!=this&&null!==(o=this.props)&&void 0!==o&&null!==(a=o.fullScreenData)&&void 0!==a&&a.show&&(c=bi(bi({},c),{},{showId:this.props.fullScreenData.show})),ot(i,"full_screen","EXP","",JSON.stringify(c)),console.info({alarm_type:"full-screen-pop",alarm_code:8206,client_msg:{message:"full-screen-pop"}})}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.loginInstance&&!this.subscribe||!this.props.loginInstance||this.props.loginInstance.eventbusLogin.subscribe((function(e){var n,r,o,a,i;t.setState({isLogin:null==e?void 0:e._isLoginStatus}),null!=e&&null!==(n=e._userInfo)&&void 0!==n&&n.loginStatus&&("0"===(null==t||null===(r=t.props)||void 0===r||null===(o=r.fullScreenData)||void 0===o?void 0:o.user_identity)&&(t.setState({isShowAll:!1}),clearTimeout(t.timer)),t.loginStatus&&"appointment"===(null==t||null===(a=t.props)||void 0===a||null===(i=a.fullScreenData)||void 0===i?void 0:i.scmType)&&(t.rerserver(),clearTimeout(t.timer)))})),this.subscribe=!0}},{key:"topFloating",value:function(e){if(e&&e.exposure_switch){var t=(new Date).getTime();this.IntervalTime(t)}clearTimeout(this.timer);var n=(null==e?void 0:e.trackInfo)||{};"appointment"===e.scmType&&null!=e&&e.show&&(n=bi(bi({},n),{},{showId:e.show})),ot(e.taskId,"full_screen","CLK","",JSON.stringify(n))}},{key:"render",value:function(){var e,t=this,n=this.props.fullScreenData,r=void 0===n?{}:n,a=this.state,i=a.isActivity,c=a.iframeSrc;return o.a.createElement(o.a.Fragment,null,i&&o.a.createElement(Ma,{iframeSrc:c,spmD:r.taskId}),this.state.isShowAll&&this.state.isShowFrist&&o.a.createElement("div",{className:"full_wrap"},o.a.createElement("div",{className:"full_box","data-spm":r.taskId},"url"===(null==r?void 0:r.scmType)&&o.a.createElement("a",{"data-spm":"d_full_screen",href:r.actionUrl,target:"_blank",onClick:function(){t.setState({isShowAll:!1}),t.topFloating(r)},rel:"noreferrer"},o.a.createElement("img",{src:null==r?void 0:r.imgUrl})),"cashier"===(null==r?void 0:r.scmType)&&o.a.createElement("a",{className:"youku_vip_pay_btn","data-tag":null==r||null===(e=r.trackInfo)||void 0===e?void 0:e.benefit_id,href:"javascript:void(:;)",onClick:function(){t.setState({isShowAll:!1}),t.topFloating(r)}},o.a.createElement("img",{src:null==r?void 0:r.imgUrl})),"login"===(null==r?void 0:r.scmType)&&o.a.createElement("a",{"data-spm":"d_full_screen",href:"javascript:void(:;)"},o.a.createElement("img",{src:r&&r.imgUrl,onClick:function(){t.props.loginInstance.login(),t.setState({isShowAll:!1}),t.topFloating(r)}})),"activity"===(null==r?void 0:r.scmType)&&o.a.createElement("a",{"data-spm":"d_full_screen",href:"javascript:void(:;)"},o.a.createElement("img",{src:r&&r.imgUrl,onClick:function(){t.topFloating(r),t.setState({isActivity:!0,isShowAll:!1,iframeSrc:r&&r.activityUrl})}})),"appointment"===(null==r?void 0:r.scmType)&&o.a.createElement("a",{"data-spm":"d_full_screen",onClick:function(){var e,n;t.state.isLogin?t.rerserver():(t.loginStatus=!0,window.isReLoad&&(window._loginStatus=!0),null===(e=t.props)||void 0===e||null===(n=e.loginInstance)||void 0===n||n.login(),clearTimeout(t.timer)),t.topFloating(r)},rel:"noreferrer"},o.a.createElement("img",{src:r&&r.imgUrl})),o.a.createElement("img",{className:"full_close",src:"//img.alicdn.com/tfs/TB1lPFxh4D1gK0jSZFyXXciOVXa-12-12.svg",onClick:this.closeClick}))),this.state.isReserve&&o.a.createElement(yi,{content:this.toastTxt}))}}]),n}(r.Component);function Hi(e){return(Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mi(Object(n),!0).forEach((function(t){$i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ki(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qi(r.key),r)}}function Gi(e,t,n){return t&&Ki(e.prototype,t),n&&Ki(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wi(e,t)}function Wi(e,t){return(Wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Xi(e){var t=zi();return function(){var n,r=Yi(e);if(t){var o=Yi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qi(this,n)}}function qi(e,t){if(t&&("object"===Hi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ji(e)}function Ji(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zi(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Yi(e){return(Yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $i(e,t,n){return(t=Qi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qi(e){var t=Zi(e,"string");return"symbol"===Hi(t)?t:String(t)}function Zi(e,t){if("object"!==Hi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Hi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}n(37);var ec=function(e){Vi(n,e);var t=Xi(n);function n(e){var r;return Fi(this,n),$i(Ji(r=t.call(this,e)),"userRecord",(function(e){if(e&&e.exposure_switch){e.timesCompany&&"hour"===e.timesCompany&&e.timesLength?r.intervalTime=60*e.timesLength*60*1e3:e.timesCompany&&"day"===e.timesCompany&&e.timesLength&&(r.intervalTime=24*e.timesLength*60*60*1e3);var t=Number(Object(a.getCookie)("pic-index"));if(!t)return;var n=Number(Object(a.getCookie)("pic-startTime")),o=r.intervalTime+n,i=(new Date).getTime();if(i>=o)Object(a.setCookie)("pic-index",1,Math.floor(r.intervalTime/1e3)),Object(a.setCookie)("pic-startTime",i,Math.floor(r.intervalTime/1e3));else{var c=r.intervalTime-((new Date).getTime()-n);t<=Number(e.times-1)?Object(a.setCookie)("pic-index",t+1,Math.floor(c/1e3)):r.setState({isShowAll:!1})}}})),$i(Ji(r),"IntervalTime",(function(e){Object(a.getCookie)("pic-index")||(Object(a.setCookie)("pic-index",1,Math.floor(r.intervalTime/1e3)),Object(a.setCookie)("pic-startTime",e,Math.floor(r.intervalTime/1e3)))})),$i(Ji(r),"autoClose",(function(e){e&&e.pic_time&&0!==e.pic_time&&(r.timer=setTimeout((function(){var t=(new Date).getTime();e&&e.exposure_switch&&r.IntervalTime(t),r.setState({isShowAll:!1}),ot(e&&e.taskId,"trumpet_close","CLK")}),1e3*e.pic_time))})),r.state={isShowAll:!0,picInPicData:{}},r.timer,r}return Gi(n,[{key:"componentDidMount",value:function(){var e=this.props.picInPicData,t={};e&&(t=Ui(Ui({},e),{},{liveUrl:e.liveUrl,jumpUrl:e.actionUrl,gray:e.gray,endTime:e.endTime,startTime:e.startTime,title:e.title,autoDisable:e.autoDisable,liveUUID:e.liveUUID,iframeStyle:{height:e.iframeHeight,width:e.iframeWidth,marginTop:e.iframeMarginTop},bgStyle:{height:e.bgHeight,width:e.bgWidth,bottom:e.bgBottom,left:e.bgRight,backgroundImage:e.imgUrl,boxShadow:e.boxShadow},closeBtStyle:{right:e.closeRight,top:e.closeTop},flagExpiresTime:e.flagExpiresTime,markText:e.markText,markBgColor:e.markBgColor,isCloseLive:e.isCloseLive,isShowOnceTime:e.isShowOnceTime,taskId:e.taskId,UUID:e.UUID})),t&&this.setState({picInPicData:t}),this.autoClose(t),this.userRecord(t),ot(t&&t.taskId,"trumpet","EXP")}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.loginInstance&&!this.subscribe||!this.props.loginInstance||this.props.loginInstance.eventbusLogin.subscribe((function(e){e&&e._userInfo&&e._userInfo.loginStatus&&t.state.picInPicData&&"0"===t.state.picInPicData.user_identity&&(t.setState({isShowAll:!1}),clearTimeout(t.timer))})),this.subscribe=!0}},{key:"jumpToTargetUrl",value:function(){var e=this.state.picInPicData,t=e.jumpUrl,n=e.isCloseLive,r=e.taskId;window.open("about:blank").location.href=t,ot(!!r&&r,"trumpet","CLK"),n&&this.closeLiveWindow()}},{key:"closeLiveWindow",value:function(){var e=(new Date).getTime();this.state.picInPicData&&this.state.picInPicData.exposure_switch&&this.IntervalTime(e),this.setState({isShowAll:!1}),ot(this.state.picInPicData&&this.state.picInPicData.taskId,"trumpet_close","CLK"),clearTimeout(this.timer)}},{key:"render",value:function(){var e=this,t=this.state.picInPicData,n=t.bgStyle,r=t.closeBtStyle,a=t.title,i=t.iframeStyle,c=t.markBgColor,l=t.markText,u=t.liveUrl,s=(t.taskId,{});return n&&(s=Ui(Ui({},n),{},{backgroundImage:"url(".concat(n.backgroundImage,")"),boxShadow:"0px 15px 10px -15px ".concat(n.boxShadow||"#FD0054"),backgroundSize:"".concat(n.width," ").concat(n.height)})),this.state.isShowAll&&this.state.picInPicData&&this.props.picInPicData&&o.a.createElement("div",{className:"live-bg",style:this.props.picInPicData.silence_switch?Ui({},{width:"1px",height:"1px",bottom:"0",left:"0",backgroundColor:"transparent"}):s&&Ui({},s)},o.a.createElement("a",{href:"javascript:void:;",className:"close-bt-wrap",style:r&&Ui({},r)},o.a.createElement("img",{src:"//img.alicdn.com/tfs/TB1wCeQgYr1gK0jSZR0XXbP8XXa-36-36.png",onClick:function(){return e.closeLiveWindow()}})),o.a.createElement("div",{className:"live-wrap",style:i&&Ui({},i)},o.a.createElement("a",{draggable:!1,className:"title",href:"javascript:void(0)",onMouseUp:function(){return e.jumpToTargetUrl()}},a),o.a.createElement("iframe",{src:u,width:i&&i.width,height:i&&i.height,frameBorder:0}),o.a.createElement("a",{draggable:!1,className:"shade",style:{width:i&&i.width,height:i&&i.height},target:"_blank",onMouseUp:function(){return e.jumpToTargetUrl()}},o.a.createElement("div",{className:"mark",style:{backgroundColor:c||"#FC4273"}},l||"\u76f4\u64ad"))))}}]),n}(r.Component);function tc(e,t){return ic(e)||ac(e,t)||rc(e,t)||nc()}function nc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rc(e,t){if(e){if("string"==typeof e)return oc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oc(e,t):void 0}}function oc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ac(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function ic(e){if(Array.isArray(e))return e}var cc=function(e){var t=tc(Object(r.useState)(null),2),n=t[0],a=t[1],i=tc(Object(r.useState)(null),2),c=i[0],l=i[1],u=tc(Object(r.useState)(null),2),s=u[0],p=u[1],f=tc(Object(r.useState)(e.userInfo),2),h=f[0],d=f[1],m=tc(Object(r.useState)(e.rid),2),v=m[0],y=m[1],g=tc(Object(r.useState)(null),2),_=g[0],b=g[1];Object(r.useEffect)((function(){e.angleData&&Object.keys(e.angleData).length>0&&(w(e.angleData),d(e.userInfo),y(e.rid))}),[e.angleData]),Object(r.useEffect)((function(){window.yklogininstance&&b(window.yklogininstance)}),[]);var w=function(e){if(!(e&&Object.keys(e).length>0))return null;var t=null,n=null,r=null;Object.keys(e).forEach((function(o){"angle"===o&&(t=e[o]),"fullScreen"===o&&(n=e[o]),"picInPic"===o&&(r=e[o])})),a(t),l(n),p(r)};return o.a.createElement("div",null,(null==n?void 0:n.length)>0&&function(e){if(Array.isArray(e)&&e.length>0)return o.a.createElement(o.a.Fragment,null,e.map((function(e,t){if(ge(e,h,v))return o.a.createElement(ei,{key:t,angleData:e,loginInstance:_,isLogin:h.loginStatus})})))}(n),(null==c?void 0:c.length)>0&&function(t){if(Array.isArray(t)&&t.length>0)return o.a.createElement(o.a.Fragment,null,t.map((function(t,n){if(ge(t,h,v))return o.a.createElement(Bi,{key:n,fullScreenData:t,loginInstance:_,isLogin:h.loginStatus,UOSMode:e.UOSMode})})))}(c),(null==s?void 0:s.length)>0&&function(e){if(Array.isArray(e)&&e.length>0)return o.a.createElement(o.a.Fragment,null,e.map((function(e,t){if(ge(e,h,v))return o.a.createElement(ec,{key:t,picInPicData:e,loginInstance:_,isLogin:h.loginStatus})})))}(s))},lc=cc,uc=(n(38),n(39),n(32)),sc=n.n(uc);function pc(e){return(pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fc(){fc=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),c=new S(o||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function f(){}function h(){}function d(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(O([])));y&&y!==t&&n.call(y,a)&&(m=y);var g=d.prototype=f.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var o;r(this,"_invoke",{value:function(r,a){function i(){return new t((function(o,i){!function r(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==pc(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(p).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function w(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=s(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},_(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(g),l(g,c,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function hc(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function dc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){hc(a,r,o,i,c,"next",e)}function c(e){hc(a,r,o,i,c,"throw",e)}i(void 0)}))}}function mc(e,t){return bc(e)||_c(e,t)||yc(e,t)||vc()}function vc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yc(e,t){if(e){if("string"==typeof e)return gc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gc(e,t):void 0}}function gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _c(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function bc(e){if(Array.isArray(e))return e}var wc=function(e){var t,n,i,c,l,u,s=mc(Object(r.useState)(null),2),p=s[0],f=s[1],h=mc(Object(r.useState)({}),2),d=h[0],m=h[1],v=mc(Object(r.useState)({}),2),y=v[0],g=v[1],_=mc(Object(r.useState)({}),2),b=_[0],w=_[1],k=mc(Object(r.useState)({}),2),S=k[0],O=k[1],j=mc(Object(r.useState)(!1),2),L=j[0],N=j[1],I=mc(Object(r.useState)({}),2),T=I[0],C=I[1],P=Se((function(e){return e.setIsI18n})),A=mc(Object(r.useState)(!1),2),D=A[0],R=A[1],B=mc(Object(r.useState)([]),2),H=B[0],M=B[1],U=mc(Object(r.useState)(e.pathName),2),F=U[0],K=U[1],G=e.festivalConfig&&e.festivalConfig.scmAB||"",V=e.festivalConfig&&e.festivalConfig.adConfig&&e.festivalConfig.adConfig.adpid,W=G&&"".concat(G,".topAd.content_").concat(V)||"",X=function(){var e="1",t=navigator.userAgent.toLowerCase();return t.match("youkudesktop")&&(e="2",t.match("mac")&&t.match("channel appstore")&&(e="32")),e},q=function(){var t=dc(fc().mark((function t(){var n,r,o,i,c,l;return fc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=Object(a.getCookie)("cna"),i={touch_point_code:null!=e&&null!==(n=e.i18n)&&void 0!==n&&n.isI18n?"PC_youkuoverseas_navigation_avatar":"nucenter_page_pc",device_id:X(),cna:o},null!=e&&null!==(r=e.i18n)&&void 0!==r&&r.isI18n&&(i.ext_map=JSON.stringify({language:(null==e||null===(c=e.i18n)||void 0===c?void 0:c.languageForRequest)||"EN",apptype:"youku_intl"})),t.next=5,ee(i);case 5:return(l=t.sent)&&g(l||{}),t.abrupt("return",l);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),J=function(){var t=dc(fc().mark((function t(){var n,r,o,i,c,l;return fc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=Object(a.getCookie)("cna"),i={touch_point_code:null!=e&&null!==(n=e.i18n)&&void 0!==n&&n.isI18n?"PC_youkuoverseas_navigation_vipicon":"pc_home_vipicon",device_id:X(),cna:o},null!=e&&null!==(r=e.i18n)&&void 0!==r&&r.isI18n&&(i.ext_map=JSON.stringify({language:(null==e||null===(c=e.i18n)||void 0===c?void 0:c.languageForRequest)||"EN",apptype:"youku_intl"})),t.next=5,ee(i);case 5:return(l=t.sent)&&w(l||{}),t.abrupt("return",l);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),z=function(){var e=dc(fc().mark((function e(){var t;return fc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne();case 2:t=e.sent,O(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var t,n,r,o,a,i,c=new x(null==e||null===(t=e.i18n)||void 0===t?void 0:t.isI18n);f(c),window.yklogininstance=c,e.getLoginInstance&&e.getLoginInstance(c),c&&c.eventbusLogin.subscribe((function(e){e.userInfo&&(C(e.userInfo),e.isLoginStatus&&!D&&(q(),J(),R(!0)))})),(null==e||null===(n=e.i18n)||void 0===n||!n.isI18n)&&z(),q(),J(),o=(r=document.querySelector('meta[name="data-spm"]'))&&String(r.getAttribute("content"))||"",i=(a=document.querySelector("body"))&&String(a.getAttribute("data-spm"))||"",m({spmA:o,spmB:i}),window.isPayJSLoad||E("//g.alicdn.com/youkuvip_fe/vip-public-assets/pay/pay.js"),V&&ot("topAd","ad_".concat(V),"EXP",W)}),[]),Object(r.useEffect)((function(){var t;e.pathName!==F&&((null==e||null===(t=e.i18n)||void 0===t||!t.isI18n)&&z(),K(e.pathName))}),[e.pathName]),Object(r.useEffect)((function(){dc(fc().mark((function t(){var n,r,o,a;return fc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.showTopHeaderNav){t.next=17;break}if(r=[],null==e||null===(n=e.i18n)||void 0===n||!n.isI18n){t.next=13;break}if(null==e||!e.navList){t.next=7;break}t.t0=e.navList,t.next=10;break;case 7:return t.next=9,oe((null==e||null===(o=e.i18n)||void 0===o?void 0:o.mtopBizKey)||(null==e?void 0:e.bizKey)||"i18n_WEB_EN",e.channelId||"",(null==e||null===(a=e.i18n)||void 0===a?void 0:a.languageForRequest)||"");case 9:t.t0=t.sent;case 10:r=t.t0,t.next=16;break;case 13:return t.next=15,oe();case 15:r=t.sent;case 16:r&&M(r||[]);case 17:case"end":return t.stop()}}),t)})))()}),[e.showTopHeaderNav]),Object(r.useEffect)((function(){if(Array.isArray(S.topRed)&&S.topRed.length>0){var t=ge(S.topRed[0],T,e.rid);if(t){var n=document.querySelector(".app_normal");n&&(n.style.marginTop="".concat(70,"px")),e.UOSMode&&(document.querySelector("#root").className="iku_red")}N(t)}}),[S]),Object(r.useEffect)((function(){var t;P(null==e||null===(t=e.i18n)||void 0===t?void 0:t.isI18n)}),[]),o.a.createElement("div",null,!(null!=e&&null!==(t=e.i18n)&&void 0!==t&&t.isI18n)&&(u=e.festivalConfig,o.a.createElement(o.a.Fragment,null,u&&u.adConfig&&u.adConfig.adpid&&o.a.createElement("div",{className:sc.a.adWrap,style:u.adConfig.style,"data-adpid":u.adConfig.adpid,"data-adext":u.adConfig.adext,onClick:function(){ot("topAd","ad_".concat(V),"CLK",W)}}))),o.a.createElement(ha,{logininstance:p,angleData:S,isShowRed:L,theme:e.theme,platform:e.platform,isMas:e.isMas,macFullScreen:e.macFullScreen,scrollClass:e.scrollClass,spmAB:d,vipData:y,vipNewData:b,isVipPage:e.isVipPage,showTopHeaderNav:e.showTopHeaderNav,searchShort:e.searchShort,loginGuideAllow:e.loginGuideAllow,topChannelList:H,oldStyle:e.oldStyle,festivalConfig:e.festivalConfig,isI18n:null==e||null===(n=e.i18n)||void 0===n?void 0:n.isI18n,languageForRequest:null==e||null===(i=e.i18n)||void 0===i?void 0:i.languageForRequest,i18nHeader:(null==e||null===(c=e.i18n)||void 0===c||null===(l=c.data)||void 0===l?void 0:l.pcData)||{},handleChannelClick:e.handleChannelClick,current:e.current,UOSMode:e.UOSMode,channelType:null==e?void 0:e.channelType,showLanguage:null==e?void 0:e.showLanguage}),!e.hideLeftHeader&&o.a.createElement(Ea,{logininstance:p,theme:e.theme,spmAB:d,navList:e.navList,filterUrl:e.filterUrl,current:e.current,setCurrent:e.handleSetCurrent,disableNodeKeys:e.disableNodeKeys,isShowRed:L,handleChannelClick:e.handleChannelClick,isVipPage:e.isVipPage,UOSMode:e.UOSMode}),S&&Object.keys(S).length>0&&o.a.createElement(lc,{angleData:S,userInfo:T,rid:e.rid,UOSMode:e.UOSMode}))};wc.defaultProps={showLanguage:!0},t.default=wc}])}}]);