"undefined"==typeof window.Mozilla.Analytics&&(window.Mozilla.Analytics={}),function(){"use strict";var e=Mozilla.Analytics,t="querySelector"in document&&"querySelectorAll"in document;e.pageHasDownload=function(){return t&&null!==document.querySelector("[data-download-os]")?"true":"false"},e.pageHasVideo=function(){return!t||null===document.querySelector("video")&&null===document.querySelector('iframe[src^="https://www.youtube"]')?"false":"true"},e.getPageVersion=function(e){var t=e||document.location.pathname,a=/firefox\/(\d+(?:\.\d+)?\.\da?\d?)/.exec(t);return a?a[1]:null},e.getLatestFxVersion=function(){return document.getElementsByTagName("html")[0].getAttribute("data-latest-firefox")},e.getAMOExperiment=function(e){if(Object.prototype.hasOwnProperty.call(e,"experiment")&&Object.prototype.hasOwnProperty.call(e,"variation")){var t=decodeURIComponent(e.experiment),a=decodeURIComponent(e.variation);if(/^\d{8}_amo_.[\w/.%-]{1,50}$/.test(t)&&/^[\w/.%-]{1,50}$/.test(a))return{experiment:t,variation:a}}return null},e.updateDataLayerPush=function(e){var t=window.dataLayer=window.dataLayer||[],a=e||document.location.hostname;t.defaultPush=t.push,t.push=function(){for(var e=0;e<arguments.length;e++)if("gtm.linkClick"===arguments[e].event){var n=arguments[e]["gtm.element"],o=n.href;if(n.hostname===a){var i=o.replace(/^(?:https?:\/\/)(?:[^/])*/,""),r=i.match(/^(\/\w{2}-\w{2}\/|\/\w{2,3}\/)/);i=r?i.replace(r[0],"/"):i,arguments[e].newClickHref=i}else arguments[e].newClickHref=o;t.defaultPush(arguments[e])}else t.defaultPush(arguments[e])}}}(),function(){"use strict";var e=Mozilla.Analytics,t=Mozilla.Client,a=window.dataLayer=window.dataLayer||[];function n(){var t={event:"core-datalayer-loaded",pageHasDownload:e.pageHasDownload(),pageHasVideo:e.pageHasVideo(),pageVersion:e.getPageVersion(),releaseWindowVersion:e.getLatestFxVersion()};a.push(t)}"undefined"!=typeof Mozilla.Utils&&Mozilla.Utils.onDocumentReady((function(){if(t.isFirefoxDesktop||t.isFirefoxAndroid?t.getFirefoxDetails((function(e){a.push(e),n()})):n(),e.updateDataLayerPush(),"undefined"!=typeof window._SearchParams){var o=(new window._SearchParams).params,i=e.getAMOExperiment(o);i&&a.push({"data-ex-name":i.experiment,"data-ex-variant":i.variation})}}))}();