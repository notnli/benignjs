var loginFnc={msgEmail:"your e-mail",msgEmptyFirstName:"You did not enter your first name",msgEmptyLastName:"You did not enter your last name",msgEmptyEmail:"You did not enter your e-mail address",msgEmptyPassword:"You did not enter your password",msgEmptyPassword2:"You did not confirm your password",msgPasswordsDontMatch:"Your passwords didn't match. Try retyping them.",msgIncorrectEmail:"Your e-mail address is incorrect.",msgTryAgain:"Please try again.",msgOpenIdAccount:"your OpenID account",su:"",doSignUp:function(d,h,b,c,g){this.refCustomCallback=b;var j=$("form[name=signUpBoxForm] input[name=resetDirView]").val();var e={doNotRedirect:c!=undefined?c:1,fpRedirParam:d,successUrl:this.su,resetDirView:j};if(typeof friend!="undefined"&&typeof friend.friendId!="undefined"&&friend.friendId!=null){e["friendId"]=friend.friendId;e["friendName"]=friend.friendName}var a=$("#sign_form").length==0?$("form[name=signUpBoxForm]"):$("#sign_form");var i;for(i in e){if(e.hasOwnProperty(i)){var f=$("<input />",{type:"hidden",value:e[i],name:i,id:i});f.appendTo(a)}}$("body").css("cursor","progress");if($("form[name=signUpBoxForm] input:radio:checked").val()!="1"){PurchaseStats.registerClick(g)}if(a!=null){a.submit()}return true},checkEmail:function(a){var b=new RegExp("^[0-9_&a-zA-Z](?:\\w|\\.|'|-)*@[\\d\\w]+(?:-?(?:\\w+|\\d+)|(?:\\.[0-9a-zA-Z]+))+$");return b.test(a)},checkEmailEx:function(a){return/^[-\w.]+@([^\W-]+[-\w]*\.)+[A-z]{2,6}$/.test(a)},trim:function(a){return ltrim(rtrim(a))},signOut:function(a,b,c){$("body").css("cursor","progress");a=a||"/";$.get(a+"login?callback=?",{signout:1},function(){$("body").css("cursor","auto");$.isFunction(b)?b():window.location=(c!=undefined?c:a)},"jsonp");return false},getLocation:function(){var a=location.toString();if(a.indexOf("?")>-1){if(a.indexOf("acceptInvite")==-1){return a.substring(0,a.indexOf("?"))}}return a}};