/*! permutive-javascript-sdk v19.91.0 (web) (built 2023-06-12T13:06:42.868Z) */(()=>{"use strict";var __webpack_modules__={2688:(e,t,r)=>{function n(e){return e instanceof Error?e:new Error("string"==typeof e?e:JSON.stringify(e))}r.d(t,{w:()=>n})},787:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(3735),i=r(6567);function a(e){return(0,n.zG)((0,i.Y3)((()=>JSON.parse(e))),(0,i.fS)(n.gn))}},7183:(e,t,r)=>{r.d(t,{h:()=>n});const n=e=>new i(e);class i{constructor(e){const t=this;this._worker=e,this._callbacks={},this._id=0,e.addEventListener("message",(function(e){i.onMessage(t,e)}))}set id(e){this._id=e}get id(){return this._id}newId(){const e=this.id;return this.id=this.id+1,e}static onMessage(e,t){if(r=t.data,!(Array.isArray(r)&&r.length>=2))return;var r;const[n,i,a]=t.data,s=e._callbacks[n];s&&(delete e._callbacks[n],s(i,a))}static isServiceWorker(e){return void 0!==e.controller}postMessage(e){const t=this,r=this.newId(),n=[r,e];return new Promise((function(e,a){var s;if(t._callbacks[r]=function(t,r){if(t)return a(new Error(t.message));e(r)},i.isServiceWorker(t._worker)){const e=new MessageChannel;e.port1.onmessage=function(e){i.onMessage(t,e)},null===(s=t._worker.controller)||void 0===s||s.postMessage(n,[e.port2])}else t._worker.postMessage(n)}))}}},1493:(e,t,r)=>{r.d(t,{M:()=>s});var n=r(655);function i(e,t){var r;if(0===t.length)return[e];const i=t.map((e=>e.properties)).map((e=>{var{client:t}=e;return(0,n._T)(e,["client"])}));return[Object.assign(Object.assign({},e),{properties:Object.assign(Object.assign({},e.properties),{aggregations:Object.assign(Object.assign({},null===(r=e.properties)||void 0===r?void 0:r.aggregations),{SlotViewable:i})})})]}const a=e=>t=>Object.entries(function(e){const t=JSON.stringify(e);return{utf8:(new TextEncoder).encode(t).length,utf16:2*t.length}}(t)).map((r=>{let[n,i]=r;return{name:"sdk_cost_analysis_event_size",value:i,labels:Object.assign(Object.assign({},e),{character_encoding:n,event_name:t.name})}}));function s(e){var t;e.permutiveData.getData("metricsEnabled")&&function(e){const{messages:t,reportEventCosts:r}=e,n=r("slotviewable_aggregation");let a=[];t.on("permutive:event:requestData",(e=>{switch(e.name){case"Pageview":a=[],n({no_aggregation:[e],scenario1:[e]});break;case"SlotViewable":{const t=JSON.parse(JSON.stringify(e));a.push(t);break}case"PageviewComplete":n({no_aggregation:[...a,e],scenario1:i(e,a)}),a=[]}}))}({messages:e.messages,reportEventCosts:(t={metrics:e.metrics},e=>r=>{Object.entries(r).flatMap((t=>{let[r,n]=t;return n.flatMap(a({cost_analysis:e,scenario:r}))})).forEach((e=>t.metrics.track(e)))})})}},9557:(e,t,r)=>{r.r(t),r.d(t,{SspAddon:()=>p,load:()=>h,realService:()=>f,sspService:()=>d,stubService:()=>l});var n=r(6054),i=r(9853),a=r(3735),s=r(3328),o=r(2116),c=r(4011),u=r(2652);const d=f;function l(e,t){return o.K4((()=>(e.removeExternalData(m),n.a9({cohorts:[],ssps:[],gamTargetingValues:[]}))))}function f(e,t){const r=(0,i.Hn)(g),d=r("ssps",[]),l=r("cohort_mapping",{}),f=d.includes("google_pps"),h={cohorts:[],ssps:[]};return(0,a.zG)(n.vP({consent:t.consent,addonsLoaded:t.addonsLoaded,addonInitd:n.UI((e=>e.has(g)),t.initdAddons)}),o.KD([[e=>{let{consent:t,addonsLoaded:r,addonInitd:n}=e;return!t||r&&!n},o.K4((()=>(e.removeExternalData(m),n.a9(h))))],[e=>{let{addonsLoaded:t,addonInitd:r}=e;return!t&&!r},o.K4((()=>n.a9(Object.assign(Object.assign({},h),e.getExternalJsonData(m)))))],o.K4((r=>{let{onServiceStop:i}=r;return(0,a.zG)(t.standardCohorts,n.UI(s.hX((e=>e in l))),n.D8(s.Eh(c.Eq)),n.UI((0,a.ls)(s.UI((e=>l[e])),(e=>({ssps:d,cohorts:e})))),(0,u.bw)((0,a.ls)(n.YP((t=>e.setExternalJsonData(m,t))),(e=>i(e)))))}))]),o.UI(n.xH),o.UI(n.UI((e=>Object.assign(Object.assign({},e),{gamTargetingValues:f?e.cohorts:[]})))))}const g="ssp",h=e=>{({standard_cohorts:{auto_init:!0,activationConfigs:[]},rubicon_ssp:{auto_init:!0,publisher_id:"15366",activationConfigs:[]},classification_models:{auto_init:!0,activationConfigs:[]},dfp:{auto_init:!0,networks:[{network_code:"99071977",name:"UE GAM"}],track_slot_rendered:!1,track_slot_viewable:!0,track_slot_clicked:!0,activationConfigs:[]},ssp:{auto_init:!0,ssps:["appnexus"],cohort_mapping:{1e7:"bgyz",10000001:"bhgp",10000002:"bhhc",10000003:"bhhg",10000004:"bhhk",10000005:"bhhp",10000006:"bhhv",10000007:"bhhy",10000008:"bhie",10000010:"bhis",10000011:"bhiz",10000012:"bhji",10000013:"bhjq",10000014:"bhka",10000015:"bhkl",10000016:"bhkr",10000017:"bhky",10000018:"bhlg",10000019:"bhli",10000020:"bhlo",10000021:"bhlp",10000022:"bhnd",10000023:"bhnl",10000024:"bhnp",10000025:"bhnw",10000026:"bhoj",10000035:"bgzb",10000036:"bhgq",10000037:"bhgs",10000038:"bhgw",10000039:"bhgy",10000040:"bhgz",10000041:"bhhe",10000042:"bhhh",10000043:"bhhw",10000044:"bhhx",10000045:"bhhz",10000046:"bhia",10000047:"bhif",10000048:"bhig",10000049:"bhii",10000050:"bhij",10000051:"bhik",10000052:"bhim",10000053:"bhip",10000054:"bhit",10000055:"bhiu",10000056:"bhiv",10000057:"bhiy",10000058:"bhjm",10000059:"bhjr",10000060:"bhjs",10000061:"bhjw",10000062:"bhjx",10000063:"bhkm",10000064:"bhir",10000065:"bhko",10000066:"bhkp",10000067:"bhkq",10000068:"bhkz",10000069:"bhla",10000070:"bhlb",10000071:"bhle",10000072:"bhlf",10000073:"bhlq",10000074:"bhlt",10000075:"bhlu",10000076:"bhlw",10000077:"bhlx",10000078:"bhly",10000079:"bhmb",10000080:"bhmi",10000081:"bhmj",10000082:"bhml",10000083:"bhmp",10000084:"bhmr",10000085:"bhmw",10000086:"bhmz",10000087:"bhne",10000088:"bhnf",10000089:"bhni",10000090:"bhnn",10000324:"bhhj",10000325:"bhhi",10000327:"bhku",10000328:"bhkt",10000329:"bhkw",10000330:"bhkv",10000687:"bgzc",10000688:"bgza",10000689:"bhha",10000690:"bhgt",10000691:"bhgx",10000692:"bhgv",10000693:"bhgr",10000694:"bhgu",10000695:"bhhb",10000696:"bhhd",10000697:"bhhf",10000698:"bhhl",10000699:"bhho",10000700:"bhhm",10000701:"bhhn",10000702:"bhhq",10000703:"bhht",10000704:"bhhu",10000705:"bhhs",10000706:"bhhr",10000707:"bhib",10000708:"bhid",10000709:"bhic",10000710:"bhio",10000711:"bhin",10000712:"bhil",10000713:"bhiq",10000714:"bhih",10000715:"bhiw",10000716:"bhix",10000717:"bhja",10000718:"bhjc",10000719:"bhjd",10000720:"bhje",10000721:"bhjf",10000722:"bhjb",10000723:"bhjg",10000724:"bhjh",10000725:"bhjo",10000726:"bhjk",10000727:"bhjn",10000728:"bhjj",10000729:"bhjl",10000730:"bhjy",10000731:"bhju",10000732:"bhjv",10000733:"bhjz",10000734:"bhjt",10000735:"bhkj",10000736:"bhkk",10000737:"bhki",10000738:"bhkd",10000739:"bhkc",10000740:"bhkf",10000741:"bhkh",10000742:"bhkb",10000743:"bhkg",10000744:"bhke",10000745:"bhjp",10000746:"bhkn",10000747:"bhkx",10000748:"bhks",10000749:"bhld",10000750:"bhlc",10000751:"bhlh",10000752:"bhlk",10000753:"bhlj",10000754:"bhll",10000755:"bhlm",10000756:"bhlv",10000757:"bhna",10000758:"bhmv",10000759:"bhmt",10000760:"bhmy",10000761:"bhmc",10000762:"bhmo",10000763:"bhls",10000764:"bhmq",10000765:"bhme",10000766:"bhmh",10000767:"bhlz",10000768:"bhlr",10000769:"bhnb",10000770:"bhmk",10000771:"bhmu",10000772:"bhmx",10000773:"bhmg",10000774:"bhmd",10000775:"bhmf",10000776:"bhnc",10000777:"bhmn",10000778:"bhmm",10000779:"bhma",10000780:"bhms",10000781:"bhng",10000782:"bhnj",10000783:"bhnh",10000784:"bhnk",10000785:"bhno",10000786:"bhnm",10000787:"bhnu",10000788:"bhnv",10000789:"bhns",10000790:"bhnt",10000791:"bhnq",10000792:"bhnr",10000793:"bhob",10000794:"bhny",10000795:"bhod",10000796:"bhoh",10000797:"bhog",10000798:"bhnz",10000799:"bhoa",10000800:"bhoe",10000801:"bhnx",10000802:"bhoc",10000803:"bhof"},activationConfigs:[]},facebook_pixel_v2:{auto_init:!0,activationConfigs:[{id:"741acd11-ef5a-4afe-b0b8-5dbaed873a47",tt:"EveryTime",sc:94125,c:{},wc:{}},{id:"a3a3d74d-fd83-4952-bcd5-f20759437854",tt:"EveryTime",sc:94126,c:{},wc:{}},{id:"091895ba-12d1-4a3c-8bf5-60a1da6e0d15",tt:"EveryTime",sc:94127,c:{},wc:{}},{id:"7c4db52e-2802-4865-8dcb-5c87331414c7",tt:"EveryTime",sc:94128,c:{},wc:{}},{id:"66437013-6886-45a1-9c1e-964501d8298a",tt:"EveryTime",sc:94129,c:{},wc:{}},{id:"21c891cd-a08a-4ee7-95a4-44ffc94a7e9d",tt:"EveryTime",sc:65455,c:{},wc:{}},{id:"da17eccb-c31c-4d49-9cd7-e7978762b6a3",tt:"EveryTime",sc:65456,c:{},wc:{}},{id:"e09bad74-8074-4dc5-aea9-537765b74bab",tt:"EveryTime",sc:65457,c:{},wc:{}},{id:"cf7dc93c-ac86-4d33-8e0d-ed0f3d63d6e8",tt:"EveryTime",sc:64821,c:{},wc:{}},{id:"0fe79cce-205b-49d0-9a92-cce41bf1fee5",tt:"EveryTime",sc:98617,c:{},wc:{}},{id:"6b4c4222-ee70-472d-8ada-226f72b1912a",tt:"EveryTime",sc:71973,c:{},wc:{}},{id:"de5d4f9f-b3b5-46d7-ad76-0884722c8684",tt:"EveryTime",sc:65967,c:{},wc:{}},{id:"945e9276-2350-45d3-866e-3f97beed3cb6",tt:"EveryTime",sc:103274,c:{},wc:{}},{id:"28e38578-4e2b-40be-bb2e-1cb820b219dd",tt:"EveryTime",sc:101097,c:{},wc:{}},{id:"5fee62fe-b082-4c71-b82d-d6e45eea1088",tt:"EveryTime",sc:99323,c:{},wc:{}},{id:"ba2cf7b0-6100-47f8-b41f-39659cc177d4",tt:"EveryTime",sc:97851,c:{},wc:{}},{id:"b8199195-22a4-48c2-9ecc-a1aebb387e2e",tt:"EveryTime",sc:97849,c:{},wc:{}},{id:"6b1fed6e-6981-419e-9559-59974b0e6045",tt:"EveryTime",sc:97266,c:{},wc:{}},{id:"786b7481-0edd-4d8e-9457-6626a84da7f6",tt:"EveryTime",sc:97267,c:{},wc:{}},{id:"2163711a-952d-4557-8d7b-c4d1a82e936e",tt:"EveryTime",sc:72038,c:{},wc:{}},{id:"67261b29-d79a-4a3f-94c0-e98d70e63f35",tt:"EveryTime",sc:86061,c:{},wc:{}},{id:"f216f9d4-ad01-4bcf-b51e-6023b90c01f9",tt:"EveryTime",sc:86062,c:{},wc:{}},{id:"5f811ca3-63c2-459f-aa74-1a60722ae734",tt:"EveryTime",sc:85242,c:{},wc:{}},{id:"683985aa-73e7-4a76-9ed9-8690f90486b9",tt:"EveryTime",sc:72060,c:{},wc:{}},{id:"333cdbcc-61a0-47f5-a0db-d32953c6e7c3",tt:"EveryTime",sc:65965,c:{},wc:{}},{id:"7d7f59c6-dc3f-43a9-88f9-cce2a592b7bf",tt:"EveryTime",sc:89083,c:{},wc:{}},{id:"042030b7-9bb6-44ff-9ab0-1064b43cee89",tt:"EveryTime",sc:86063,c:{},wc:{}},{id:"22173417-ef70-40e5-9a75-c62826384e08",tt:"EveryTime",sc:89086,c:{},wc:{}},{id:"8c6a38c0-e59f-44fe-a600-5592cbcd1db2",tt:"EveryTime",sc:89077,c:{},wc:{}},{id:"e6d14ea7-0988-46e5-aba2-7ab747e7fdce",tt:"EveryTime",sc:65993,c:{},wc:{}},{id:"f479b8de-0adc-4e6c-996f-a156fef8b1db",tt:"EveryTime",sc:72039,c:{},wc:{}},{id:"0a051977-4abe-440d-a71d-7803ebe52e02",tt:"EveryTime",sc:71967,c:{},wc:{}},{id:"c6e5e965-4522-4e46-b780-68f3f70f92b5",tt:"EveryTime",sc:89082,c:{},wc:{}},{id:"9ee2603f-2519-426d-b276-83b2635dad56",tt:"EveryTime",sc:89081,c:{},wc:{}},{id:"511d8380-596f-48c2-b1f8-d6f780c5f31d",tt:"EveryTime",sc:89079,c:{},wc:{}},{id:"a32c60db-1e30-4590-aef1-74ac49b79abf",tt:"EveryTime",sc:72031,c:{},wc:{}},{id:"e115c140-3d2a-462f-908e-aea953e37142",tt:"EveryTime",sc:142968,c:{},wc:{}}]},tracking_pixel:{auto_init:!0,activationConfigs:[]},dbm:{auto_init:!0,entity_id:5949432,product_type:"INVITE_PARTNER",activationConfigs:[]},twitter_pixel:{auto_init:!0,activationConfigs:[]},web:{auto_init:!1,engagement_edge_only:!0,segment_transition_edge_only:!0,activationConfigs:[]},appnexus:{auto_init:!0,member_id:3967,activationConfigs:[]},appnexus_adserver:{auto_init:!0,member_id:290836,targeting_key_id:30791,contextual_targeting_key_id:31367,segment_name_prefix:"Permutive: ",segment_code_prefix:"permutive_",activationConfigs:[]},publishers:{auto_init:!1,add_alchemy_taxonomy:!0,add_alchemy_entities:!1,activationConfigs:[]}})[g].auto_init&&e.q.push({functionName:"addon",arguments:[g,{}]})};class p{constructor(e){}}const m="_pssps"},2116:(e,t,r)=>{r.d(t,{K4:()=>u,KD:()=>_,UI:()=>f,VS:()=>h,YO:()=>b,ak:()=>m,bw:()=>g,dQ:()=>d,of:()=>l,vP:()=>p});var n=r(655),i=r(6054),a=r(3735),s=r(2652),o=r(4923),c=r(6567);const u=e=>(0,a.ls)((t=>{var{previousState:r}=t,i=(0,n._T)(t,["previousState"]);return e(i)}),(e=>({value:e,state:i.a9(void 0)}))),d=a.yR,l=(0,a.ls)(a.a9,u),f=e=>t=>(0,a.ls)(t,(0,s.rO)({value:e})),g=e=>t=>(0,a.ls)(t,(0,s.rO)({value:(0,s.bw)(e)}));function h(e){return t=>r=>{var{previousState:a,onServiceStop:s}=r,o=(0,n._T)(r,["previousState","onServiceStop"]);const c=k(),u=t(Object.assign({previousState:Array.isArray(a)?a[0]:void 0,onServiceStop:c.onServiceStop},o)),d=k(),l=e(u.value)(Object.assign({previousState:Array.isArray(a)?a[1]:void 0,onServiceStop:d.onServiceStop},o));return s(c.stop),s(d.stop),{value:l.value,state:i.vP(u.state,l.state)}}}function p(e){return t=>{var{previousState:r}=t,s=(0,n._T)(t,["previousState"]);const c=w(r)?r:{},u=(0,a.zG)(e,o.Su(((e,t)=>t(Object.assign({previousState:c[e]},s)))));return{value:(0,a.zG)(u,o.UI((e=>e.value))),state:(0,a.zG)(u,o.UI((e=>e.state)),(e=>i.vP(e)))}}}function m(e,t){return r=>(0,a.ls)((0,s.rO)({previousState:y}),(s=>{var{onServiceStop:o}=s,c=(0,n._T)(s,["onServiceStop"]);const u=k(),d=r(Object.assign({onServiceStop:u.onServiceStop},c)),l=k(),f=t(d.value)(Object.assign(Object.assign({onServiceStop:l.onServiceStop},c),{previousState:c.previousState[e]}));return o(u.stop),o(l.stop),{value:(0,a.zG)([d.value,f.value],(t=>{let[r,n]=t;if(!w(r))throw new Error;return Object.assign(Object.assign({},r),{[e]:n})})),state:(0,a.zG)(i.vP(d.state,f.state),i.UI((t=>{let[r,n]=t;if(!w(r))throw new Error;return Object.assign(Object.assign({},r),{[e]:n})})))}}))}function b(e){return t=>(0,a.ls)((0,s.rO)({previousState:(0,a.ls)(y,(t=>t[e]))}),t,(0,s.rO)({value:t=>({[e]:t}),state:i.UI((t=>({[e]:t})))}))}const _=e=>{const t=e.slice(0,-1),r=e.slice(-1)[0],n=[...t.map((e=>{let[t,r]=e;return[t,(0,a.a9)(r)]})),(0,a.a9)(r)];return(0,a.ls)(i.UI((0,s.lo)(n)),v)};function v(e){return t=>{var{previousState:r,onServiceStop:o}=t,u=(0,n._T)(t,["previousState","onServiceStop"]);return(0,a.zG)(e,i.BT(o),i.g_({state:i.a9(r),stop:()=>{},value:c.YP},((e,t)=>{let{state:r,stop:n}=e;n();const{stop:i,onServiceStop:a}=k(),{state:s,value:o}=t(Object.assign({previousState:r.current,onServiceStop:a},u));return{state:s,stop:i,value:c.G(o)}})),(0,s.bw)((e=>o((()=>e.current.stop())))),(e=>({value:i.UI((0,a.ls)((e=>e.value),c.fS((()=>{throw new Error}))),e),state:i.VS((e=>e.state),e)})))}}function y(e){return w(e)?e:{}}function w(e){return"object"==typeof e&&null!==e}function k(){const e=[];return{stop:()=>{for(;e.length>0;)e.shift()()},onServiceStop:t=>e.push(t)}}},6054:(e,t,r)=>{r.d(t,{oQ:()=>P,a9:()=>h,Ue:()=>g,D8:()=>E,BT:()=>S,VS:()=>b,xH:()=>_,g_:()=>v,p4:()=>k,UI:()=>m,vP:()=>y,bw:()=>D,YP:()=>p});var n=r(2688),i=r(5e3),a=r(3735),s=r(6567),o=r(3328),c=r(2652);function u(e){let t=e,r=[],n=!1;return{addListener(e){if(n)return()=>{};let i=t;const a=()=>{Object.is(t,i)||(i=t,e(t))};r=[...r,a];return()=>{r=r.filter((e=>e!==a))}},notify(e){if(n)throw new Error("Ref bug: Attempted to notify a terminated notifier");Object.is(e,t)||(t=e,r.forEach((e=>e())))},terminate(){n=!0,r=[]}}}function d(e,t){let r=0;return function(){try{if(r++>0)throw new Error(e);return t(...arguments)}finally{r--}}}function l(e,t){let r=[...new Set(e)].filter((e=>"final"!==e.state));if(0===r.length)return{state:"final",onStateChange:()=>()=>{}};const n=()=>0===r.length?"final":r.some((e=>"might_change"===e.state))?"might_change":"nominal",[i,a]=f(n(),(e=>"might_change"!==e&&t())),s=()=>a(n());return r.forEach((t=>{t.onStateChange((t=>{switch(t){case"final":r=e.filter((e=>"final"!==e.state)),s();break;case"might_change":a("might_change");break;case"nominal":s();break;default:throw new Error(`Ref bug: Invalid state ${t}`)}}))})),i}function f(e,t){if("final"===e)return[{state:"final",onStateChange:()=>()=>{}},()=>{}];const{terminate:r,notify:n,addListener:i}=u(e),a={state:e,onStateChange:i},s=d("Disallowed recursion in Branch.",(e=>{if("final"===a.state){if("final"===e)return;throw new Error(`Attempted to change state of final branch to ${e}.`)}try{null==t||t(e),a.state=e,n(e)}finally{"final"===e&&r()}}));return[a,s]}function g(e){const[t,r,n]=function(){const[e,t]=f("nominal"),r=d("Disallowed recursion in Branch.",(r=>{if("final"===e.state)throw new Error("Attempted to mutate a finalized Ref.");const n=e.state;try{t("might_change"),r()}finally{t(n)}}));return[e,r,()=>t("final")]}(),[i,a]=x(t,e);return[i,e=>r((()=>a(e))),n]}function h(e){return{get current(){return e},onChange:()=>()=>{},branch:{state:"final",onStateChange:()=>()=>{}}}}function p(e){return t=>{const r=t.onChange(e);return e(t.current),r}}function m(e,t){if(t){const[r,n]=x(t.branch,e(t.current));return t.onChange((t=>n(e(t)))),r}return t=>m(e,t)}function b(e,t){return t?_(m(e,t)):t=>_(m(e,t))}function _(e){if("final"===e.branch.state)return e.current;const[t,r]=function(e,t){let r=t;const n=[e.state,r.state].includes("might_change")?"might_change":"nominal",[i,a]=f(n),s=e=>t=>{switch(t){case"final":a(e().state);break;case"might_change":a("might_change");break;case"nominal":"might_change"===e().state?a("might_change"):a("nominal");break;default:throw new Error(`Ref bug: Unexpected upstream state ${t}`)}};e.onStateChange(s((()=>r)));const o=s((()=>e));let c=r.onStateChange(o);return[i,e=>{r=e,c(),c=e.onStateChange(o),o(r.state)}]}(e.branch,e.current.branch),[n,i]=x(t,e.current.current);let a=e.current.onChange(i);return e.onChange((e=>{a(),a=e.onChange(i),r(e.branch),i(e.current)})),n}function v(e,t,r){if(!r)return r=>v(e,t,r);let n=e;return m((e=>(n=t(n,e),n)),r)}function y(){if(0===arguments.length||I(arguments.length<=0?void 0:arguments[0]))return w(...arguments);const e=arguments.length<=0?void 0:arguments[0],t=Object.keys(e);return(0,a.zG)(Object.values(e),(e=>w(...e)),m((0,a.ls)(o.Su(((e,r)=>[t[e],r])),Object.fromEntries)))}function w(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return h([]);if(1===t.length)return m((e=>[e]))(t[0]);let n=!1;t.forEach((e=>e.onChange((()=>{if("might_change"!==e.branch.state)throw new Error("Ref bug: Received a change notification without a `might_change` state.");n=!0}))));const i=t.map((0,c.vg)("branch")),a=()=>{n&&(n=!1,u(t.map((e=>e.current))))},s=l(i,a),[o,u]=x(s,t.map((e=>e.current)));return o}function k(e){const[t,r,o]=g(s.YP);return e.then(i.F2).catch((0,a.ls)(n.w,i.t$)).then((0,a.ls)(s.G,r,o)),t}function E(e){const t=e.hasOwnProperty("equals")?e.equals:e;return function(e){return t=>{if("final"===t.branch.state)return t;let r=s.YP;return m((t=>{if(s.Wi(r))return r=s.G(t),t;const n=e(r.value,t);return r=s.G(n),n}),t)}}(((e,r)=>t(e,r)?e:r))}function S(e){return t=>{const[r,n]=function(e){const[t,r]=f(e.state),n=e.onStateChange(r);return[t,()=>{n(),r("final")}]}(t.branch),[i,o]=x(r,t.current);let c=s.G(t.onChange(o));return e((()=>(0,a.zG)(c,s.UI((e=>{c=s.YP,e(),n()}))))),i}}function P(e){return I(e)?e:h(e)}function D(e){return t=>(p(e)(t),t)}function x(e,t){if("final"===e.state)return[h(t),()=>{}];const r=u(t);e.onStateChange((e=>{"final"===e&&r.terminate()}));let n=t;return[{get current(){return n},onChange:r.addListener,branch:e},d("Disallowed recursion in Ref.",(e=>{n=e,r.notify(n)}))]}function I(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&"function"==typeof e.onChange}},6967:(e,t,r)=>{r(2497),r(5165)},1540:(e,t,r)=>{r.d(t,{lg:()=>_,Bt:()=>v});var n=r(655),i=r(1500),a=r(3735),s=r(6567),o=r(6017),c=r(7927),u=r(2751),d=r(2652);class l{constructor(e,t,r,n){this.userId=e,this.network=t,this.api=r,this.logger=n,this.tag="appnexus",this.ttlInSeconds=86400,this.usedForThirdPartyData=!0,this.url="https://ib.adnxs.com/getuidj",this.invalidAliases=["","0","-1"]}getId(){return this.logger.debug("identities[appnexus]: start HTTP request"),(0,d.G6)(navigator.userAgent)?Promise.resolve({type:"skipped"}):this.api.appnexus(this.url).then((e=>(this.logger.debug("identities[appnexus]: end HTTP request"),{type:"attempted",result:(0,a.zG)((0,s.DT)((e=>this.isValidAlias(e.uid)))(e),(0,s.UI)((e=>e.uid)))})),(e=>({type:"attempted",result:s.YP})))}reset(){return Promise.resolve()}isValidAlias(e){return!!e&&-1===this.invalidAliases.indexOf(e)}}class f{constructor(e,t,r,n,i){this.config=e,this.network=t,this.api=r,this.userId=n,this.logger=i,this.tag="pxid",this.ttlInSeconds=86400,this.usedForThirdPartyData=!1,this.url=`https://10453011-272d-49cd-9043-1964fdb36fd8.${this.config.pxidHost}/${this.config.apiVersion}/pxid`,this.resetUrl=this.url+"/reset"}getId(){return this.logger.debug("identities[pxid]: start HTTP request"),(0,d.G6)(navigator.userAgent)?Promise.resolve({type:"skipped"}):this.api.pxid(this.url).then((e=>(this.logger.debug("identities[pxid]: end HTTP request"),{type:"attempted",result:(0,s.ij)(e.uid)})),(e=>({type:"attempted",result:s.YP})))}reset(){return(0,d.G6)(navigator.userAgent)?Promise.resolve():this.api.pxidReset(this.resetUrl)}}const g=new Set(["public","email","email_md5","email_sha256","ip_address"]),h=(e,t)=>!!e.id&&!(0,i.t9)(u.Eq)(e.tag,t);var p=r(6054),m=r(4923);const b=r(2197).ff((e=>void 0===e));class _{constructor(e,t,r,n,i){this.metrics=e,this.trace=t,this.permutiveData=r,this.identityProviderEnv=n,this.logger=i,this.providers={},this.identitiesLastModified=new Date;const s=this.getCachedIdentitiesAndMigrateIfRequired(),[o,c]=p.Ue(s);this.identityMapRef=o,this.setIdentityMap=c,o.onChange((e=>{this.logger.debug("[identities] Updating to",e),this.permutiveData.setData("identities",e)})),this.ref=(0,a.zG)(o,p.UI((0,a.ls)(m.UI((e=>e.value)),m.hX(b))),p.D8(m.Eh(u.Eq)))}get identities(){return this.identityMapRef.current}get getIdentitiesLastModified(){return this.identitiesLastModified}prepareThirdPartyIdentities(){this.logger.debug("Identities: starting to load identities");const e=this.metrics.startTimer("sdk_get_third_party_identities_task_duration_seconds",{}),t=this.trace.startSpan("load_tpd_ids"),r=[{load:e=>{return t=e.config,r=e.network,n=e.api,i=e.userId,a=e.logger,(0,s.G)(new f(t,r,n,i,a));var t,r,n,i,a}},{load:e=>{return t=e.userId,r=e.network,n=e.api,i=e.logger,(0,s.G)(new l(t,r,n,i));var t,r,n,i}},{load:e=>(e.cookies,e.messages,s.YP)},{load:e=>(e.cookies,s.YP)},{load:e=>(e.metrics,e.permutiveData,e.permutive,e.messages,s.YP)}],n=(0,i.oA)(r.map((e=>e.load(this.identityProviderEnv)))).map((e=>this.shouldAskForNewIdentity(e)?this.retrieveIdentity(e):Promise.resolve((0,a.bc)(e,this.getCachedTPDIdentity(e.tag)))));return Promise.all(n).then((e=>e.map((e=>{let[t,r]=e;return this.providers[t.tag]=t,this.setTPDIdentityIfPresent(t.tag,r,t.ttlInSeconds)})))).then((()=>{this.metrics.stopTimer("sdk_get_third_party_identities_task_duration_seconds",e),t.finish()}))}getPrioritizedIdentities(e){const t={default:0,appnexus:1,pxid:1},r=Object.entries(e).map((e=>{let[t,{id:r,expiry:n,priority:i}]=e;return Object.assign(Object.assign(Object.assign({tag:t},r?{id:r}:{}),n?{expiry:n}:{}),void 0!==i?{priority:i}:{})})),n=r.filter((e=>h(e,Object.values(this.providers).map((e=>e.tag))))),a=r.filter((e=>((e,t)=>!!e.id&&!!(0,i.t9)(u.Eq)(e.tag,t))(e,Object.values(this.providers).map((e=>e.tag))))),o=(0,i.DZ)((e=>(0,s.ij)(e.priority)))(n),c=o.length>0?Math.max(...o):0,d=n.map((e=>void 0!==e.priority?Object.assign(Object.assign({},e),{priority:e.priority}):Object.assign(Object.assign({},e),{priority:c+1}))),l=a.map((e=>void 0===t[e.tag]?{tag:e.tag,id:e.id,priority:c+y}:{tag:e.tag,id:e.id,priority:c+w}));return d.concat(l)}getIdentitiesMap(){return this.getFilteredIdentities(((e,t)=>!!t.value))}getCustomerDefinedIdentitiesMap(){return this.getFilteredIdentities(((e,t)=>h({tag:e,id:t.value,expiry:t.expiry,priority:t.priority},Object.values(this.providers).map((e=>e.tag)))))}getTPDIdentitiesMap(){return this.getFilteredIdentities(((e,t)=>{var r,n;return!!t.value&&!!(null===(n=null===(r=this.providers)||void 0===r?void 0:r[e])||void 0===n?void 0:n.usedForThirdPartyData)}))}parseCustomerDefinedIdentities(e){const t=`Identify must be passed a non-empty string or list of { tag, id, priority? } tuples, value passed was '${JSON.stringify(e)}'`,r=e=>{throw new Error(e)},n=e=>(e.forEach((e=>{(e=>"string"==typeof e.id&&"string"==typeof e.tag)(e)||r(t),(e=>"email_sha256"!==e.tag||_.emailSHA256Regex.test(e.id))(e)||r("Identify called with unsupported format of email_sha256 ID. The support format is hex-encoded 64 character long lowercase string.")})),e);return"string"==typeof e?(i=e).length>0?[{id:i,tag:"default"}]:r(t):Array.isArray(e)?n(e):r(t);var i}extractIdentifyFromQueue(e){let{global:t}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=()=>t.q.findIndex((e=>"identify"===e.functionName)),i=(e,r)=>{if(e<0)return r;const a=t.q.splice(e,1)[0],s=this.parseCustomerDefinedIdentities(a.arguments[0]);return i(n(),r.concat(s))};return i(n(),r)}checkIdentitiesHaveBeenModified(e){const t={concat:(e,t)=>(null==e?void 0:e.value)===(null==t?void 0:t.value)?{}:(0,a.bc)(e,t)};return(0,a.zG)(c.jV(t)(this.identities)(e),c.hX(o.ff(c.xb)),(e=>{const t=o.ff(c.xb)(e);return this.logger.debug("[identities] is modified",t,e),t}))}setIdentities(e){let t=!1;const r=e.filter((e=>!g.has(e.tag))).reduce(((e,r)=>{let{tag:n,id:i,expiry:a,priority:s}=r;return void 0===this.identities[n]&&(t=!0,this.logger.debug(`identities[${n}]: added`)),e[n]=Object.assign(Object.assign(Object.assign({},i?{value:i}:{}),a?{expiry:a}:{}),void 0!==s?{priority:s}:{}),e}),{});(t||this.checkIdentitiesHaveBeenModified(r))&&(this.identitiesLastModified=new Date),this.setIdentityMap(Object.assign(Object.assign({},this.identities),r))}reset(){return(0,n.mG)(this,void 0,void 0,(function*(){this.setIdentityMap({}),yield Promise.all(Object.values(this.providers).map((e=>e.reset())))}))}getFilteredIdentities(e){return(0,d.m8)(...Object.entries(this.identities).filter((t=>{let[r,n]=t;return e(r,n)})).map((e=>{let[t,{value:r,expiry:n,priority:i}]=e;return(0,a.bc)(t,Object.assign(Object.assign({id:r},n?{expiry:n}:{}),void 0!==i?{priority:i}:{}))})))}shouldAskForNewIdentity(e){var t;const r=(0,s.ij)(null===(t=this.identities)||void 0===t?void 0:t[e.tag]);return(0,s.g_)((()=>!0),this.isIdentityExpired)(r)}getCachedTPDIdentity(e){return this.identities[e]?(0,s.ij)(this.identities[e].value):s.YP}setTPDIdentityIfPresent(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:86400;const n=()=>Date.now()+Math.floor(1e3*r);return(0,s.g_)((()=>this.setIdentities([{tag:e,expiry:n()}])),(t=>this.setIdentities([{tag:e,id:t,expiry:n()}])))(t)}retrieveIdentity(e){return e.getId().then((t=>"skipped"===t.type?(0,a.bc)(e,s.YP):(0,a.zG)(t.result,(t=>this.metrics.track({name:(0,s.pC)(t)?"sdk_third_party_identity_present_count":"sdk_third_party_identity_missing_count",value:1,labels:{identity_tag:e.tag}})),(r=>(0,a.bc)(e,t.result)))))}isIdentityExpired(e){return"number"==typeof e.expiry&&Date.now()>=e.expiry}getCachedIdentitiesAndMigrateIfRequired(){return(e=>(0,d.m8)(...Object.entries(e).filter((e=>{let[t,r]=e;return!this.isIdentityExpired(r)&&!g.has(t)}))))(this.permutiveData.getData("identities")||{})}}_.emailSHA256Regex=/^[a-f0-9]{64}$/;const v=(e,t,r,n,a)=>{const s=(e,t)=>{const r=["(null)"];return r.indexOf(e)>-1||!!E[e]||(0,i.jV)(u.Eq)(t,r).length>0},o=e=>"721d6d85-35f0-4e35-bb38-13eb0d465158"===e,c={"be668577-07f5-444d-98e0-222b990951b1":s,"e43c8a90-d17b-4790-bfda-81b069b3b8c2":(e,t,r)=>["thestudentroom.co.uk"].some((e=>r.indexOf(e)>-1))&&(0,i.jV)(u.Eq)(t,["tsr-"]).length>0,"5d79bce7-5d2b-427e-a6c4-b89b6c7bf048":s,"366ab8da-5efa-4355-ab00-84db3b68ded2":e=>"96539955-4d7e-40df-882b-7e2fbacedb1c"===e||"345600e7-fb5f-48b1-9aa6-cde5396419b0"===e,"f3a06674-ebb9-4b9d-ba8f-0052018c0687":o,"38dadd0d-257a-4641-b332-b8b0fd20a6cb":o,"10453011-272d-49cd-9043-1964fdb36fd8":e=>"936ba6ac-9a8b-454d-ba98-facebd7553fe"===e},d={"fe68d1f7-c9f4-45b3-8905-7cda73d3fd74":e=>!!k[e]},l=c[e]||d[t];return!!l&&l(a,r,n)},y=2,w=3,k={},E={}},7658:(e,t,r)=>{r.d(t,{z:()=>n});class n{ingestIfEligible(e){return Promise.resolve()}}},922:(e,t,r)=>{r.d(t,{CL:()=>l,D0:()=>i,ED:()=>a,EW:()=>f,MU:()=>m,PH:()=>d,UW:()=>p,Uy:()=>c,eV:()=>s,jH:()=>g,mL:()=>h,qr:()=>o,t2:()=>u});var n=r(9853);const i=(0,n.MU)("engagement_edge_only",!0),a=(0,n.MU)("segment_transition_edge_only",!0),s=(0,n.MU)("track_form_submission",!0),o=(0,n.MU)("track_link_click",!0),c=(0,n.MU)("track_pageview_complete",!0),u=(0,n.MU)("track_pageview_engagement",!0),d=((0,n.$S)("sync_segments_cookie",!1),(0,n.$S)("track_slot_clicked",!0)),l=(0,n.$S)("track_slot_rendered",!0),f=(0,n.$S)("track_slot_viewable",!1),g=(0,n.$S)("track_targeting_keys",!1),h="_psegs",p=!0,m=6e5},4673:(e,t,r)=>{r.d(t,{U:()=>n});const n={$ip_address:"$ip_address",$ip_address_hash:"$ip_address_hash",$ip_geo_info_city:"$ip_geo_info_city",$ip_geo_info_continent:"$ip_geo_info_continent",$ip_geo_info_country:"$ip_geo_info_country",$ip_geo_info_postal_code:"$ip_geo_info_postal_code",$ip_geo_info_province:"$ip_geo_info_province",$ip_isp_info_autonomous_system_organization:"$ip_isp_info_autonomous_system_organization",$ip_isp_info_isp:"$ip_isp_info_isp",$ip_isp_info_organization:"$ip_isp_info_organization"}},8975:(e,t,r)=>{r.d(t,{v:()=>a});class n{constructor(e,t,r,n,i,a,s){this.logger=e,this.permutive=t,this.id=r,this.segmentCode=n,this.triggerType=i,this.config=a,this.workspaceLevelConfig=s,this.prefix="[Activation]"}getSegmentCode(){return this.segmentCode}getTriggerType(){return this.triggerType}getConfig(){return this.config}getWorkspaceLevelConfig(){return this.workspaceLevelConfig}trackImpression(e){return this.trackActivation("impression",e)}trackConversion(e){return this.trackActivation("conversion",e)}trackActivation(e,t){const r={reaction_id:this.id,type:e};this.permutive.track("Reaction",r,t),this.logger.log(this.prefix,r.type,r)}}var i=r(9853);class a{constructor(e,t,r){this.logger=e,this.permutive=t,this.clientContext=r,this.optimisedActivationsConfig={dfp:{dfp:[73164,73165,73166,77498,104041,60219,88695,65455,65456,65457,89079,89086,89077,89081,89082,89083,103671,65966,65965,65967,65968,65969,65970,65971,65972,65973,65974,65975,65976,65978,65979,65982,65985,65986,65987,65988,65990,65991,65993,65995,65997,65998,65999,66001,65977,65980,65981,65983,65984,65989,65992,66020,66026,65994,66008,66009,65996,66003,66004,66e3,66007,66014,66016,66017,66018,66019,66021,66022,66023,66002,66006,66015,66025,66005,66010,66011,66012,66013,66024,66027,66028,66029,66032,66030,66031,66033,66034,66035,66036,66037,66038,66039,66044,66048,66040,66041,66042,66045,66046,66047,66049,66050,66043,66051,72681,66156,66157,61825,61780,71899,71902,71900,71901,71903,71904,71915,71916,71917,71918,71920,71921,71922,71924,71925,71926,71927,71928,71930,71931,71932,71933,71938,71939,71919,71923,71934,71935,71937,71929,71936,71975,71980,71982,71988,71992,71958,71964,71948,71949,71951,71957,71959,71960,71961,71962,71963,71965,71966,71967,71950,71956,71952,71954,71994,71995,71996,71998,71953,71955,71985,71986,71987,71968,71969,71970,71971,71972,71973,71974,71976,71979,71981,71983,71984,71989,71990,71991,71977,72004,71978,71993,71997,72001,72002,72005,72006,72007,71999,72e3,72003,72008,72009,72010,72011,72012,72013,72014,72015,72016,72017,72018,72024,72025,72019,72020,72021,72022,72023,72026,72027,72028,72032,72034,72035,72036,72037,72038,72039,72040,72044,72046,72047,72048,72029,72030,72031,72033,72041,72042,72043,72045,72049,72057,72058,72059,72061,72053,72054,72056,72055,72060,72062,72063,72064,72065,72068,72072,72073,72075,72066,72069,72070,72071,72067,72074,98385,66696,66697,66704,66705,66706,64821,73965,67013,98608,98617,103274,105126,79652,105732,76469,104860,83156,99133,97266,97267,97851,97849,99323,101097,93629,85663,85747,86061,86062,85242,86063,88179,105807,106291,107478,109284,110675,113218,114267,114299,114499,115678,120929,122441,122876,122884,122989,122990,123341,123342,123501,72711,123908,123923,124682,124688,124692,125228,127374,128686,128824,128825,129606,130380,131415,131596,131890,131891,131993,115581,104864,134452,141571,141569,141567,141566,141565,141564,141557,141558,141559,141560,141561,141562,141563,142968,136568,136567,136566,136565,136564,136562,136563,136561,136202,146605,146607,146608,147300,148169,148259,150328,153453,153456,154087,154088,155797],dfp_legacy:{}},eyeota_pixel:[],dbm:{omitted:21},appnexus:{66038:27146842},appnexus_adserver:[65979,71920,65973,65990,65965,71962,65966,65988,65992,67013,65970],nativo:[],rubicon_ssp:[],smart:[],freewheel:[]}}getSpecializedActivations(e){return this.optimisedActivationsConfig[e]}getActivations(e){return(0,i.Hn)(e)("activationConfigs",[]).filter((e=>this.areContextCriteriaSatisfied(e))).map((e=>new n(this.logger,this.permutive,e.id,e.sc,e.tt,e.c,e.wc)))}areContextCriteriaSatisfied(e){const t=e.cc,r=e=>{const t=this.clientContext.getContext()[e.key];switch(e.comparison){case"EQUALS":return t===e.value;case"NOT_EQUALS":return t!==e.value;case"CONTAINS":return"string"==typeof t&&t.indexOf(e.value)>=0;case"NOT_CONTAINS":return"string"==typeof t&&t.indexOf(e.value)<0}};return!t||("AND"===(n=t).operator?n.criteria.every(r):n.criteria.some(r));var n}}},9853:(e,t,r)=>{r.d(t,{$S:()=>s,Hn:()=>i,MU:()=>a});const n={standard_cohorts:{auto_init:!0,activationConfigs:[]},rubicon_ssp:{auto_init:!0,publisher_id:"15366",activationConfigs:[]},classification_models:{auto_init:!0,activationConfigs:[]},dfp:{auto_init:!0,networks:[{network_code:"99071977",name:"UE GAM"}],track_slot_rendered:!1,track_slot_viewable:!0,track_slot_clicked:!0,activationConfigs:[]},ssp:{auto_init:!0,ssps:["appnexus"],cohort_mapping:{1e7:"bgyz",10000001:"bhgp",10000002:"bhhc",10000003:"bhhg",10000004:"bhhk",10000005:"bhhp",10000006:"bhhv",10000007:"bhhy",10000008:"bhie",10000010:"bhis",10000011:"bhiz",10000012:"bhji",10000013:"bhjq",10000014:"bhka",10000015:"bhkl",10000016:"bhkr",10000017:"bhky",10000018:"bhlg",10000019:"bhli",10000020:"bhlo",10000021:"bhlp",10000022:"bhnd",10000023:"bhnl",10000024:"bhnp",10000025:"bhnw",10000026:"bhoj",10000035:"bgzb",10000036:"bhgq",10000037:"bhgs",10000038:"bhgw",10000039:"bhgy",10000040:"bhgz",10000041:"bhhe",10000042:"bhhh",10000043:"bhhw",10000044:"bhhx",10000045:"bhhz",10000046:"bhia",10000047:"bhif",10000048:"bhig",10000049:"bhii",10000050:"bhij",10000051:"bhik",10000052:"bhim",10000053:"bhip",10000054:"bhit",10000055:"bhiu",10000056:"bhiv",10000057:"bhiy",10000058:"bhjm",10000059:"bhjr",10000060:"bhjs",10000061:"bhjw",10000062:"bhjx",10000063:"bhkm",10000064:"bhir",10000065:"bhko",10000066:"bhkp",10000067:"bhkq",10000068:"bhkz",10000069:"bhla",10000070:"bhlb",10000071:"bhle",10000072:"bhlf",10000073:"bhlq",10000074:"bhlt",10000075:"bhlu",10000076:"bhlw",10000077:"bhlx",10000078:"bhly",10000079:"bhmb",10000080:"bhmi",10000081:"bhmj",10000082:"bhml",10000083:"bhmp",10000084:"bhmr",10000085:"bhmw",10000086:"bhmz",10000087:"bhne",10000088:"bhnf",10000089:"bhni",10000090:"bhnn",10000324:"bhhj",10000325:"bhhi",10000327:"bhku",10000328:"bhkt",10000329:"bhkw",10000330:"bhkv",10000687:"bgzc",10000688:"bgza",10000689:"bhha",10000690:"bhgt",10000691:"bhgx",10000692:"bhgv",10000693:"bhgr",10000694:"bhgu",10000695:"bhhb",10000696:"bhhd",10000697:"bhhf",10000698:"bhhl",10000699:"bhho",10000700:"bhhm",10000701:"bhhn",10000702:"bhhq",10000703:"bhht",10000704:"bhhu",10000705:"bhhs",10000706:"bhhr",10000707:"bhib",10000708:"bhid",10000709:"bhic",10000710:"bhio",10000711:"bhin",10000712:"bhil",10000713:"bhiq",10000714:"bhih",10000715:"bhiw",10000716:"bhix",10000717:"bhja",10000718:"bhjc",10000719:"bhjd",10000720:"bhje",10000721:"bhjf",10000722:"bhjb",10000723:"bhjg",10000724:"bhjh",10000725:"bhjo",10000726:"bhjk",10000727:"bhjn",10000728:"bhjj",10000729:"bhjl",10000730:"bhjy",10000731:"bhju",10000732:"bhjv",10000733:"bhjz",10000734:"bhjt",10000735:"bhkj",10000736:"bhkk",10000737:"bhki",10000738:"bhkd",10000739:"bhkc",10000740:"bhkf",10000741:"bhkh",10000742:"bhkb",10000743:"bhkg",10000744:"bhke",10000745:"bhjp",10000746:"bhkn",10000747:"bhkx",10000748:"bhks",10000749:"bhld",10000750:"bhlc",10000751:"bhlh",10000752:"bhlk",10000753:"bhlj",10000754:"bhll",10000755:"bhlm",10000756:"bhlv",10000757:"bhna",10000758:"bhmv",10000759:"bhmt",10000760:"bhmy",10000761:"bhmc",10000762:"bhmo",10000763:"bhls",10000764:"bhmq",10000765:"bhme",10000766:"bhmh",10000767:"bhlz",10000768:"bhlr",10000769:"bhnb",10000770:"bhmk",10000771:"bhmu",10000772:"bhmx",10000773:"bhmg",10000774:"bhmd",10000775:"bhmf",10000776:"bhnc",10000777:"bhmn",10000778:"bhmm",10000779:"bhma",10000780:"bhms",10000781:"bhng",10000782:"bhnj",10000783:"bhnh",10000784:"bhnk",10000785:"bhno",10000786:"bhnm",10000787:"bhnu",10000788:"bhnv",10000789:"bhns",10000790:"bhnt",10000791:"bhnq",10000792:"bhnr",10000793:"bhob",10000794:"bhny",10000795:"bhod",10000796:"bhoh",10000797:"bhog",10000798:"bhnz",10000799:"bhoa",10000800:"bhoe",10000801:"bhnx",10000802:"bhoc",10000803:"bhof"},activationConfigs:[]},facebook_pixel_v2:{auto_init:!0,activationConfigs:[{id:"741acd11-ef5a-4afe-b0b8-5dbaed873a47",tt:"EveryTime",sc:94125,c:{},wc:{}},{id:"a3a3d74d-fd83-4952-bcd5-f20759437854",tt:"EveryTime",sc:94126,c:{},wc:{}},{id:"091895ba-12d1-4a3c-8bf5-60a1da6e0d15",tt:"EveryTime",sc:94127,c:{},wc:{}},{id:"7c4db52e-2802-4865-8dcb-5c87331414c7",tt:"EveryTime",sc:94128,c:{},wc:{}},{id:"66437013-6886-45a1-9c1e-964501d8298a",tt:"EveryTime",sc:94129,c:{},wc:{}},{id:"21c891cd-a08a-4ee7-95a4-44ffc94a7e9d",tt:"EveryTime",sc:65455,c:{},wc:{}},{id:"da17eccb-c31c-4d49-9cd7-e7978762b6a3",tt:"EveryTime",sc:65456,c:{},wc:{}},{id:"e09bad74-8074-4dc5-aea9-537765b74bab",tt:"EveryTime",sc:65457,c:{},wc:{}},{id:"cf7dc93c-ac86-4d33-8e0d-ed0f3d63d6e8",tt:"EveryTime",sc:64821,c:{},wc:{}},{id:"0fe79cce-205b-49d0-9a92-cce41bf1fee5",tt:"EveryTime",sc:98617,c:{},wc:{}},{id:"6b4c4222-ee70-472d-8ada-226f72b1912a",tt:"EveryTime",sc:71973,c:{},wc:{}},{id:"de5d4f9f-b3b5-46d7-ad76-0884722c8684",tt:"EveryTime",sc:65967,c:{},wc:{}},{id:"945e9276-2350-45d3-866e-3f97beed3cb6",tt:"EveryTime",sc:103274,c:{},wc:{}},{id:"28e38578-4e2b-40be-bb2e-1cb820b219dd",tt:"EveryTime",sc:101097,c:{},wc:{}},{id:"5fee62fe-b082-4c71-b82d-d6e45eea1088",tt:"EveryTime",sc:99323,c:{},wc:{}},{id:"ba2cf7b0-6100-47f8-b41f-39659cc177d4",tt:"EveryTime",sc:97851,c:{},wc:{}},{id:"b8199195-22a4-48c2-9ecc-a1aebb387e2e",tt:"EveryTime",sc:97849,c:{},wc:{}},{id:"6b1fed6e-6981-419e-9559-59974b0e6045",tt:"EveryTime",sc:97266,c:{},wc:{}},{id:"786b7481-0edd-4d8e-9457-6626a84da7f6",tt:"EveryTime",sc:97267,c:{},wc:{}},{id:"2163711a-952d-4557-8d7b-c4d1a82e936e",tt:"EveryTime",sc:72038,c:{},wc:{}},{id:"67261b29-d79a-4a3f-94c0-e98d70e63f35",tt:"EveryTime",sc:86061,c:{},wc:{}},{id:"f216f9d4-ad01-4bcf-b51e-6023b90c01f9",tt:"EveryTime",sc:86062,c:{},wc:{}},{id:"5f811ca3-63c2-459f-aa74-1a60722ae734",tt:"EveryTime",sc:85242,c:{},wc:{}},{id:"683985aa-73e7-4a76-9ed9-8690f90486b9",tt:"EveryTime",sc:72060,c:{},wc:{}},{id:"333cdbcc-61a0-47f5-a0db-d32953c6e7c3",tt:"EveryTime",sc:65965,c:{},wc:{}},{id:"7d7f59c6-dc3f-43a9-88f9-cce2a592b7bf",tt:"EveryTime",sc:89083,c:{},wc:{}},{id:"042030b7-9bb6-44ff-9ab0-1064b43cee89",tt:"EveryTime",sc:86063,c:{},wc:{}},{id:"22173417-ef70-40e5-9a75-c62826384e08",tt:"EveryTime",sc:89086,c:{},wc:{}},{id:"8c6a38c0-e59f-44fe-a600-5592cbcd1db2",tt:"EveryTime",sc:89077,c:{},wc:{}},{id:"e6d14ea7-0988-46e5-aba2-7ab747e7fdce",tt:"EveryTime",sc:65993,c:{},wc:{}},{id:"f479b8de-0adc-4e6c-996f-a156fef8b1db",tt:"EveryTime",sc:72039,c:{},wc:{}},{id:"0a051977-4abe-440d-a71d-7803ebe52e02",tt:"EveryTime",sc:71967,c:{},wc:{}},{id:"c6e5e965-4522-4e46-b780-68f3f70f92b5",tt:"EveryTime",sc:89082,c:{},wc:{}},{id:"9ee2603f-2519-426d-b276-83b2635dad56",tt:"EveryTime",sc:89081,c:{},wc:{}},{id:"511d8380-596f-48c2-b1f8-d6f780c5f31d",tt:"EveryTime",sc:89079,c:{},wc:{}},{id:"a32c60db-1e30-4590-aef1-74ac49b79abf",tt:"EveryTime",sc:72031,c:{},wc:{}},{id:"e115c140-3d2a-462f-908e-aea953e37142",tt:"EveryTime",sc:142968,c:{},wc:{}}]},tracking_pixel:{auto_init:!0,activationConfigs:[]},dbm:{auto_init:!0,entity_id:5949432,product_type:"INVITE_PARTNER",activationConfigs:[]},twitter_pixel:{auto_init:!0,activationConfigs:[]},web:{auto_init:!1,engagement_edge_only:!0,segment_transition_edge_only:!0,activationConfigs:[]},appnexus:{auto_init:!0,member_id:3967,activationConfigs:[]},appnexus_adserver:{auto_init:!0,member_id:290836,targeting_key_id:30791,contextual_targeting_key_id:31367,segment_name_prefix:"Permutive: ",segment_code_prefix:"permutive_",activationConfigs:[]},publishers:{auto_init:!1,add_alchemy_taxonomy:!0,add_alchemy_entities:!1,activationConfigs:[]}},i=e=>{const t=n[e];return(e,r)=>{var n;return null!==(n=null==t?void 0:t[e])&&void 0!==n?n:r}},a=i("web"),s=i("dfp");i("facebook_pixel_v2")},2836:(e,t,r)=>{r.d(t,{z:()=>a});var n=r(3030);class i{constructor(e){this.context=e}getContext(){return this.context}updateContext(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach((e=>{let[t,r]=e;this.context[t]=r}))}}class a extends i{constructor(e){super(e)}getClient(){var e;const t=null!==(e=document.title)&&void 0!==e?e:"";return Promise.resolve({type:"web",user_agent:navigator.userAgent||"",url:(0,n.bk)(window.location.href),domain:window.location.hostname||"",title:t,referrer:(0,n.bk)(document.referrer)})}}},389:(e,t,r)=>{r.d(t,{p:()=>a});var n=r(3577);const i="permutive-pvc";class a extends((0,n.h)(i)){constructor(e){super(e)}}},5865:(e,t,r)=>{r.d(t,{J:()=>i});var n=r(3577);class i extends((0,n.h)("permutive-unprocessed-pba")){constructor(e){super(e)}}},3577:(e,t,r)=>{r.d(t,{h:()=>o});var n=r(3735),i=r(6567),a=r(7554);const s=e=>t=>class extends t{constructor(){super(...arguments),this.key=e}put(e){return this.db.then((t=>t.put(e,this.key))).then(n.Q1)}getIfPresent(){return this.db.then((e=>e.get(this.key))).then(i.ij)}reset(){return this.db.then((e=>e.delete(this.key)))}},o=e=>(0,n.zG)(class{constructor(e){this.db=Promise.resolve((0,a.E)(e.namespace,e.logger,e.consentTracking))}},s(e))},5700:(e,t,r)=>{r.d(t,{LP:()=>a,dG:()=>n,eP:()=>i});const n=4096,i=`Cookie exceeds maximum supported size of ${n} bytes for most browsers.`,a="Cookie is missing required parameters."},5461:(e,t,r)=>{r.d(t,{S:()=>c});var n=r(3735),i=r(5700);class a{constructor(e,t,r){this.namespace=e,this.config=t,this.logger=r}setCookie(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n;if(!(t&&e&&this.config.cookieExpiry&&this.config.cookieDomain)){const{cookieExpiry:r,cookieDomain:a}=null!==(n=this.config)&&void 0!==n?n:{};throw this.logger.warn(`Unable to set cookie. ${i.LP}`,{value:t,cookieName:e,cookieExpiry:r,cookieDomain:a}),new Error(i.LP)}const a=this.namespace.getNamespacedStorageKey(e),s=[encodeURIComponent(a),"=",encodeURIComponent(t),"; expires=",this.config.cookieExpiry,"; domain=",this.config.cookieDomain,"; path=/",r?"; samesite=none; secure":""].join("");if(s.length>i.dG)throw this.logger.warn(`Unable to set cookie ${a}. ${i.eP}`),new Error(i.eP);return this.logger.debug(`Setting cookie ${s}`),document.cookie=s,!0}getCookie(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e:this.namespace.getNamespacedStorageKey(e),r=new RegExp("\\b"+encodeURIComponent(t)+"=([^;]+)").exec(document.cookie);return null!==r?decodeURIComponent(r[1]):null}deleteCookie(e){if(!e||!this.config.cookieDomain)return!1;const t=this.namespace.getNamespacedStorageKey(e);return document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; domain="+this.config.cookieDomain+"; path=/",!0}}var s=r(4769);const o=e=>{const{logger:t,consentTracking:r}=e,n=e=>(t.debug(`Cookie: Failed to set cookie ${e} as consent is revoked`),!1);return e=>class extends e{constructor(){super(...arguments),this.setCookie=(0,s.v)(super.setCookie.bind(this),n,r.isRevoked)}}},c=(e,t,r,i)=>new((0,n.zG)(a,o({consentTracking:i,logger:r})))(e,t,r)},9773:(e,t,r)=>{r.d(t,{S:()=>d});var n=r(3735),i=r(2688),a=r(787),s=r(5e3);class o{constructor(e){this.namespace=e}getExternalData(e){const t=this.namespace.getNamespacedStorageKey(e);return window.localStorage.getItem(t)}getExternalJsonData(e){const t=this.getExternalData(e);return null===t?null:(0,a.A)(t)}setExternalData(e,t){const r=this.namespace.getNamespacedStorageKey(e);try{window.localStorage.setItem(r,t)}catch(e){}}setExternalJsonData(e,t){return(0,n.zG)((r=t,(0,s.Y3)((function(){var e=JSON.stringify(r);if("string"!=typeof e)throw new Error("Converting unsupported structure to JSON");return e}),n.yR)),(0,s.UI)((t=>this.setExternalData(e,t))),(0,s.g_)((e=>{throw(0,i.w)(e)}),n.Q1));var r}removeExternalData(e){const t=this.namespace.getNamespacedStorageKey(e);window.localStorage.removeItem(t)}}var c=r(4769);const u=e=>{const{logger:t,consentTracking:r}=e,n=e=>{t.debug(`External Data: Failed to set key ${e} as consent is revoked`)},i=n,a=n;return e=>class extends e{constructor(){super(...arguments),this.setExternalData=(0,c.v)(super.setExternalData.bind(this),i,r.isRevoked),this.setExternalJsonData=(0,c.v)(super.setExternalJsonData.bind(this),a,r.isRevoked)}}},d=(e,t,r)=>new((0,n.zG)(o,u({consentTracking:r,logger:t})))(e)},342:(e,t,r)=>{r.d(t,{SX:()=>a});class n{constructor(){this.prefix="[Permutive]",this.debugStyle=["color: blue"].join(";")}log(){return console.log.bind(window.console,this.prefix)(...arguments)}debug(){return console.debug.bind(window.console,"%c%s",this.debugStyle,this.prefix)(...arguments)}warn(){return console.warn.bind(window.console,this.prefix)(...arguments)}error(){return console.error.bind(window.console,this.prefix)(...arguments)}}class i{log(){}debug(){}warn(){}error(){}}const a=e=>{var t;return e.loggingEnabled&&void 0!==(null===(t=window.console)||void 0===t?void 0:t.log)?new n:new i}},8491:(e,t,r)=>{r.d(t,{Q:()=>a});var n=r(3735);const i="[MESSAGES]";class a{constructor(e){this.logger=e,this.messageListenerMap={},this.replayQueue={},this.onceTracker={},this.defaultMessageOptions={withReplay:!1,once:!1}}on(e,t,r){const n=this.mergeMessageOptions(r);n.withReplay&&this.processReplayQueue(e,t);const i=s(e,this.messageListenerMap).push(t)-1;return n.once&&this.addToOnceTracker(e,i),i}once(e,t){return this.on(e,t,{once:!0})}off(e,t){if(null==t)return this.messageListenerMap[e]=[],void(this.replayQueue[e]=[]);t<0?this.logError('Index for "off" fell out of range',{index:t}):s(e,this.messageListenerMap)[t]=n.Q1}emit(e,t,r){const n=this.mergeMessageOptions(r);s(e,this.messageListenerMap).length>0?(this.logDebug(`Emitting Event: ${e}`),this.emitMessageWithPayload(e,t)):n.withReplay&&this.addToReplayQueue(e,t)}addToReplayQueue(e,t){s(e,this.replayQueue).push(t)}processReplayQueue(e,t){var r;null===(r=this.replayQueue[e])||void 0===r||r.forEach((e=>t(e)))}emitMessageWithPayload(e,t){var r;null===(r=this.messageListenerMap[e])||void 0===r||r.forEach(((r,n)=>{r(t),this.removeListenerIfSetToFireOnlyOnce(e,n)}))}addToOnceTracker(e,t){s(e,this.onceTracker).push(t)}removeListenerIfSetToFireOnlyOnce(e,t){var r;(null===(r=this.onceTracker[e])||void 0===r?void 0:r.includes(t))&&this.off(e,t)}mergeMessageOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(Object.assign({},this.defaultMessageOptions),e)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(i,...t)}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(i,...t)}}const s=(e,t)=>{var r;return null!==(r=t[e])&&void 0!==r?r:t[e]=[]}},400:(e,t,r)=>{r.d(t,{p:()=>p});var n=r(655),i=r(2688),a=r(3735),s=(r(7341),r(9384)),o=function(e,t){return function(){return t(e())}},c=function(e){return function(t){return o(t,e)}},u=a.a9,d=(a.yR,a.yR,s.F4,s.Xl,function(){return Math.random()});function l(e,t){return(0,a.zG)(d,c((function(r){return Math.floor((t-e+1)*r+e)})))}c((function(e){return e<.5}));var f=r(7927),g=r(4673),h=r(2652);const p=e=>{const t={metricsToSend:[]},r="[Metrics Reporter]",s=(e=>{const t=e.toLowerCase();return["android"].includes(t)?"android":["windows","win32","wince"].includes(t)?"windows":["iphone","ipod","ipad"].includes(t)?"ios":["macintosh","macintel","macppc","mac68k"].includes(t)?"macos":t.includes("linux")||"x11"===t?"linux":"unknown"})(window.navigator.platform||""),o=o=>{let{metrics:c,enrichers:u,beacon:d}=o;return(0,n.mG)(void 0,void 0,void 0,(function*(){const o=c.consume();if(0===o.length&&0===t.metricsToSend.length)return!0;t.metricsToSend=[...t.metricsToSend,...o];try{return yield((t,r)=>(0,n.mG)(void 0,void 0,void 0,(function*(){if(!t)return e.api.metrics(r);if(!e.api.metricsBeacon(r))throw new Error("Failed to send beacon.")})))(d,{context:Object.assign(Object.assign({},(0,a.zG)({},(0,a.ls)((0,f.dx)("continent",g.U.$ip_geo_info_continent),(e=>u.enrich(e,!0).output)))),{environment:"web",sdk_version:"v19.91.0",events_count:0,segments_count:0,os:s}),items:t.metricsToSend}),t.metricsToSend=[],!0}catch(n){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.logger.error(r,...n)}(`Failed to publish metrics ${(0,i.w)(n).message}`,t.metricsToSend),!1}}))};e.messages.on("permutive:ready",(()=>{const t=l(3e4,9e4),r=i=>window.setTimeout((()=>(0,n.mG)(void 0,void 0,void 0,(function*(){const n=(yield o(Object.assign(Object.assign({},e),{beacon:!1})))?5e3:t();r(n)}))),i);r(5e3),(0,h.aq)((()=>setTimeout((()=>o(Object.assign(Object.assign({},e),{beacon:!0}))),0)))}))}},4074:(e,t,r)=>{function n(e,t,r,n,s){var o;return(null!==(o=r.getData("metricsEnabled"))&&void 0!==o?o:(()=>{const e=Math.random()<=t.metricsSamplingPercentage/100;return r.setData("metricsEnabled",e),e})())?new i(e,n,s):new a}r.d(t,{g:()=>n});class i{constructor(e,t,r){this.sdkInitTimestamp=e,this.messages=t,this.logger=r,this.prefix="[Metrics]",this.pendingMetrics=[],this.pendingTimers={},this.track({name:"sdk_initialisation_start_time_seconds",value:e/1e3,labels:{}})}consume(){const e=this.pendingMetrics;return this.pendingMetrics=[],e}track(e){this.logDebug(`Tracking ${e.name}`,{metric:e}),this.pendingMetrics.push(e)}trackTimeSinceInit(e,t){const r=(performance.now()-this.sdkInitTimestamp)/1e3;this.logDebug("timer stopped",e,r),this.track({name:e,value:r,labels:t})}startTimer(e,t){const r=performance.now(),n=this.generateRandomKey(e);return this.pendingTimers[n]={startTime:r,labels:t},n}stopTimer(e,t){const r=this.pendingTimers[t];if(r){const n=(performance.now()-r.startTime)/1e3;this.logDebug("timer stopped",e,n),this.track({name:e,value:n,labels:r.labels}),delete this.pendingTimers[t]}}generateRandomKey(e){return`${e}-${[...Array(24)].map((()=>Math.random().toString(36)[2])).join("")}`}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(this.prefix,...t)}}class a{consume(){return[]}track(e){}trackTimeSinceInit(e,t){}startTimer(e,t){return""}stopTimer(e,t){}}},8317:(e,t,r)=>{r.d(t,{S:()=>s});var n=r(655),i=r(3735),a=r(2652);class s{constructor(e,t){this.db=e,this.options=t}getSessionId(){return this.options.session_id}sessionHasChanged(){return this.options.hasChanged}static decodeSessionData(e){return e&&"object"==typeof e&&e.hasOwnProperty("session_id")&&e.hasOwnProperty("last_updated")?Object.assign(Object.assign({},e),{last_updated:new Date(e.last_updated)}):null}reset(){return this.db.delete(this.options.session_data_key)}persistSessionData(e){return(0,n.mG)(this,void 0,void 0,(function*(){const t=e.last_updated.toISOString();yield this.db.put(Object.assign(Object.assign({},e),{last_updated:t}),this.options.session_data_key)}))}static generateNewSession(e){return{session_id:(0,a.k$)(),last_updated:e}}static hasExpired(e,t,r){if(isNaN(t.getTime()))return!0;return e>new Date(t.getTime()+1e3*r)}static initialise(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){const r={timeout_seconds:1800,session_data_key:"permutive-session",hasChanged:!1};e.deleteCookie(r.session_data_key);const n=new Date,o=yield t.get(r.session_data_key).catch(i.gn),c=s.decodeSessionData(o),u=null===c||s.hasExpired(n,c.last_updated,r.timeout_seconds)?Object.assign(Object.assign({},s.generateNewSession(n)),{hasChanged:!0}):Object.assign(Object.assign({},c),{last_updated:n,hasChanged:!1}),d=new s(t,(0,a.PM)(r,u));return yield d.persistSessionData(u),d}))}}},4026:(e,t,r)=>{r.d(t,{S:()=>b});var n=r(3735),i=r(2688),a=r(787),s=r(5e3),o=r(2652),c=r(4730),u=r(926);class d{constructor(e,t,r){this.config=e,this.namespace=t,this.logger=r,this.prefix="[Data Store]",this.permutiveData={},this.permutiveDataSize=0,this.localStorageQueue=new Set,this.localStorageScheduler=new c.b(e.localStorageWriteDelay,e.localStorageWriteMaxDelay),this.debouncedFlush=this.localStorageScheduler.schedule(this.flushLocalStorageQueue.bind(this)),this.debouncedStorageKeys=new Set(e.localStorageDebouncedKeys),this.localStorageScheduler.scheduleForPageUnload(this.flushLocalStorageQueue.bind(this)),this.permutiveData=this.buildData()}reset(){this.permutiveData={}}getDataSize(){return this.permutiveDataSize}getData(e){return this.permutiveData[e]}setData(e,t){this.permutiveData[e]=t,this.requestWrite(e)}deleteKey(e){delete this.permutiveData[e],this.requestWrite(e)}requestWrite(e){this.debouncedStorageKeys.has(e)?(this.localStorageQueue.add(e),this.debouncedFlush()):this.writeData(e)}flushLocalStorageQueue(){for(let e of this.localStorageQueue)this.writeData(e);this.localStorageQueue.clear()}buildData(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.getDataChunk("misc")),this.getDataChunk("models")),this.getDataChunk("queries")),this.getDataChunk("enrichers"))}getDataChunk(e){const t=this.namespace.getNamespacedStorageKey(this.chunkKeyToStorageKey(e)),r=window.localStorage.getItem(t),n=null===r?null:(0,a.A)(r);return r&&n?(this.permutiveDataSize+=2*r.length,n):{}}chunkKeyToStorageKey(e){switch(e){case"models":return this.config.permutiveDataModelsKey;case"queries":return this.config.permutiveDataQueriesKey;case"enrichers":return this.config.permutiveDataEnrichersKey;case"misc":return this.config.permutiveDataMiscKey;default:throw new Error(`Unhandled chunk key "${e}"`)}}writeData(e){this.logger.debug(`Data Store: Writing ${e} to localStorage`);const[t,r]=this.dataKeyToChunkInfo(e);return s.Y3((()=>window.localStorage.setItem(this.namespace.getNamespacedStorageKey(t),JSON.stringify(r))),(t=>{const r=(0,i.w)(t);return this.logError(`Failed to set ${e}. Got ${r}`),r}))}dataKeyToChunkInfo(e){const t=e=>(0,o.eu)(this.permutiveData,e);switch(e){case"models_data":case"models_last_updated":return[this.chunkKeyToStorageKey("models"),t(l)];case"query_states":case"internal_query_states":case"external_query_states":case"state_offset":case"event-source-id":return[this.chunkKeyToStorageKey("queries"),t(f)];case"enricher:geoip":return[this.chunkKeyToStorageKey("enrichers"),t(g)];case u.TWITTER_PIXEL_LS_KEY:case"identities":case"amp_ready":case"metricsEnabled":case"addon:tradedesk":case"addon:tracking_pixel":case"addon:eyeota_pixel":case"addon:pinterest_pixel":case"addon:facebook_pixel_v2":case"addon:appnexus":case"addon:ddp":case"addon:gigya":case"addon:neustar_fabrick":case"pubmatic":case"lotame":return[this.chunkKeyToStorageKey("misc"),t(h)];default:throw new Error(`Unhandled data key "${e}"`)}}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(this.prefix,...t)}}const l=["models_data","models_last_updated"],f=["query_states","internal_query_states","external_query_states","state_offset","event-source-id"],g=["enricher:geoip"],h=[u.TWITTER_PIXEL_LS_KEY,"identities","amp_ready","metricsEnabled","addon:tradedesk","addon:tracking_pixel","addon:eyeota_pixel","addon:pinterest_pixel","addon:facebook_pixel_v2","addon:appnexus","addon:ddp","addon:gigya","addon:neustar_fabrick","pubmatic","lotame"];var p=r(4769);const m=e=>{const{logger:t,consentTracking:r}=e,n=e=>(t.debug(`Data Store: Failed to write ${e} as consent is revoked`),s.F2(void 0));return e=>class extends e{constructor(){super(...arguments),this.writeData=(0,p.v)(super.writeData.bind(this),n,r.isRevoked)}}},b=(e,t,r,i)=>new((0,n.zG)(d,m({consentTracking:i,logger:r})))(e,t,r)},569:(e,t,r)=>{r.d(t,{L:()=>n});class n{constructor(e){this.config=e}getNamespacedStorageKey(e){return`${this.config.stateNamespace}${e}`}}},7575:(e,t,r)=>{r.d(t,{u:()=>n});class n{constructor(e,t){this.metrics=e,this.messages=t,this._isRealtime=!1,this._isReady=!1}isRealtime(){return this._isRealtime}isReady(){return this._isReady}setAsRealtime(e){this._isRealtime=!0,this.messages.emit("permutive:realtime"),this.metrics.trackTimeSinceInit("sdk_realtime_targeting_set_task_duration_seconds",{}),this.metrics.track({name:"sdk_user_segments_count",value:e,labels:{}})}setAsReady(){this._isReady=!0,this.messages.emit("permutive:ready"),this.metrics.trackTimeSinceInit("sdk_initialisation_task_duration_seconds",{}),window.performance&&window.performance.memory&&(this.metrics.track({name:"sdk_heap_memory_bytes_used",value:window.performance.memory.usedJSHeapSize,labels:{}}),this.metrics.track({name:"sdk_heap_memory_limit_fraction_used",value:window.performance.memory.usedJSHeapSize/window.performance.memory.jsHeapSizeLimit,labels:{}}))}}},7256:(e,t,r)=>{r.d(t,{a:()=>s});var n=r(655),i=r(3735),a=r(7927);class s{constructor(e,t,r,n,i,a,s){this.config=e,this.localStorage=t,this.logger=r,this.permutiveData=n,this.eventSourceId=i,this.cookies=a,this.externalData=s}reset(){return(0,n.mG)(this,void 0,void 0,(function*(){return this.logger.log("Resetting State"),(0,i.zG)(this.cookies.deleteCookie(this.config.cookieName),(e=>this.externalData.removeExternalData(this.config.cookieName)),(e=>(0,a.XP)({_paols:!0,_papns:!0,_pcrdbs:!0,_pcrprs:!0,_pdfps:!0,_pfws:!0,_pnativo:!0,_prps:!0,_prubicons:!0,_psegs:!0,_psmart:!0,"permutive-id":!0,"permutive-loaded":!0,"permutive-prebid-rtd":!0,"permutive-events-cache":!0,_pssps:!0}).forEach((e=>this.externalData.removeExternalData(e)))),(e=>this.permutiveData.reset()),(e=>this.eventSourceId.generateAndSet()),(e=>Promise.all([this.localStorage.delete(this.config.permutiveDataModelsKey),this.localStorage.delete(this.config.permutiveDataQueriesKey),this.localStorage.delete(this.config.permutiveDataEnrichersKey),this.localStorage.delete(this.config.permutiveDataMiscKey)])),i.Q1)}))}}},7274:(e,t,r)=>{r.d(t,{u:()=>n});class n{constructor(e,t,r,n,i){this.permutiveData=e,this.permutiveReset=t,this.userId=r,this.viewId=n,this.eventCollection=i}getPermutiveData(e){return this.permutiveData.getData(e)}setPermutiveData(e,t){return this.permutiveData.setData(e,t)}getStateSizeInBytes(){return this.permutiveData.getDataSize()+this.eventCollection.getStateSizeInBytes()}reset(){return this.permutiveReset.reset()}}},9117:(e,t,r)=>{r.d(t,{M:()=>o});var n=r(3735),i=r(6567),a=r(6054),s=r(2652);class o{constructor(e,t,r,i){this.config=e,this.clientContext=t,this.cookies=r,this.externalData=i;const[s,o]=a.Ue(this.getOrGenerateUserId());this.ref=s,this.setUserId=o,(0,n.zG)(s,a.YP((e=>{this.cookies.setCookie(this.config.cookieName,e,!0),this.externalData.setExternalData(this.config.cookieName,e),this.clientContext.updateContext(["user_id",e])})))}isEqual(e){return this.ref.current===e}get(){return this.ref.current}set(e){this.setUserId(e)}getOrGenerateUserId(){return(0,i.fS)((()=>(0,i.fS)(s.k$)(this.getUserIdFromLocalStorage())))(this.getUserIdFromCookie())}getUserIdFromCookie(){return this.getUserIdFromStorageIfValid("cookie")}getUserIdFromLocalStorage(){return this.getUserIdFromStorageIfValid("localStorage")}getUserIdFromStorageIfValid(e){const t=(0,i.DT)(s.Gz);return(0,n.zG)("cookie"===e?this.cookies.getCookie(this.config.cookieName):this.externalData.getExternalData(this.config.cookieName),i.ij,(0,i.tS)(t))}}},9880:(e,t,r)=>{r.d(t,{W:()=>a});var n=r(6054),i=r(2652);class a{constructor(e){this.config=e;const t=e.viewId&&(0,i.Gz)(e.viewId)?e.viewId:(0,i.k$)(),[r,a]=n.Ue(t);this.ref=r,this.set=a}get(){return this.ref.current}generateAndSet(){const e=(0,i.k$)();return this.set(e),e}}},7554:(e,t,r)=>{r.d(t,{E:()=>i});var n=r(8259);const i=(e,t,r)=>{const i=window.localStorage;return(0,n.rK)(i,"[Local Storage]",e,t,r)}},9332:(e,t,r)=>{r.d(t,{u:()=>i});r(6640);var n=r(8259);const i=(e,t,r)=>{const i=window.sessionStorage;return(0,n.rK)(i,"[Session Storage]",e,t,r)}},8259:(e,t,r)=>{r.d(t,{_z:()=>d,oP:()=>u,rK:()=>f});var n=r(655),i=r(2688),a=r(787),s=r(5e3),o=r(3735),c=r(4769);class u{constructor(e,t){this.storage=e,this.namespace=t}put(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){const r=this.namespace.getNamespacedStorageKey(t.toString());return this.storage.setItem(r,JSON.stringify(e)),t}))}get(e){return(0,n.mG)(this,void 0,void 0,(function*(){const t=this.namespace.getNamespacedStorageKey(e.toString()),r=this.storage.getItem(t);return null===r?null:(0,a.A)(r)}))}delete(e){return(0,n.mG)(this,void 0,void 0,(function*(){const t=this.namespace.getNamespacedStorageKey(e.toString());this.storage.removeItem(t)}))}deleteStore(){return(0,n.mG)(this,void 0,void 0,(function*(){}))}}const d=e=>{const{logger:t,consentTracking:r,prefix:n}=e,i=(e,r)=>(t.debug(`${n} Failed to write ${String(r)} as consent is revoked`),Promise.resolve(r));return e=>class extends e{constructor(){super(...arguments),this.put=(0,c.v)(super.put.bind(this),i,r.isRevoked)}}},l=e=>{const{logger:t,prefix:r,storage:a}=e;return e=>class extends e{constructor(){super(...arguments),this.isSupported=null}isStorageSupported(){return null!==this.isSupported||(this.isSupported=s.Y3((()=>{const e="_permutive_ls_test";return a.setItem(e,e),a.getItem(e),a.removeItem(e),!0}),i.w),(0,o.zG)(this.isSupported,s.EQ((e=>{t.warn(`${r} Is NOT supported`,e)}),(()=>{t.debug(`${r} Is supported`)})))),this.isSupported}put(e,t){const r=Object.create(null,{put:{get:()=>super.put}});return(0,n.mG)(this,void 0,void 0,(function*(){return(0,o.zG)(this.isStorageSupported(),s.EQ((e=>{throw e}),(()=>r.put.call(this,e,t))))}))}get(e){const t=Object.create(null,{get:{get:()=>super.get}});return(0,n.mG)(this,void 0,void 0,(function*(){return(0,o.zG)(this.isStorageSupported(),s.EQ((()=>null),(()=>t.get.call(this,e))))}))}delete(e){const t=Object.create(null,{delete:{get:()=>super.delete}});return(0,n.mG)(this,void 0,void 0,(function*(){return(0,o.zG)(this.isStorageSupported(),s.EQ(o.Q1,(()=>t.delete.call(this,e))))}))}deleteStore(){const e=Object.create(null,{deleteStore:{get:()=>super.deleteStore}});return(0,n.mG)(this,void 0,void 0,(function*(){return(0,o.zG)(this.isStorageSupported(),s.EQ(o.Q1,(()=>e.deleteStore.call(this))))}))}}},f=(e,t,r,n,i)=>new((0,o.zG)(u,l({logger:n,prefix:t,storage:e}),d({logger:n,consentTracking:i,prefix:t})))(e,r)},2497:(e,t,r)=>{r.d(t,{Ec:()=>s,_8:()=>a});var n=r(6567),i=r(2652);const a=e=>{const t=e.__tcfapi,r={type:"aborted"},a=["tcloaded","useractioncomplete"];return t?(0,i.a4)((()=>o(t,"getTCData")),(()=>o(t,"getTCData").then((e=>"loaded"===(null==e?void 0:e.cmpStatus)&&a.includes(null==e?void 0:e.eventStatus))))).then((0,n.g_)((()=>r),(e=>({type:"loaded",data:e})))):Promise.resolve({type:"missing"})},s=e=>e.gdprApplies?(0,n.G)(e.vendor.consents):n.YP,o=(e,t)=>new Promise((r=>{e(t,2,(e=>{r(e)}))}))},5165:(e,t,r)=>{r.d(t,{D:()=>n});const n={tradedesk:21,ddp:755,appnexus:32,pubmatic:76,neustar_fabrick:468}},6037:(e,t,r)=>{r.d(t,{C:()=>c});var n=r(655),i=r(1500),a=r(3735);const s=(o=[[{name:"dfp",import:Promise.resolve().then(r.bind(r,4388))}],[{name:"appnexus_adserver",import:Promise.resolve().then(r.bind(r,2721))}],[{name:"classification_models",import:Promise.resolve().then(r.bind(r,6320))}],[],[{name:"appnexus",import:Promise.resolve().then(r.bind(r,3994))}],[],[],[{name:"dbm",import:Promise.resolve().then(r.bind(r,8431))}],[{name:"ddp",import:Promise.resolve().then(r.bind(r,9319))}],[],[{name:"facebook_pixel_v2",import:Promise.resolve().then(r.bind(r,4519))}],[],[],[],[],[],[],[],[],[{name:"publishers",import:Promise.resolve().then(r.bind(r,713))}],[],[],[{name:"rubicon_ssp",import:Promise.resolve().then(r.bind(r,8563))}],[],[{name:"tracking_pixel",import:Promise.resolve().then(r.bind(r,3792))}],[],[{name:"twitter_pixel",import:Promise.resolve().then(r.bind(r,926))}],[{name:"web",import:Promise.resolve().then(r.bind(r,4400))}],[],[],[{name:"ssp",import:Promise.resolve().then(r.bind(r,9557))}]],(0,a.zG)((0,i.xH)(o),(0,i.u4)({},((e,t)=>Object.assign(Object.assign({},e),{[t.name]:t.import})))));var o;const c=e=>{const t=Object.entries(s).map((t=>{let[r,i]=t;return(0,n.mG)(void 0,void 0,void 0,(function*(){return e.logger.log(`Loading addon ${r}`),(yield i).load(e)}))}));return Promise.all(t)}},2721:(e,t,r)=>{r.r(t),r.d(t,{APPNEXUS_SEGMENTS_STORAGE_KEY:()=>i,AppNexusAdServerAddon:()=>c,load:()=>o});var n=r(2652);const i="_papns",a=()=>{try{return window.apntag.getTag()}catch(e){return{}}},s=e=>{try{return window.apntag.getTag(e)}catch(e){return}},o=e=>{if(e.q.push({functionName:"addon",arguments:["appnexus_adserver",{}]}),void 0!==window.apntag&&window.apntag.anq&&window.apntag.anq.push){e.permutive.ready((0,n.Z_)(e.api,e.userId,(()=>{let t=!1;const r=a();Object.keys(r).forEach((e=>{r[e].displayed&&(t=!0)}));const n=t?"sdk_targeting_realtime_fail_count":"sdk_targeting_realtime_success_count";e.metrics.track({name:n,value:1,labels:{target:"appnexus"}})})),"realtime");const t=function(e){return(Array.isArray(e)?e:[e]).map((e=>e.toString()))},r=function(e,r){const n=[];return(null==r?void 0:r.keywords)&&Object.keys(r.keywords).forEach((e=>{n.push({key:e,value:t(r.keywords[e])})})),{slot:{target_id:e.targetId,tag_id:e.tagId,height:e.height,width:e.width,targeting:n},ad:{type:e.adType,source:e.source,creative_id:e.creativeId,auction_id:e.auctionId,buyer_member_id:e.buyerMemberId,brand_category_id:e.brandCategoryId,media_type_id:e.mediaTypeId,media_sub_type_id:e.mediaSubType}}},i=function(t,r){var n,i,a,s;const o=(null==t?void 0:t.utiframeId)||(null==t?void 0:t.targetId);if(o){let t=!1;window.addEventListener("blur",(function(){t&&e.permutive.track("AppNexusAdClick",r)})),null===(i=null===(n=null===document||void 0===document?void 0:document.getElementById)||void 0===n?void 0:n.call(document,o))||void 0===i||i.addEventListener("mouseover",(function(){t=!0})),null===(s=null===(a=null===document||void 0===document?void 0:document.getElementById)||void 0===a?void 0:a.call(document,o))||void 0===s||s.addEventListener("mouseout",(function(){t=!1}))}};window.__permutive=window.__permutive||{},window.__permutive.appnexusEvents=window.__permutive.appnexusEvents||[],window.__permutive.appnexusEvents.forEach((function(t){if("adLoaded"==t.eventType&&t.arg){const n=t.arg,a=s(n.targetId),o=r(n,a);e.permutive.track("AppNexusAdImpression",o),i(a,o)}})),window.apntag.anq.push((function(){window.apntag.onEvent("adLoaded",(t=>{if(t){const n=s(t.targetId),a=r(t,n);e.permutive.track("AppNexusAdImpression",a),i(n,a)}}))}))}};class c{constructor(e){this.options=e,this.segments={cloudCohorts:[],live:[]},this.eligibleSegments={},this.logger=e.logger,this.userId=e.userId,this.api=e.api,this.activationManager=e.activationManager,this.externalData=e.externalData,this.segments=this.initSegments(e.externalData,e.nextGenOutput.cloudCohorts.xandrSsp.current),this.eligibleSegments={};const t=this.activationManager.getSpecializedActivations("appnexus_adserver");for(let e=0;e<t.length;e++){const r=t[e];this.eligibleSegments[r]=1}const r=this.options.nextGenOutput.queryLanguageCohorts.all;if(this.updateSegments(this.filterSegments(r.current)),window.apntag&&window.apntag.anq&&window.apntag.anq.push){const e=this;window.apntag.anq.push((function(){const t=window.apntag.defineTag;window.apntag.defineTag=function(i){t(i),(0,n.Z_)(e.api,e.userId,(function(){if(i.targetId){const t=r.current;e.updateSegments(e.filterSegments(t),i.targetId)}}))()}}))}r.onChange((0,n.Z_)(this.api,this.userId,(e=>this.updateIfNecessary(e)))),e.nextGenOutput.cloudCohorts.xandrSsp.onChange((e=>{this.logger.debug("[appnexus] received updated cloud cohorts"),this.segments.cloudCohorts=[...e],this.updateSegments(this.segments.live)}))}get liveSegments(){return this.segments.live}initSegments(e,t){var r;return{cloudCohorts:[...t],live:null!==(r=this.externalData.getExternalJsonData(i))&&void 0!==r?r:[]}}cacheAppnexusSegments(e){const t=JSON.stringify(e);this.externalData.setExternalData(i,t)}updateIfNecessary(e){const t=this.filterSegments(e);(0,n.cO)(t,this.segments.live)||this.updateSegments(t)}updateSegments(e,t){window.apntag&&window.apntag.anq&&window.apntag.anq.push&&window.apntag.anq.push((()=>{const r={permutive:[...e,...this.segments.cloudCohorts,"rts"]};t?window.apntag.setKeywords(t,r,{overrideKeyValue:!0}):Object.keys(a()).forEach((e=>window.apntag.setKeywords(e,r,{overrideKeyValue:!0})))})),this.cacheAppnexusSegments(e),this.segments.live=e,this.logger.debug("Appnexus live segments updated to",this.segments.live)}filterSegments(e){return e.filter((e=>e in this.eligibleSegments))}}},9658:(e,t,r)=>{r.r(t),r.d(t,{createAddon:()=>E,getCachedDFPSegments:()=>w});var n=r(655),i=r(2688),a=r(5e3),s=r(3735),o=r(6567),c=r(6054),u=r(9853),d=r(2652);const l="_pdfps";r(5700);var f=r(1500),g=r(2751);let h=!1;let p=null;const m=(e,t)=>{const{logger:r}=t;(0,s.zG)(e,o.UI((e=>{!0!==h&&e.pubadsReady&&(null!=p||(p=n=>{let{slot:i}=n;const{getContentUrl:a}=i;if(!a||"function"!=typeof a)return;(0,s.zG)(a(),(0,g.pn)("&trunc=1"))&&(r.debug("DFP content URL has been truncated!"),(e=>{let{metrics:t,logger:r}=e;h||(t.track({name:"sdk_targeting_size_limit_exceeded_count",value:1,labels:{target:"dfp"}}),h=!0,r.debug("DFP has exceeded targeting limit"))})(t),p&&e.pubads().removeEventListener("slotRenderEnded",p),p=null)}),e.pubads().addEventListener("slotRenderEnded",p))})))},b=(e,t,r,n)=>{const{logger:i}=t;m(e,t);(0,s.zG)(e,o.UI((e=>(e=>{e.cmd.push((()=>{const{getTargeting:t,setTargeting:a}=e.pubads(),s=t("permutive")||[],o=Object.values(r.eligibleSegments).map(String).concat(r.cloudCohorts).concat("rts"),c=(0,f.uK)((e=>o.includes(e))),{left:u}=c(s),d=n.concat(u).concat("rts");i.debug("DFP setting GPT targeting to",d),a("permutive",d)}))})(e))))};var _=r(4388);const v={liveSegments:[],cloudCohorts:[],eligibleSegments:{}},y={segments:v,getGAMKeyValues:()=>({permutive:""})},w=e=>e.getExternalJsonData(l)||[],k=(e,t,r)=>{const{logger:n,externalData:a,api:s}=t;let o=r.map(String).concat(v.cloudCohorts);n.debug("DFP is updating with targeting values",o),b(e,t,v,o);try{a.setExternalJsonData(l,o)}catch(e){const t=(0,i.w)(e),r="DFP failed to set data. Got:";n.error(r,t),s.reportError(`${r} ${t.message}`)}return((e,t)=>{let{api:r,logger:n}=e;(0,u.$S)("sync_segments_cookie",!1)?(n.debug("DFP syncing segment cookie _pdfps"),r.segmentSync({key:l,value:t})):n.debug("DFP sync segments cookie not enabled, skipping sync")})(t,JSON.stringify(o)),n.debug("DFP live segments updated to",r),r},E=e=>(0,n.mG)(void 0,void 0,void 0,(function*(){const{api:t,logger:r,activationManager:n,messages:i,externalData:u,nextGenOutput:f,userId:g,cookies:h}=e,p=yield(0,d.a4)((()=>window.googletag),(()=>!!window.googletag),{waitTimeInMs:10,maxAttempts:200,exponentialBackOff:!1});o.Wi(p)&&r.error("[DFP]: unable to find google tag script on the page"),(0,s.zG)(p,o.UI((e=>(e=>e.cmd.push((()=>e.pubads().setTargeting("prmtvsdk","web"))))(e))));y.getGAMKeyValues=()=>Object.assign(Object.assign({},(0,s.zG)((0,_.generateProjectSpecificKVs)(e),a.Vn((e=>{var r;return r=e,t.reportError(`[DFP] ${r}`,g.get()),e})),a.fS((()=>({}))))),{permutive:y.segments.liveSegments.join(",")}),v.eligibleSegments=(e=>{const t=e.getSpecializedActivations("dfp"),r={};for(const e of t.dfp)r[e]=e;for(const e of Object.keys(t.dfp_legacy)){const n=Number(e);r[n]=t.dfp_legacy[n]}return r})(n);const m=(0,s.zG)(f.queryLanguageCohorts.all,c.UI((e=>(r.debug("DFP received QL segments",{qlSegments:e}),((e,t)=>e.filter((e=>e in t)).map((e=>t[e])))(e,v.eligibleSegments)))),c.D8(d.cO));return(0,s.zG)(c.vP(m,f.cloudCohorts.gam),c.YP((0,d.Z_)(t,g,(t=>{let[n,i]=t;r.debug("DFP received updated cohorts",{filteredQlSegments:n,cloudCohorts:i}),v.cloudCohorts=i,v.liveSegments=k(p,e,n)})))),r.debug("DFP initialised with segments",v),i.on("permutive:reset",(0,d.Z_)(t,g,(()=>{r.debug("DFP received 'permutive:reset' event"),u.removeExternalData(l),h.deleteCookie(l)}))),i.emit("permutive:dfp:ready"),y}))},4388:(e,t,r)=>{r.r(t),r.d(t,{generateProjectSpecificKVs:()=>S,load:()=>d});var n=r(2688),i=r(5e3),a=r(3735),s=r(922),o=r(2652),c=r(9658);const u={},d=e=>{e.q.push({functionName:"addon",arguments:["dfp",{}]});window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((()=>l(e)))},l=e=>{e.permutive.ready((0,o.Z_)(e.api,e.userId,(()=>y(e.metrics))),"realtime");w(e.externalData);(0,a.zG)(S(e),i.tS((e=>i.Y3((()=>(0,o.qh)(e).forEach((e=>{let[t,r]=e;googletag.pubads().setTargeting(t,r)}))),n.w))),i.Vn((t=>e.api.reportError(`[DFP:load], ${t}`,e.userId.get())))),m(e.permutive),googletag.cmd.push((()=>{b(e.permutive),_(e.permutive)})),window.addEventListener("message",g(e.permutive),!1)},f=e=>{let{advertiserId:t,campaignId:r,lineItemId:n,creativeId:i}=e;return{advertiser_id:(0,o.jn)(t),campaign_id:(0,o.jn)(r),line_item_id:(0,o.jn)(n),creative_id:(0,o.jn)(i)}},g=e=>t=>{var r;try{const n=JSON.parse(t.data);if(!n.permutive_type||"google_ad_click"!==n.permutive_type)return;const{ad_unit_path:i,creative_id:a,advertiser_id:s,order_id:o,line_item_id:c}=null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{},d=f({lineItemId:c,advertiserId:s,campaignId:o,creativeId:a});let l;Object.keys(u).some((e=>{const{slot:t,creative_id:r}=u[e];if((null==t?void 0:t.ad_unit_path)===i&&r===d.creative_id)return l=u[e],!0})),l=null!=l?l:Object.assign(Object.assign({},d),{is_empty:!1}),h(e,l)}catch(e){}},h=(e,t)=>{s.PH&&t&&e.track("SlotClicked",t)},p=(e,t,r)=>{u[t]=r,v(e,r),E(e,t)},m=e=>{const t=googletag.pubadsReady&&googletag.pubads().getSlots();t&&t.forEach((t=>{const r=t.getResponseInformation();if(!r)return;const n=Object.assign(Object.assign({},f(r)),{is_empty:!1,service_name:"publisher_ads",slot:k(t)}),i=t.getSlotElementId();p(e,i,n)}))},b=e=>{googletag.pubads().addEventListener("slotRenderEnded",(t=>{const r=Object.assign(Object.assign({},f(t)),{is_empty:t.isEmpty,service_name:t.serviceName,slot:k(t.slot)});if(t.size){const[e,n]=t.size;"number"==typeof e&&"number"==typeof n&&(r.width=e,r.height=n)}const n=t.slot.getSlotElementId();p(e,n,r)}))},_=e=>{s.EW&&googletag.pubads().addEventListener("impressionViewable",(t=>{let{slot:r,serviceName:n}=t;const i=r.getResponseInformation();if(!i)return;const a=Object.assign(Object.assign({},f(i)),{service_name:n,slot:k(r)});e.track("SlotViewable",a)}))},v=(e,t)=>{if(!s.CL)return;var r;r=Object.assign(Object.assign({},t),{rendered_timestamp:Date.now()}),e.track("SlotRendered",r)},y=e=>{let t=0;const r=googletag.pubadsReady&&googletag.pubads().getSlots();r&&r.forEach((e=>e.getResponseInformation()&&t++));const n=0===t?"sdk_targeting_realtime_success_count":"sdk_targeting_realtime_fail_count";e.track({name:n,value:1,labels:{target:"dfp"}})},w=e=>{const t=(0,c.getCachedDFPSegments)(e);googletag.cmd.push((()=>{const{getTargeting:e,setTargeting:r}=googletag.pubads(),n=e("permutive")||[];r("permutive",[...new Set([...t.map(String),...n])])}))},k=e=>{const t={ad_unit_path:e.getAdUnitPath(),slot_element_id:e.getSlotElementId()};return s.jH?Object.assign(Object.assign({},t),(()=>{const t={},r=[];let n=[];const i=(e,i)=>{const a="slot"===e?e=>t[e]=1:()=>{},s=i.getTargetingKeys();n=s;for(let s=0;s<n.length;s++){const o=n[s];if(void 0!==t[o]&&"service"===e)continue;const c=[],u=i.getTargeting(o);for(let e=0;e<u.length;e++)c.push(u[e].toString());c.length>0&&(a(o),r.push({key:o,value:c}))}};return i("slot",e),i("service",googletag.pubads()),{targeting_keys:r}})()):t},E=(e,t)=>{let r=!1;const n=()=>{r&&"hidden"===document.visibilityState&&h(e,u[t])},i=()=>{r=!0},a=()=>{r=!1};try{document.addEventListener("visibilitychange",n);const e=document.getElementById(t);e&&(e.addEventListener("mouseover",i),e.addEventListener("mouseout",a))}catch(e){}},S=e=>{let{userId:t,viewId:r}=e;return i.Y3((()=>({})),n.w)}},8431:(e,t,r)=>{r.r(t),r.d(t,{load:()=>n});const n=e=>{e.q.push({functionName:"addon",arguments:["dbm",{}]})}},9319:(e,t,r)=>{r.r(t),r.d(t,{DDPPixel:()=>s,load:()=>o});var n=r(655);class i{constructor(e,t,r){this.options=e,this.storageKey=t,this.syncTimeoutSeconds=r,this.sendPixel()}sendPixel(){const e=this.options.permutiveData.getData(this.storageKey);e&&!this.isExpired(e)||this.makeUrl(this.options.config.apiKey,this.options.state.userId.get()).then((e=>{this.fire(e),this.options.permutiveData.setData(this.storageKey,(new Date).getTime())}))}fire(e){(new Image).src=e}isExpired(e){return isNaN(e)||(new Date).getTime()>e+1e3*this.syncTimeoutSeconds}}const a=("https:"===location.protocol?"https:":"http:")+"//cm.g.doubleclick.net/pixel?google_nid=permutive_dmp&google_cm&type=ddp&k=";class s extends i{constructor(e){super(e,"addon:ddp",86400)}makeUrl(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){return a+e+"&u="+t}))}}const o=()=>{}},2460:(e,t,r)=>{r.d(t,{i:()=>n});class n{constructor(e,t){this.isFirstRun=void 0===e.permutiveData.getData(t),this.cachedSegmentsMembership=new Set(e.nextGenOutput.queryLanguageCohorts.all.current),this.isFirstRun&&e.permutiveData.setData(t,!0),e.messages.on("permutive:reset",(()=>e.permutiveData.setData(t,!1)))}}},3994:(e,t,r)=>{r.r(t),r.d(t,{AppnexusPixel:()=>a,load:()=>s});var n=r(2460);class i extends n.i{constructor(e,t,r){super(e,r);const n=e.activationManager.getSpecializedActivations(t);this.processSpecialisedActivations(e.permutive,n)}}class a extends i{constructor(e){super(e,"appnexus","addon:appnexus")}processSpecialisedActivations(e,t){Object.entries(t).forEach((t=>{let[r,n]=t;const i=parseInt(r),a=this.cachedSegmentsMembership.has(i);this.isFirstRun&&a?this.firePixel(n):e.trigger(i,"",(e=>{e.result&&this.firePixel(n)}))}))}firePixel(e){(new Image).src=`https://secure.adnxs.com/seg?add=${e}&t=1`}}const s=e=>{e.q.push({functionName:"addon",arguments:["appnexus",{}]})}},4519:(e,t,r)=>{r.r(t),r.d(t,{FacebookV2Pixel:()=>s,load:()=>o});var n=r(2652),i=r(2460);class a extends i.i{constructor(e,t,r){super(e,r);e.activationManager.getActivations(t).forEach((t=>{const r=t.getSegmentCode(),n=this.cachedSegmentsMembership.has(r);this.isFirstRun&&n?this.fire(t,n):e.permutive.trigger(r,"",(e=>{this.fire(t,e.result)}))}))}}class s extends a{constructor(e){super(e,"facebook_pixel_v2","addon:facebook_pixel_v2")}fire(e,t){fbq("trackCustom",!0===t?"PermutiveSegmentEntry":"PermutiveSegmentExit",{segment_id:e.getSegmentCode()}),e.trackImpression()}}const o=e=>{(0,n.a4)((()=>e.permutive.addon("facebook_pixel_v2",{})),(()=>"undefined"!=typeof fbq),{waitTimeInMs:1e3,maxAttempts:3})}},713:(e,t,r)=>{r.r(t),r.d(t,{PublishersAddon:()=>a,load:()=>i});var n=r(2652);const i=()=>{};class a{constructor(e){this.totalCompletion=0,this.permutive=e.permutive,this.options=e,this.eventInterval=e.eventInterval||5,this.documentId=e.documentId||null,this.article=e.article||null,this.addAlchemyTaxonomy=!0,this.addAlchemyEntities=!1,this.sendPageviewEvent();{this.dirtyState=!1;const t=()=>{this.dirtyState=!0};(e.dirtyEvents||["mousemove","click","scroll"]).map((function(e){window.addEventListener(e,t)}))}this.timerHandle=setInterval(this.sendEngagementEvent(this.eventInterval,this.getCompletion),1e3*this.eventInterval)}reset(e){this.options.viewId.generateAndSet(),this.documentId=e.documentId||null,this.article=e.article||null,this.totalCompletion=0,clearInterval(this.timerHandle),this.sendPageviewEvent(),this.timerHandle=setInterval(this.sendEngagementEvent(this.eventInterval,this.getCompletion),1e3*this.eventInterval)}sendPageviewEvent(){let e;const t={isp_info:"$ip_isp_info",geo_info:"$ip_geo_info"};null!==this.documentId&&(t.$document=this.documentId,(this.addAlchemyTaxonomy||this.addAlchemyEntities)&&(e={},this.addAlchemyTaxonomy&&(e.taxonomy_labels="$alchemy_taxonomy_labels"),this.addAlchemyEntities&&(e.entity_names="$alchemy_entity_names"),t.alchemy=e)),null!==this.article&&(t.article=this.article,(this.addAlchemyTaxonomy||this.addAlchemyEntities)&&(e={},this.addAlchemyTaxonomy&&(e.taxonomy_labels="$alchemy_taxonomy_labels"),this.addAlchemyEntities&&(e.entity_names="$alchemy_entity_names"),t.article.alchemy=e)),this.permutive.track("Pageview",t)}getCompletion(){const e=document.documentElement.scrollHeight,t=window.pageYOffset+window.innerHeight;return t<=0?0:t>=e?1:t/e}sendEngagementEvent(e,t){const r=this;return(0,n.Z_)(this.options.api,this.options.userId,(()=>{if(r.dirtyState){const n={engaged_time:e};{const e=Math.max(r.totalCompletion,t());n.completion=e-r.totalCompletion,r.totalCompletion=e,r.dirtyState=!1}this.permutive.track("PageviewEngagement",n)}}))}}},8563:(e,t,r)=>{r.r(t),r.d(t,{RubiconSspAddon:()=>c,load:()=>o});var n=r(3735),i=r(2652),a=r(6054);const s="_prubicons",o=e=>{e.q.push({functionName:"addon",arguments:["rubicon_ssp",{}]})};class c{constructor(e){this.options=e,this.liveSegments=[],this.eligibleSegments={},this.liveSegments=e.externalData.getExternalJsonData(s)||[];const t=this.options.activationManager.getSpecializedActivations("rubicon_ssp");for(let e=0;e<t.length;e++)this.eligibleSegments[t[e]]=!0;(0,n.zG)(e.nextGenOutput.queryLanguageCohorts.all,a.YP((e=>this.updateIfNecessary(e))))}updateIfNecessary(e){const t=this.filterSegments(e);(0,i.cO)(t,this.liveSegments)||this.options.externalData.setExternalJsonData(s,t),this.liveSegments=t}filterSegments(e){return e.filter((e=>e in this.eligibleSegments))}}},3792:(e,t,r)=>{r.r(t),r.d(t,{PixelAddon:()=>a,load:()=>i});var n=r(2652);const i=e=>{e.q.push({functionName:"addon",arguments:["tracking_pixel",{}]})};class a{constructor(e){const t=this;this.options=e,this.latestStateByDomain=this.options.permutiveData.getData("addon:tracking_pixel")||{},this.activations=this.options.activationManager.getActivations("tracking_pixel");const r=0===Object.keys(this.latestStateByDomain).length;this.eligibleSegmentsForEntries={},this.eligibleSegmentsForExits={};for(let e=0;e<this.activations.length;e++){const t=this.activations[e],r=t.getTriggerType(),n=t.getSegmentCode(),i=t.getConfig().pixel_url,a=this.extractPixelType(i);"OnEntry"===r?(a in this.eligibleSegmentsForEntries||(this.eligibleSegmentsForEntries[a]={}),this.eligibleSegmentsForEntries[a][n]=t):"OnExit"===r&&(a in this.eligibleSegmentsForExits||(this.eligibleSegmentsForExits[a]={}),this.eligibleSegmentsForExits[a][n]=t)}const i=e.nextGenOutput.queryLanguageCohorts.all;r&&(0,n.Z_)(e.api,e.userId,(()=>this.firePixelsIfNecessary(i.current))),i.onChange((0,n.Z_)(e.api,e.userId,(e=>t.firePixelsIfNecessary(e))))}extractPixelType(e){return e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0]}firePixelsIfNecessary(e){const t=Object.keys(Object.assign(Object.assign({},this.eligibleSegmentsForEntries),this.eligibleSegmentsForExits)),r={},n=this.eligibleSegmentsForEntries,i=this.eligibleSegmentsForExits;t.forEach((t=>{r[t]=r[t]||[];for(let a=0;a<e.length;a++){const s=e[a];(n[t]&&n[t][s]||i[t]&&i[t][s])&&r[t].push(e[a])}})),t.forEach((e=>{const t=r[e]||[],a=Array.isArray(this.latestStateByDomain[e])?this.latestStateByDomain[e]:[];for(let r=0;r<t.length;r++){const i=t[r];if(-1===a.indexOf(i)){const t=n[e]&&n[e][i];"OnEntry"===(null==t?void 0:t.getTriggerType())&&this.firePixel(t)}}for(let r=0;r<a.length;r++){const n=a[r];if(-1===t.indexOf(n)){const t=i[e]&&i[e][n];"OnExit"===(null==t?void 0:t.getTriggerType())&&this.firePixel(t)}}})),this.latestStateByDomain=r,this.options.state.setPermutiveData("addon:tracking_pixel",this.latestStateByDomain)}firePixel(e){(new Image).src=e.getConfig().pixel_url,e.trackImpression()}}},4400:(e,t,r)=>{r.r(t),r.d(t,{WebAddon:()=>S,load:()=>E});var n=r(655),i=r(2688),a=r(5e3),s=r(3735),o=r(4011),c=r(6567),u=r(7209),d=r(6341),l=r(922),f=r(2652),g=r(9853);const h=(0,g.MU)("add_alchemy_entities",!1),p=(0,g.MU)("add_alchemy_taxonomy",!1);function m(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object.assign(Object.assign(Object.assign({},e&&p?{taxonomy_labels:"$alchemy_taxonomy_labels"}:{}),e&&h?{entity_names:"$alchemy_entity_names"}:{}),{classifications_watson:{taxonomy_labels:"$taxonomy_labels"}})}function b(e,t,r,n){const i=Object.assign(Object.assign(Object.assign({isp_info:"$ip_isp_info",geo_info:"$ip_geo_info"},{}),e),t);r.track("Pageview",i).then((e=>{e&&n.emit("permutive:event:pageview",e)}))}function _(e,t,r,n,i,a){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:c.YP;const u=v(e,t,r,n,i),d=(0,c.fS)((()=>null))(o);let l={useBeacon:s};null!==d&&(l=Object.assign(Object.assign({},l),{unprocessedData:d})),a.track("PageviewComplete",u,l)}function v(e,t,r,n,i){return Object.assign(Object.assign(Object.assign({isp_info:"$ip_isp_info",geo_info:"$ip_geo_info"},n),r),{aggregations:Object.assign({PageviewEngagement:Object.assign({engaged_time:e},l.UW?{completion:t}:{})},l.ED?{SegmentEntry:Array.from(i.segmentEntryQueryCodes),SegmentExit:Array.from(i.segmentExitQueryCodes),CohortEntry:Array.from(i.cohortEntryQueryCodes),CohortExit:Array.from(i.cohortExitQueryCodes)}:{})})}const y=["mousemove","click","scroll"],w=["email","tel","submit","reset","button","file","password","radio","checkbox"],k=["email","e-mail","password","tel","telephone","phone","name_first","name_last","sa_zip"],E=e=>{0};class S{constructor(e){this.dirtyState=!1,this.timerHandle=void 0,this.totalCompletion=0,this.totalEngagedTime=0,this.pageviewCompleteTimeoutHandle=void 0,this.hasPageviewCompleteFired=!1,this.cleanupPageEngagementDetection=s.Q1,this.permutive=e.permutive,this.options=e,this.api=e.api,this.clientContext=e.clientContext,this.logger=e.logger,this.unprocessedPVC=e.unprocessedEvents.PageviewComplete,this.options.customProperties.overrideCustomProps(e.page||{});this.pageEngagementDetected=(()=>{this.dirtyState=!0,l.Uy&&this.resetTimeout()}).bind(this),b(m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.permutive,this.options.messages),this.enablePageEngagementDetection(),"loading"!==document.readyState?this.attachListeners():window.addEventListener("DOMContentLoaded",this.attachListeners.bind(this),!1),l.t2&&(this.timerHandle=this.registerEngagementInterval(this.getEventInterval())),l.Uy&&(this.setPageviewCompleteTimeout(l.MU),(0,f.aq)((()=>{this.hasPageviewCompleteFired||_(this.totalEngagedTime,this.totalCompletion,m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager,this.permutive)})))}sendLinkClickEvent(e,t){if(window.location.href&&e.href){const r=0===e.href.indexOf("data:")?"NOT_URL":e.href;this.permutive.track("LinkClick",{dest_url:r},{useBeacon:t})}}sendFormSubmissionEvent(e){{const t=e.currentTarget,r={form:Object.assign(Object.assign(Object.assign({method:t.method||"GET",properties:this.serializeForm(t)},"string"==typeof t.id?{id:t.id}:{}),t.name&&"string"==typeof t.name?{name:t.name}:{}),t.action&&"string"==typeof t.action?{action:t.action}:{})};this.permutive.track("FormSubmission",r)}}trackEngagementInterval(e){return(0,n.mG)(this,void 0,void 0,(function*(){const t=this.updateState(e);!function(e,t,r,n,i,a){const s=Object.assign(Object.assign({isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",engaged_time:e,total_engaged_time:t},i),{completion:r,total_completion:n});a.track("PageviewEngagement",s)}(t.engaged_time,t.total_engaged_time,t.completion,t.total_completion,this.options.customProperties.getCustomProps(),this.permutive),this.hasPageviewCompleteFired||(yield function(e,t,r,n,i,a,s,o,c){const u=v(e,t,s,o,c);return i.then((e=>{const t={props:u,sessionId:r,viewId:n,client:e};a.put(t)}))}(this.totalEngagedTime,this.totalCompletion,this.options.sessionManager.getSessionId(),this.options.viewId.get(),this.clientContext.getClient(),this.unprocessedPVC,m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager))}))}reset(e){var t;return(0,n.mG)(this,void 0,void 0,(function*(){if(this.disablePageEngagementDetection(),l.Uy){const e=yield this.unprocessedPVC.getIfPresent();this.hasPageviewCompleteFired=!1,_(this.totalEngagedTime,this.totalCompletion,m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager,this.permutive,!1,e)}this.dirtyState=!1,this.options.state.viewId.generateAndSet(),this.totalCompletion=0,this.totalEngagedTime=0,this.updateWebOptions(e),this.options.customProperties.overrideCustomProps(this.options.page||{}),this.enablePageEngagementDetection();const r={logger:this.logger,config:Object.assign(Object.assign({},this.options.config),{watson:null!==(t=this.options.watson)&&void 0!==t?t:this.options.config.watson}),clientContext:this.clientContext,api:this.api,permutiveData:this.options.permutiveData,metrics:this.options.metrics,sessionManager:this.options.sessionManager,enrichers:this.options.enrichers,network:this.options.network};(0,d.H)(r)().then((()=>{b(m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.permutive,this.options.messages),l.t2&&(clearInterval(this.timerHandle),this.timerHandle=this.registerEngagementInterval(this.getEventInterval()))}))}))}serializeForm(e){return[...e.getElementsByTagName("input")].filter((e=>!(!e.type||!e.id||e.disabled||e.checked||"fieldset"===e.nodeName.toLowerCase()||-1!==w.indexOf(e.type.toLowerCase())||-1!==k.indexOf(e.name.toLowerCase())))).map((e=>({name:e.name||e.id,value:e.value}))).filter((e=>e.value.length<120))}registerEngagementInterval(e){return setInterval((()=>{this.dirtyState&&this.trackEngagementInterval(e)}),1e3*e)}attachListeners(){const e=e=>"a"===e.tagName.toLowerCase(),t=e=>e instanceof Element,r=t=>e(t)?(0,c.G)(t):t.parentElement?e(t.parentElement)?(0,c.G)(t.parentElement):r(t.parentElement):c.YP;l.eV&&[].slice.call(document.getElementsByTagName("form"),0).forEach((e=>e.addEventListener("submit",(0,s.ls)(c.DT(this.canTrackPermutiveEvent("FormSubmission")),c.UI((0,f.Z_)(this.options.api,this.options.userId,this.sendFormSubmissionEvent.bind(this))))))),l.qr&&document.body.addEventListener("click",(0,s.ls)(c.DT(this.canTrackPermutiveEvent("LinkClick")),c.UI((e=>({event:e,anchor:(0,s.zG)(e.target,c.ij,c.tS(c.DT(t)),c.tS(r))}))),c.DZ((e=>{let{event:t,anchor:r}=e;return c.pC(r)?c.G({event:t,anchor:r.value}):c.YP})),c.UI((e=>{let{event:t,anchor:r}=e;return this.sendLinkClickEvent(r,(n=t,!("_blank"===r.target||n.metaKey||n.ctrlKey||n.shiftKey||2===n.which||3===n.which)));var n}))),{capture:!0})}updateState(e){const t=Math.max(this.totalCompletion,this.getCurrentCompletion()),r=t-this.totalCompletion;return this.totalEngagedTime+=e,this.totalCompletion=t,this.dirtyState=!1,{engaged_time:e,total_engaged_time:this.totalEngagedTime,completion:r,total_completion:this.totalCompletion}}getCurrentCompletion(){if("function"==typeof this.options.getPageCompletion)return(0,s.zG)((0,a.Y3)((0,s.ls)(this.options.getPageCompletion,Number,(e=>isNaN(e)?0:e),(0,u.uZ)(o.Df)(0,1)),i.w),(0,a.EQ)((e=>(this.logger.warn("Web: invoking getPageCompletion threw an error. Got",e),0)),(e=>(this.logger.debug("Web: invoking getPageCompletion returned",e),e))));return(()=>{const e=document.documentElement.scrollHeight,t=window.pageYOffset+window.innerHeight;return t<=0?0:t>=e?1:t/e})()}setPageviewCompleteTimeout(e){return window.setTimeout((()=>{this.hasPageviewCompleteFired||(_(this.totalEngagedTime,this.totalCompletion,m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager,this.permutive,!1),this.hasPageviewCompleteFired=!0)}),e)}resetTimeout(){clearTimeout(this.pageviewCompleteTimeoutHandle),this.pageviewCompleteTimeoutHandle=this.setPageviewCompleteTimeout(l.MU)}registerPageEngagementCleanup(e){"function"==typeof e?this.cleanupPageEngagementDetection=()=>(0,a.Y3)((()=>{e(),this.cleanupPageEngagementDetection=s.Q1}),(e=>this.logger.warn("Page detection cleanup threw an error",(0,i.w)(e)))):this.logger.warn("No page detection cleanup was registered")}enablePageEngagementDetection(){this.options.addPageEngagementDetection&&(0,s.zG)(this.options.addPageEngagementDetection(this.pageEngagementDetected),(e=>this.registerPageEngagementCleanup(e))),this.setDirtyEventListenersTo(!0,this.getDirtyEvents())}disablePageEngagementDetection(){this.cleanupPageEngagementDetection(),this.setDirtyEventListenersTo(!1,this.getDirtyEvents())}setDirtyEventListenersTo(e,t){const r=e?window.addEventListener:window.removeEventListener;return t.forEach((e=>r(e,this.pageEngagementDetected))),null}getDirtyEvents(){return this.options.dirtyEvents||y}getEventInterval(){return this.options.eventInterval||5}canTrackPermutiveEvent(e){return t=>{var r,n;return(0,s.zG)(null===(n=null===(r=this.options)||void 0===r?void 0:r.filterPermutiveEvent)||void 0===n?void 0:n[e],c.DT((e=>"function"==typeof e)),c.tS((0,s.ls)((e=>a.Y3((()=>e(t)),(e=>new Error(`Threw an unexpected error: ${(0,i.w)(e)}`)))),a.tS(a.DT((e=>"boolean"==typeof e),(()=>new Error("Did not return a boolean")))),(0,f.bw)(a.Vn((t=>this.logger.error(`Filter predicate for "${e}" event failed`,t)))),c.Uo)),c.fS((()=>!0)))}}updateWebOptions(e){e.watson&&"object"==typeof e.watson&&"enabled"in e.watson&&"boolean"==typeof e.watson.enabled||delete e.watson,"object"==typeof e.filterPermutiveEvent&&null!==e.filterPermutiveEvent||delete e.filterPermutiveEvent;const t={addPageEngagementDetection:void 0,dirtyEvents:void 0,eventInterval:void 0,filterPermutiveEvent:void 0,getPageCompletion:void 0,page:void 0,watson:void 0};return this.options=Object.assign(Object.assign(Object.assign({},this.options),t),e)}}},9078:(e,t,r)=>{r.d(t,{a:()=>n});class n{constructor(e){var t;this.messages=e,this.handlers={},this.messageQueue={};null===(t=window.addEventListener)||void 0===t||t.call(window,"message",(e=>{var t;"permutive"===(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.origin)&&this.handle(e)}),!1),this.messages.once("permutive:api:ready",(function(){var e;null===(e=window.postMessage)||void 0===e||e.call(window,{origin:"permutive",type:"sdk-init"},"*")}))}listen(e,t){if(e in this.handlers||(this.handlers[e]=[]),this.handlers[e].push(t),e in this.messageQueue){const t=this.messageQueue[e];if(void 0===t)return;for(let e=0;e<t.length;e++){const r=t[e];this.handle(r)}}}handle(e){var t,r,n;if(e.data.type in this.handlers)this.handlers[e.data.type].forEach((t=>{t(e)}));else{(null!==(t=(r=this.messageQueue)[n=e.data.type])&&void 0!==t?t:r[n]=[]).push(e)}}}},533:(e,t,r)=>{r.d(t,{o:()=>n,s:()=>i});class n extends Error{constructor(){super(n.defaultMessage),this.name=n.errorName}static get defaultMessage(){return"Network request failed"}}n.errorName="NetworkRequestFailedError";class i extends Error{constructor(){super(i.defaultMessage),this.name=i.errorName}static get defaultMessage(){return"Network request timed out"}}i.errorName="NetworkRequestTimeoutError"},7423:(e,t,r)=>{r.d(t,{F:()=>d});var n=r(655),i=r(2688),a=r(3735),s=r(6567),o=r(3328),c=r(3030),u=r(533);class d{constructor(e,t,r,n,i){this.urls=e,this.config=t,this.network=r,this.metricsCollector=n,this.logger=i,this.prefix="[API]"}identify(e,t,r){const n=()=>this.reqWithMetrics(e,"sdk_http_identify_seconds",{url:this.urls.getEndpointUrl("/identify",s.G(this.config.apiVersion)),method:"POST",payload:{user_id:t.get(),aliases:r},contentType:"text/plain",dataType:"json",withCredentials:!0});return this.identifyPromise?this.identifyPromise=this.identifyPromise.then(n):this.identifyPromise=n()}metrics(e){return this.network.req({url:this.urls.getEndpointUrl("/internal/metrics",s.G(this.config.apiVersion)),method:"POST",payload:e,contentType:"text/plain",dataType:"text",withCredentials:!1})}metricsBeacon(e){return this.network.reqWithBeacon({url:this.urls.getEndpointUrl("/internal/metrics",s.G(this.config.apiVersion)),payload:e})}track(e,t,r){const n=this.getTrackUrl(t,{isFullyEnriched:r,useBeacon:!1});return this.reqWithMetrics(e,"sdk_http_events_seconds",{url:n,method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1})}trackBatch(e,t){const r=this.getTrackUrl(t,{isFullyEnriched:!0,useBeacon:!1});return this.reqWithMetrics(e,"sdk_http_events_seconds",{url:r,method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1})}trackBeacon(e,t){const r=this.getTrackUrl(e,{isFullyEnriched:t,useBeacon:!0});return this.network.reqWithBeacon({url:r,payload:e})}trackBatchBeacon(e){const t=this.getTrackUrl(e,{isFullyEnriched:!0,useBeacon:!0});return this.network.reqWithBeacon({url:t,payload:e})}reset(e){return this.reqWithMetrics(e,"sdk_http_reset_seconds",{url:this.urls.getEndpointUrl("/reset",s.G(this.config.apiVersion)),method:"POST",payload:null,contentType:"text/plain",dataType:"json",withCredentials:!0})}segmentSync(e){return this.network.req({url:`https://${this.config.segmentSyncApiHost}/sync/${e.key}`,method:"POST",payload:`value=${encodeURIComponent(e.value)}`,contentType:"application/x-www-form-urlencoded",dataType:"json",withCredentials:!0})}modelsBinary(e){return this.reqWithMetrics(e,"sdk_http_models_seconds",{url:this.getModelsUrl("binary"),method:"GET",contentType:"text/plain",dataType:"binary",withCredentials:!1})}modelsJson(e){return this.reqWithMetrics(e,"sdk_http_models_seconds",{url:this.getModelsUrl("json"),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!1})}state(e,t,r,n,i,a){return this.reqWithMetrics(e,"sdk_http_reset_seconds",{url:this.urls.getEndpointUrl("/state",s.G("v1.0"),[["fetch_unseen",JSON.stringify(a)]]),method:"POST",payload:{group_id:t,event_source_id:r,state:JSON.stringify(n),last_seen_offset:i},contentType:"text/plain",dataType:"json",withCredentials:!1})}appnexus(e){return this.network.req({url:e,method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!0,timeout:2e3})}pxid(e){return this.network.req({url:this.urls.makeAuthenticatedUrl(e),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!0,timeout:2e3})}queries(){const e={addons:{dfp:{activations:{dfp:[],dfp_legacy:{}},auto_init:!0,track_slot_rendered:!1,track_slot_viewable:!1,track_slot_clicked:!1,track_targeting_keys:!1,sync_segments_cookie:!1},web:{auto_init:!1,track_pageview_engagement:!0,track_pageview_complete:!0,track_form_submission:!1,track_link_click:!1,engagement_edge_only:!0,segment_transition_edge_only:!1}},queries:{queries:{},eventSegments:{},eventsLookup:[],literalsLookup:[],subexpressionsLookup:[],stateSyncReplays:[],propertiesLookup:[]},queries_metadata:{}},t=`${this.config.cdnBaseUrl.startsWith("dev.local:")?"http":"https"}://${this.config.cdnBaseUrl}/queries/10453011-272d-49cd-9043-1964fdb36fd8-amp.json`;return this.network.req({url:t,withCredentials:!1,dataType:"json",method:"GET"}).catch((()=>e))}pxidReset(e){return this.network.req({url:this.urls.makeAuthenticatedUrl(e),method:"POST",payload:null,contentType:"text/plain",dataType:"json",withCredentials:!0})}uploadCohortMemberships(e,t){return this.reqWithMetrics(e,"sdk_http_upload_cohort_memberships_seconds",{url:this.urls.getCCSCohortMembershipEndpointUrl("/amp/cohorts",s.G("alpha"),[["i",t.user_id]]),method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1})}reqWithMetrics(e,t,r){const n=e.startTimer(t,{});return this.network.req(r).then((r=>(0,a.zG)(e.stopTimer(t,n),(e=>r))))}reportError(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;return(0,n.mG)(this,void 0,void 0,(function*(){const d=(0,i.w)(e);if(this.logError("Reporting error:\n",d),!this.config.sendClientErrors)return void this.logDebug("Send errors not enabled. Skipping");const l=e=>this.network.req({url:this.urls.getSdkErrorsUrl("/errors",s.G(this.config.sdkErrorsApiVersion)),method:"POST",payload:[e],contentType:"text/plain",dataType:"text",withCredentials:!1}),f=e=>{this.metricsCollector.track({name:"sdk_http_generic_network_request_fail_count_total",value:1,labels:{network_error_type:e}})};yield(0,a.zG)([u.o,u.s],o.Ew((e=>d.name===e.errorName||d.message.indexOf(e.errorName)>=0||d.message.indexOf(e.defaultMessage)>=0)),s.g_((()=>{const e=(()=>{var e,n,i,a,s,o,u,l;const f={error_message:null!==(n=null===(e=null==d?void 0:d.message)||void 0===e?void 0:e.toString())&&void 0!==n?n:"",stack_trace:null===(i=null==d?void 0:d.stack)||void 0===i?void 0:i.split("\n")},g=t?{user_id:t}:{};return Object.assign({platform:"web",sdk_version:"v19.91.0",ql_runtime_version:"v5.5.2",timestamp:r,domain:null!==(s=null===(a=null===window||void 0===window?void 0:window.location)||void 0===a?void 0:a.hostname)&&void 0!==s?s:"",url:(0,c.bk)(null===(o=null===window||void 0===window?void 0:window.location)||void 0===o?void 0:o.href),referrer:(0,c.bk)(null===document||void 0===document?void 0:document.referrer),user_agent:null!==(u=null===navigator||void 0===navigator?void 0:navigator.userAgent)&&void 0!==u?u:"",error_message:null!==(l=f.error_message)&&void 0!==l?l:String(d),stack_trace:f.stack_trace},g)})();return l(e).catch((0,a.ls)(i.w,(e=>this.logError(e))))}),(e=>(0,n.mG)(this,void 0,void 0,(function*(){return f(e.errorName)})))))}))}getTrackUrl(e,t){const{isFullyEnriched:r,useBeacon:n}=t,i=Array.isArray(e),a=!r;return this.urls.getEndpointUrl(i?"/batch/events":"/events",s.G(this.config.apiVersion),[["enrich",JSON.stringify(a)],["sdkp",JSON.stringify(!n)]])}getModelsUrl(e){const t=`https://${this.config.cdnBaseUrl}`;switch(e){case"binary":return`${t}/models/v2/10453011-272d-49cd-9043-1964fdb36fd8-models.bin`;case"json":return`${t}/models/10453011-272d-49cd-9043-1964fdb36fd8-models.json`}}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(this.prefix,...t)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(this.prefix,...t)}}},4586:(e,t,r)=>{r.d(t,{E:()=>s});var n=r(5e3),i=r(3735),a=r(533);class s{constructor(){}req(e){return this.reqImpl(e).then((e=>(0,i.MZ)(e)))}reqWithBeacon(e){let{url:t,payload:r}=e;return null===navigator||void 0===navigator?void 0:navigator.sendBeacon(t,JSON.stringify(r))}reqImpl(e){const{url:t,dataType:r,contentType:i,method:s,withCredentials:o,timeout:c}=e;return new Promise(((u,d)=>{const l=new XMLHttpRequest,f="POST"===e.method?"string"==typeof(g=e.payload)?g:JSON.stringify(g):null;var g;l.onload=function(){if(this.status>=400){const e="text"===this.responseType||""===this.responseType?this.responseText:"Couldn't access response text";d(`Failed ajax request. Status code was ${this.status}. ${e}`)}else if("json"===r){const e=this.responseText?(0,n.Y3)((()=>JSON.parse(this.responseText)),(e=>`Failed to parse response as JSON. Response was ${JSON.stringify(this.responseText)}. Got ${e}`)):(0,n.F2)(null);(0,n.g_)(d,u)(e)}else u("text"===r?this.responseText:this.response)},l.onerror=()=>d(new a.o),l.ontimeout=()=>d(new a.s),l.open(s,t,!0),i&&l.setRequestHeader("content-type",i),l.timeout=c||l.timeout,l.withCredentials=o||l.withCredentials,l.responseType="binary"===r?"arraybuffer":l.responseType,l.send(f)}))}}},310:(e,t,r)=>{r.d(t,{s:()=>i});var n=r(6567);class i{constructor(e){this.config=e,this.PATH_JOINER_Q="?",this.PATH_JOINER_A="&"}getEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("base",e,t,r)}getSdkErrorsUrl(e,t){return this.getUrl("sdk-errors",e,t,[])}getAdvertiserEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("adv",e,t,r)}getClassificationModelsEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("clm",e,t,r)}getAudienceMatchingEndpointUrl(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const i=`${e}/${r}/audiences`;return this.getUrl("audience-matching",i,t,n)}getCCSCohortMembershipEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("ccs",e,t,r)}makeAuthenticatedUrl(e){return this.makeUrlWithQueryParams(e,[["k",this.config.apiKey]])}getUrlPrefix(e){switch(e){case"base":return"";case"adv":return"/adv";case"sdk-errors":return"/sdk-errors";case"clm":return"/clm";case"audience-matching":return"/audience-matching";case"ccs":return"/ccs"}}getUrl(e,t,r,i){const a=this.getUrlPrefix(e),s=(0,n.g_)((()=>""),(e=>`/${e}`))(r),o=`${this.config.apiProtocol}://${this.config.apiHost}${a}${s}${t}`;return this.makeUrlWithQueryParams(o,i.concat([["k",this.config.apiKey]]))}makeUrlWithQueryParams(e,t){const r=t.map((e=>{let[t,r]=e;return`${t}=${r}`})).join(this.PATH_JOINER_A),n=e.includes(this.PATH_JOINER_Q)?this.PATH_JOINER_A:this.PATH_JOINER_Q;return`${e}${n}${r}`}}},8346:(e,t,r)=>{r.d(t,{B:()=>Je});var n=r(655),i=r(2116);class a{constructor(){this.events=[],this.listeners=[]}newEvent(e,t){this.events.push([e,t]),[...this.listeners].forEach((r=>{this.handle(e,t,r)}))}addListener(e){this.listeners.push(e);const t={replay:()=>(this.replay(e),t),remove:()=>(this.remove(e),t)};return t}handle(e,t,r){const n="string"==typeof r.name&&e.name===r.name,i=r.name.test&&r.name.test(e.name),a=n||i;if(a)try{r.callback(e,t)}catch(e){window.console&&window.console.error&&window.console.error("callback error: ",e)}a&&r.once&&this.remove(r)}replay(e){let t=-1!==this.listeners.indexOf(e);for(let r=0;r<this.events.length&&t;r++)this.handle(this.events[r][0],this.events[r][1],e),t=-1!==this.listeners.indexOf(e)}remove(e){const t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)}}var s=r(2688),o=r(3735);const c=e=>({id:e.id,name:e.name,time:new Date(e.time),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),u=e=>({id:e.id,name:e.name,time:(f(e.time)?e.time:new Date).toISOString(),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),d=(e,t)=>({id:e.id,time:new Date(e.time),name:t.name,properties:t.properties,session_id:t.session_id,view_id:t.view_id}),l=e=>void 0!==e.request_id,f=e=>isFinite(e)&&e instanceof Date;var g=r(4730);class h{constructor(e,t,r,n,i){this.eventHandler=e,this.api=t,this.metrics=r,this.userId=n,this.eventsCache=i,this.DEBOUNCE_TIME=500,this.MAX_DEBOUNCE_TIME=5e3,this.batch={requestData:[],requestOptions:[],processingStrategies:[]},this.scheduler=new g.b(this.DEBOUNCE_TIME,this.MAX_DEBOUNCE_TIME),this.debouncedFlushIfNotEmpty=this.scheduler.schedule(this.flush.bind(this)),this.scheduler.scheduleForPageUnload((()=>this.flushWithBeacon.bind(this)(this.batch)))}add(e,t,r){return this.batch.requestData.push(e),this.batch.requestOptions.push(t),this.batch.processingStrategies.push(r),this.debouncedFlushIfNotEmpty(this.batch),Promise.resolve()}flush(e){return this.flushIfNotEmpty(e,!1)}flushWithBeacon(e){return this.flushIfNotEmpty(e,!0)}flushIfNotEmpty(e,t){const{requestData:r,requestOptions:n,processingStrategies:i}=e,a=e=>this.api.reportError(`Error sending events batch. Got ${(0,s.w)(e)}`,this.userId.get()),c=t?(0,o.ls)((e=>this.api.trackBatchBeacon(e)),(e=>Promise.resolve())):e=>this.api.trackBatch(this.metrics,e);return r.length>0?(0,o.zG)(this.resetBatch(),(e=>this.trackMetrics(r)),(e=>c(r).then((e=>this.isBatchResponse(e)?this.onBatchResponseSuccess(e,r,n,i):(0,o.Q1)())).catch(a))):Promise.resolve()}onBatchResponseSuccess(e,t,r,n){const i=(e,t)=>{"never"!==t&&(this.eventHandler.newEvent(u(e),null),this.eventsCache.add(e,{persistOnDisk:!0}))},a=(e,t,r)=>{const n={name:t.name,session_id:t.session_id,view_id:t.view_id,properties:t.properties,time:(new Date).toISOString()};r&&r(e.error.message),console.error(e),this.eventHandler.newEvent(n,e)};return e.forEach(((e,s)=>{let{body:o}=e;const c=t[s],u=r[s],f=n[s];return l(o)?a(o,c,u.error):((e,t,r,n)=>{const a=d(e,t);return n&&n(a),i(a,r)})(o,c,f,u.success)}))}resetBatch(){this.batch={requestData:[],requestOptions:[],processingStrategies:[]}}trackMetrics(e){this.metrics.track({name:"sdk_events_batch_size_total",value:e.length,labels:{}}),this.metrics.track({name:"sdk_events_batch_size_bytes",value:2*JSON.stringify(e).length,labels:{}})}isBatchResponse(e){return!!e}}var p=r(6567),m=r(922);const b=(e,t)=>{switch(_(e.event,e.isEventFullyEnriched,t)){case"immediate":return y(e);case"memoryOnly":return w(e);case"response":return k(e);case"deferred":return E(e);case"never":return S(e)}},_=(e,t,r)=>r?"deferred":v(e.name,t),v=(e,t)=>C.has(e)?"memoryOnly":O.has(e)?"never":t?"immediate":"response",y=e=>{let{event:t,requestData:r,requestOptions:i,queryManager:a,eventsBatch:s,stateSync:c,metrics:u,logger:d}=e;return(0,n.mG)(void 0,void 0,void 0,(function*(){const[e,{segmentsEntered:n,segmentsExited:l,cohortsEntered:f,cohortsExited:g}]=yield I(t,u,a,d),h=(e,t)=>{const r=new Set(e);for(const e of t)r.delete(e);return r},p=h(new Set([...r.segments,...n]),l),m=h(new Set([...r.cohorts,...f]),g);return d.debug(`Batching ${t.name} with`,{segments:p,cohorts:m}),Promise.all([s.add(Object.assign(Object.assign({},r),{segments:[...p],cohorts:[...m]}),i,"immediate"),c.sync(e)]).then(o.Q1)}))},w=e=>{let{event:t,metrics:r,queryManager:n,logger:i}=e;return I(t,r,n,i).then(o.Q1)},k=e=>{let{requestData:t,requestOptions:r,queryManager:n,eventsCache:i,eventHandler:a,api:s,metrics:o,logger:c}=e;return s.track(o,t,!1).then((e=>P(e,t,r,i,o,n,c))).then((e=>{let{event:t,error:r}=e;return M(a,t,r)}))},E=e=>{let{event:t,isEventFullyEnriched:r,requestData:n,api:i,eventHandler:a}=e;return Promise.all([i.trackBeacon(n,r),M(a,t,p.YP)]).then(o.Q1)},S=e=>{let{requestData:t,requestOptions:r,eventsBatch:n}=e;return n.add(t,r,"never")},P=(e,t,r,n,i,a,s)=>l(e)?D(e,t,r):x(e,t,r,n,i,a,s),D=(e,t,r)=>{const n={name:t.name,session_id:t.session_id,view_id:t.view_id,properties:t.properties,time:new Date};return"function"==typeof r.error&&r.error(e.error.message),Promise.resolve({event:n,error:(0,p.G)(e)})},x=(e,t,r,n,i,a,s)=>{const o=void 0!==e.properties?c(Object.assign(Object.assign({},e),{session_id:t.session_id,view_id:t.view_id})):d(e,t);return I(o,i,a,s).then((()=>("function"==typeof r.success&&r.success(o),n.add(o,{persistOnDisk:!0}),{event:o,error:p.YP})))},I=(e,t,r,n)=>q.has(e.name)?(0,o.zG)(t.startTimer("sdk_events_querylanguage_seconds",{}),(i=>r.process(e,!0).then((r=>(0,o.zG)(t.stopTimer("sdk_events_querylanguage_seconds",i),(t=>n.log("Processing event",e,"caused the following update",r)),(e=>r)))))):Promise.resolve([{},{segmentsEntered:new Set,segmentsExited:new Set,cohortsEntered:new Set,cohortsExited:new Set}]),M=(e,t,r)=>{A.has(t.name)||e.newEvent(u(t),(0,o.zG)(r,p.fS((()=>null))))},O=new Set(["ThirdPartySegments","SlotRendered"]),C=new Set([...m.D0?["PageviewEngagement"]:[],...m.ED?["SegmentEntry","SegmentExit"]:[]]),T=new Set(["PageviewComplete"]),A=new Set(["PrebidAuctions"]),q=new Set(["!UpdateSecondPartyData","Pageview","PageviewComplete","PageviewEngagement","SegmentEntry","SlotClicked","SlotViewable","SurveyResponse"]);function j(e,t,r){const{api:s,enrichers:c,logger:u,messages:d,metrics:l,queryManager:f,stateSync:g,unprocessedPVC:m,userId:_}=e;return i.K4((()=>{const e=new a,i=new h(e,s,l,_,r);return{allEvents:()=>r.all(),getStateSizeInBytes:()=>r.getStateSizeInBytes(),on:(t,r)=>e.addListener({name:t,callback:r,once:!1}),once:(t,r)=>e.addListener({name:t,callback:r,once:!0}),reset:e=>r.reset(e),track:a=>{var{client:h,event:_,useBeacon:v}=a,y=(0,n._T)(a,["client","event","useBeacon"]);const{output:w,isFullyEnriched:k}=c.enrich(_.properties,C.has(_.name)),E=Object.assign(Object.assign({},w),{client:h});l.track({name:k?"sdk_event_enrichment_success_count":"sdk_event_enrichment_fail_count",value:1,labels:{}});const S=(0,o.zG)(t.nonQlCohorts.current,p.fS((()=>[]))),P={user_id:t.userId.current,name:_.name,cohorts:[...S,...t.qlCohorts.current.map(String)],segments:t.qlCohorts.current,properties:E,session_id:_.session_id,view_id:_.view_id};return d.emit("permutive:event:requestData",P),((e,t)=>b(e,t).then((t=>T.has(e.event.name)?e.unprocessedPVC.reset():(0,o.Q1)())))(Object.assign(Object.assign({},y),{api:s,event:Object.assign(Object.assign({},_),{properties:E}),eventsBatch:i,eventsCache:r,eventHandler:e,isEventFullyEnriched:k,logger:u,metrics:l,queryManager:f,requestData:P,stateSync:g,unprocessedPVC:m}),v)},__deprecated_eventsCache:r}}))}class U{constructor(){this.crypto=window.crypto||window.msCrypto,this.ALG_NAME="AES-GCM"}isAvailable(){var e;return!!(null===(e=this.crypto)||void 0===e?void 0:e.subtle)}generateKey(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.crypto.subtle.generateKey({name:this.ALG_NAME,length:256},e,["encrypt","decrypt"])}encrypt(e,t){const[r,n]=this._encrypt(e,this.str2bytes(t));return r.then((e=>{const t=new Uint8Array(16+e.byteLength);return t.set(n,0),t.set(new Uint8Array(Uint32Array.of(e.byteLength).buffer),12),t.set(new Uint8Array(e),16),t.buffer}))}decrypt(e,t){const r=new Uint8Array(t,0,12),n=new Uint32Array(t,12,1)[0],i=t.slice(16,16+n);return this._decrypt(e,r,i).then(this.bytes2str)}_encrypt(e,t){const r=this.crypto.getRandomValues(new Uint8Array(12));return[this.crypto.subtle.encrypt({name:this.ALG_NAME,iv:r},e,t),r]}_decrypt(e,t,r){return this.crypto.subtle.decrypt({name:this.ALG_NAME,iv:t},e,r)}str2bytes(e){return(new TextEncoder).encode(e).buffer}bytes2str(e){return(new TextDecoder).decode(e)}}var G=r(5e3),R=r(6934);var L=r(7554);class z extends Error{constructor(e){super(e),this.name="StoreClosingError"}}class B{constructor(e,t,n,i,a,s,o,c,u,d){this.version=3;{const l=r(2546);this.db=l.make(e,t,n,i,a,s,o,c,this.version,u,d)().then((0,G.fS)((e=>(0,L.E)(t,u,d))))}}shouldThrowStoreClosingError(e){return"NotFoundError"===e.name||"InvalidStateError"===e.name}makeStoreClosingDuringOpertationError(e){return new z(`Attempted ${e} when the current store is closing.`)}put(e,t){return(0,R.Y3)((()=>this.db.then((r=>r.put(e,t)))),(e=>{const t=(0,s.w)(e);return this.shouldThrowStoreClosingError(t)?this.makeStoreClosingDuringOpertationError("put"):t}))}get(e){return(0,R.Y3)((()=>this.db.then((t=>t.get(e))).then(p.ij)),(e=>{const t=(0,s.w)(e);return this.shouldThrowStoreClosingError(t)?this.makeStoreClosingDuringOpertationError("get"):t}))}delete(e){return(0,R.Y3)((()=>this.db.then((t=>t.delete(e)))),(e=>String(e)))}deleteStore(){return(0,R.Y3)((()=>this.db.then((e=>e.deleteStore()))),(e=>String(e)))}}var K=r(1500),N=r(3328),F=r(5151),W=r(2652);const $="permutive-events-cache",Q="permutive-events-for-page",Y="[EVENTSCACHE]";class V{constructor(e,t,r,n,i,a,s,c){this.config=e,this.namespace=t,this.logger=r,this.api=n,this.trace=i,this.metrics=a,this.userId=s,this.makeEventsStore=c,this.eventPutQueue=Promise.resolve(G.F2(null)),this.eventsCache=this.makeEventsRepository($),this.eventsForPage=this.makeEventsRepository(Q),this.debouncedReportError=(()=>new g.b(5e3,5e3).schedule((e=>this.api.reportError(e.errorMessage,e.userId))))(),this.eventStore=c(),this.eventsTTLInMilliseconds=(0,o.zG)((0,p.ij)(this.config.eventsTTLInDays),(0,p.tS)((e=>"number"==typeof e&&e>0?(0,p.G)(24*e*3600):p.YP))),this.eventsCache.events=(0,W.PQ)((()=>{const e=this.trace.startSpan("load_event_cache");return this.loadFromDisk().then((t=>(e.finish(),this.logDebug(`Event cache loaded, #e ${t.length}`),t)))})),this.readiness=this.eventsCache.events.then((()=>this.migratePreviousPagesEvents()))}migratePreviousPagesEvents(){return(0,n.mG)(this,void 0,void 0,(function*(){const e=this.trace.startSpan("migrate_previous_for_page_events"),t=(0,F.pE)((e=>(0,R.Y3)((()=>e.flush()),s.w)));return(0,o.zG)([this.eventsForPage,this.eventsCache],t,(0,F.UI)((t=>{const r=N.bj(t);return r.length>0&&this.api.reportError(`Migrate previous events failed. Got:\n${r.join("\n ")}`,this.userId.get()),e.finish()})),(e=>e()))}))}all(){return Promise.all([this.eventsCache.events,this.eventsForPage.events]).then(K.xH)}add(e,t){let{persistOnDisk:r}=t;return(0,n.mG)(this,void 0,void 0,(function*(){this.logDebug("Adding to cache",e);return(yield this.eventsForPage.events).push(e),r&&this.readiness.then((()=>this.eventsForPage.flush())),e}))}filterEventsByWorkspace(e){return e}pruneEventsToSizeLimit(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config.eventsCacheLimitBytes;if(r<=0||t<=r)return this.logDebug(`Event size of ${t} less than limit of ${r}`),{events:e,sizeInBytes:t};this.logDebug(`Events before pruning ${e.length}`),this.logDebug(`Pruning events with current size ${t}`,`to ${r}`);let n=1;for(;t>r;)e.splice(0,n),n*=2,t=2*JSON.stringify(e).length;return this.logDebug(`Events after pruning ${e.length}`),this.logDebug(`Events size after pruning ${t}`),{events:e,sizeInBytes:t}}loadFromDisk(){this.logLog("Loading event cache...");const e=this.metrics.startTimer("sdk_load_events_cache_task_duration_seconds",{}),t=e=>{this.metrics.track({name:"sdk_events_cache_byte_total",value:e.sizeInBytes,labels:{}}),this.metrics.track({name:"sdk_events_cache_size_total",value:e.events.length,labels:{}})},r=(0,o.zG)(this.eventsTTLInMilliseconds,(0,p.g_)((0,o.a9)(o.yR),(e=>(0,K.hX)((t=>e>Date.now()-t.time.getTime()))))),i=(0,o.ls)((0,p.fS)((()=>[])),F.of),a=(0,R.g_)((e=>{const t=(0,F.of)([]);return e instanceof z?t:(this.api.reportError(`Error fetching data from store. Got ${e}`,this.userId.get()),()=>(0,n.mG)(this,void 0,void 0,(function*(){return yield this.reset("historical"),t()})))}),i);return(0,o.zG)([this.eventStore.get($),this.eventStore.get(Q)],(0,K.UI)(a),(0,K.vP)(F.oE),(0,F.UI)((t=>(this.logDebug("Read events from store:",t),this.metrics.stopTimer("sdk_load_events_cache_task_duration_seconds",e),t))),(0,F.UI)((0,o.ls)(K.xH,this.filterEventsByWorkspace,(e=>this.pruneEventsToSizeLimit(e,2*JSON.stringify(e).length)),(e=>(this.eventsCache.sizeInBytes=e.sizeInBytes,this.eventsCache.sizeInBytesLastSuccessfulWrite=e.sizeInBytes,e.events.length>0&&t(e),e.events)),(0,K.UI)(c),r)),(e=>e()))}reset(e){return(0,n.mG)(this,void 0,void 0,(function*(){return this.logDebug("Resetting Events Cache"),(0,o.zG)(this.eventStore.deleteStore(),(0,R.UI)((()=>(this.eventStore=this.makeEventsStore(),"historical"===e?Promise.all([this.eventsCache.reset(),this.eventsForPage.flush()]):Promise.all([this.eventsCache.reset(),this.eventsForPage.reset()])))),(0,R.UI)((()=>this.all())),(0,R.g_)((()=>(0,F.of)([])),(e=>(0,o.a9)(e))),(e=>e()))}))}getStateSizeInBytes(){return this.eventsForPage.sizeInBytes+this.eventsCache.sizeInBytes}makeEventsRepository(e){const t=e=>(0,n.mG)(this,void 0,void 0,(function*(){return this.logDebug(`Writing ${e.length} events to ${c.key}`),this.eventPutQueue=this.eventPutQueue.then((t=>this.eventStore.put(e.map(u),c.key)()))})),r=()=>(0,n.mG)(this,void 0,void 0,(function*(){return this.logDebug(`Deleting events for ${c.key}`),this.eventStore.delete(c.key)()})),i=()=>(0,n.mG)(this,void 0,void 0,(function*(){const e=this.trace.startSpan(`write_${c.key}`),r=e=>(0,n.mG)(this,void 0,void 0,(function*(){const t=`Events cache failed to put ${c.key}. Got ${e}`;return e instanceof z?this.logError(t):(e=>"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)(e)?(this.logError(t),c.retryAttempts<9?(c.retryAttempts+=1,this.logDebug(`Attempt #${c.retryAttempts} to write ${c.key} to EventsStore`),yield o(),i()):(this.logDebug(`Attempted ${c.retryAttempts} rewrite attempts and reached limit of 9 max writes.`,"Reporting QuotaExceededError to API"),this.debouncedReportError({errorMessage:t,userId:this.userId.get()}))):void 0})),a=()=>(this.logDebug(`Successfully wrote events for ${c.key} after ${c.retryAttempts} attempts`),c.retryAttempts=0,c.sizeInBytes=2*JSON.stringify(s).length,c.sizeInBytesLastSuccessfulWrite=2*JSON.stringify(s).length,Promise.resolve()),s=yield c.events;return t(s).then((e=>(0,G.EQ)(r,a)(e))).then((t=>e.finish()))})),a=(e,t)=>(0,n.mG)(this,void 0,void 0,(function*(){const r=yield e.events,n=2*JSON.stringify(r).length,i=this.pruneEventsToSizeLimit(r,n,t);return e.events=Promise.resolve(i.events),e.sizeInBytes=i.sizeInBytes,t-e.sizeInBytes})),s=(e,t)=>(0,n.mG)(this,void 0,void 0,(function*(){if(0===e.length||0===t)return;const[r,...n]=e,i=yield a(r,t);return this.logDebug(`${i} left after pruning ${r.key}`),s(n,i)})),o=()=>(0,n.mG)(this,void 0,void 0,(function*(){const e=this.eventsForPage.sizeInBytes-this.eventsForPage.sizeInBytesLastSuccessfulWrite;if(e<=0)return void this.logWarn(`${this.eventsForPage.key} failed to write the same or smaller events cache of size ${e}`);const t=1.2*e,r=[this.eventsCache,this.eventsForPage];this.logDebug(`Pruning ${t} bytes from`,r),yield s(r,t)})),c={key:e,events:Promise.resolve([]),sizeInBytes:0,sizeInBytesLastSuccessfulWrite:0,retryAttempts:0,flush:i,reset:()=>(0,n.mG)(this,void 0,void 0,(function*(){c.events=Promise.resolve([]),c.sizeInBytes=0,c.sizeInBytesLastSuccessfulWrite=0,yield r()}))};return c}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(Y,...t)}logWarn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.warn(Y,...t)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(Y,...t)}logLog(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.log(Y,...t)}}class H extends V{constructor(e,t,r,n,i,a,s,o){super(e,t,r,n,i,a,s,(()=>new B(e,t,a,new U,"10453011-272d-49cd-9043-1964fdb36fd8",`events_${s.get()}`,`keys_${s.get()}`,"events",r,o)))}}function J(e,t){return j(e,t,new H(e.config,e.namespace,e.logger,e.api,e.trace,e.metrics,e.userId,e.consentTracking))}var X=r(6054);const Z="[PrebidJS]";function ee(e){const t=(()=>{const e=["pbjs",...window._pbjsGlobals||[]];return[...new Set(e)]})();e.logger.debug(Z,"Found keys",t);return i.K4((()=>(0,o.zG)(t,N.UI((0,o.ls)((e=>(e=>{const t={maxAttempts:100,waitTimeInMs:50};let r;return{windowPropertyKey:e,pbjs:(0,W.a4)((()=>r),(()=>{const t=(0,o.zG)(window,(0,W.vg)(e));return!(!(null==t?void 0:t.que)||"function"!=typeof(null==t?void 0:t.getEvents)||(r=t,0))}),t)}})(e)),(t=>(0,o.zG)(X.p4(t.pbjs),X.UI((r=>{const n=G.pF((r=>(r.message=`Failed to resolve key "${t.windowPropertyKey}". ${r.message}`,e.reportError(`[PrebidJS] ${r.toString()}`),p.YP)));return(0,o.zG)(r,(0,W.bw)(p.UI((r=>e.logger.debug(Z,`Completed check for key "${t.windowPropertyKey}"`,{result:r})))),p.UI(n),p.UI(p.UI((e=>({windowPropertyKey:t.windowPropertyKey,pbjs:e})))))})))))),(e=>X.vP(...e)),X.UI((e=>({completedChecks:e.every(p.pC),pbjsKeyPairs:e.map(p.xH)}))),X.UI((e=>{let{pbjsKeyPairs:t,completedChecks:r}=e;const n=t.filter(p.pC),[i,...a]=n;return{completedChecks:r,mainPair:null!=i?i:p.YP,otherPairs:(0,o.zG)(a,N.DZ(o.yR))}})))))}const te="_pnativo",re=function(e){let{externalData:t}=e;return i.K4((()=>{t.removeExternalData(te)}))};var ne=r(4011),ie=r(7927),ae=r(6017);function se(e,t){const r=function(e){const t=function(e){let{logger:t,messages:r,queryManager:n}=e;const i="[Ref: QL segments]",a=()=>[...n.userSegments.getAllAsList()],[s,c]=X.Ue(a());return t.debug(i,"initialised",{segments:s.current}),r.on("permutive:segments:updated",(()=>{const e=a();t.debug(i,"updated",{segments:e}),c(e)})),r.on("permutive:reset",(()=>{const e=a();t.debug(i,"reset"),c(e)})),(0,o.zG)(s,X.D8(N.Eh(ne.Eq)))}(e);return(0,o.zG)(t,X.UI((0,o.ls)(N.uK((e=>e<1e7)),(e=>{let{left:t,right:r}=e;return{custom:r,standard:t}}))),(e=>({all:t,custom:(0,o.zG)(e,X.UI((e=>{let{custom:t}=e;return t}))),standard:(0,o.zG)(e,X.UI((e=>{let{standard:t}=e;return t})))})))}(e),n=function(e){let{messages:t,queryManager:r}=e;const[n,i]=X.Ue(p.YP);return t.on("permutive:segments:updated",(()=>{i(p.G(r.stateMap.value))})),t.on("permutive:reset",(()=>i(p.YP))),X.UI(p.UI(oe),n)}(e);return e.queryManager.setLalRef(t.lookalikeModels),e.queryManager.setTpdRef(t.thirdPartyData),i.K4((()=>({cohorts:r,tpdUsage:n})))}const oe=(0,o.ls)(ie.UI((e=>{var t;return null!==(t=e.activations)&&void 0!==t?t:{}})),ie.hX((0,o.zG)(Boolean,(0,ae.xD)((0,ae.ff)(ie.xb)))));var ce=r(926),ue=r(4923);const de=(e,t)=>((e,t,r)=>{const{activationManager:a,externalData:s,metrics:c,permutiveData:u,queryManager:d,stateSync:l,trace:f}=e;return(0,o.zG)(se(e,{lookalikeModels:t.lookalikeModels,thirdPartyData:(0,o.zG)(t.thirdPartyData,X.UI(p.UI(ue.UI((e=>{const t={};for(const r of e)t[r]=!0;return t})))))}),i.YO("queryLanguage"),i.ak("eventCollection",(n=>{let{queryLanguage:i}=n;return r(e,{nonQlCohorts:t.nonQlCohorts,qlCohorts:i.cohorts.all,userId:t.userId})})),i.ak("nativo",(e=>{let{queryLanguage:r}=e;return re(Object.assign({activationManager:a,externalData:s,metrics:c,queryLanguageCohorts:r.cohorts.all},t))})),i.ak("twitterPixel",(e=>{let{queryLanguage:r}=e;return(0,ce.twitterPixelService)(Object.assign({activationManager:a,metrics:c,permutiveData:u,queryLanguageCohorts:r.cohorts.all},t))})),i.ak("prebidJS",(()=>ee(e))),i.ak("reset",(e=>{let{eventCollection:t}=e;return i.of((e=>(0,n.mG)(void 0,void 0,void 0,(function*(){d.reset();const r=e.preserveEventsFromCurrentView?"historical":void 0,n=yield t.reset(r),i=f.startSpan("ss_reset_sync");e.downloadState?yield l.resetSync():l.reset(),yield d.bootstrap(n),i.finish()}))))})))})(e,t,J);function le(e){return"consentTracking"in e?e.consentTracking.consentRef:X.a9(!0)}function fe(e){let{messages:t}=e;const[r,n]=X.Ue(new Set);return t.on("permutive:addon:preinit",(e=>n(new Set([...r.current,e])))),r}function ge(e){let{messages:t,realtime:r}=e;var n;const[i,a]=X.Ue(null!==(n=r.isRealtime())&&void 0!==n&&n);return t.on("permutive:realtime",(()=>a(!0))),i}function he(){const e=()=>Math.floor(Date.now()/1e3),[t,r]=X.Ue(e());return setInterval((()=>r(e())),1e3),t}function pe(e,t){const r=function(e){const{activationManager:t,api:r,config:n,enrichers:i,externalData:a,logger:s,messages:o,metrics:c,permutiveData:u,namespace:d,network:l,queryManager:f,stateSync:g,trace:h,unprocessedPVC:p,urls:m,userId:b}=e,_="consentTracking"in e?e.consentTracking:{consentRef:X.a9(!0),listenForConsent:()=>0,isRevoked:()=>!1,isGiven:()=>!0};return{activationManager:t,api:r,config:n,consentTracking:_,enrichers:i,externalData:a,logger:s,messages:o,metrics:c,permutiveData:u,namespace:d,permutiveApi:l,permutiveUrls:m,queryManager:f,reportError:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.reportError(e,null==t?void 0:t.userId,null==t?void 0:t.timestamp)},stateSync:g,trace:h,unprocessedPVC:p,userId:b}}(e),i=function(e){return{addonsLoaded:e.addonsLoaded,consent:le(e),currentTimestampSecs:he(),enabledAddons:fe(e),identities:e.identities,realtime:ge(e),sessionId:X.a9(e.sessionManager.getSessionId()),userId:e.userId.ref,viewId:e.viewId.ref}}(e);return function(e,t,r){const i=5e3;return(0,o.zG)(e,(a=i,e=>t=>{var{onServiceStop:r}=t,i=(0,n._T)(t,["onServiceStop"]);let s=[];const{value:o,state:c}=e(Object.assign(Object.assign({},i),{onServiceStop:e=>s.push(e)})),[u,d]=X.Ue(c.current),l=()=>d(c.current),f=setInterval(l,a);let g=!1;return(0,W.aq)((()=>!g&&l()),navigator.userAgent),r((()=>{g=!0,s.forEach((e=>e())),l(),clearInterval(f)})),{value:o,state:u}}),me,function(e){return t=>(0,o.ls)((0,W.rO)({previousState:t=>e.current?t:void 0}),t,(0,W.rO)({state:(0,o.ls)((t=>X.vP(e,t)),X.UI((e=>{let[t,r]=e;return t?r:void 0})))}))}(r),function(e){return t=>(0,o.ls)((0,W.rO)({previousState:()=>localStorage.getItem(e)}),t,(0,W.rO)({state:(0,W.bw)(X.YP((t=>{switch(typeof t){case"string":localStorage.setItem(e,t);break;case"undefined":localStorage.removeItem(e);break;case"object":if(null===t){localStorage.removeItem(e);break}throw new Error("Permutive app raised an invalid state.");default:throw new Error("Permutive app raised an invalid state.")}})))}))}(t))({onServiceStop:o.Q1}).value;var a}(t(r,i),e.namespace.getNamespacedStorageKey("permutive-app"),i.consent)}function me(e){return(0,o.ls)((0,W.rO)({previousState:e=>{if("string"!=typeof e)return{};try{return JSON.parse(e)}catch(e){return{}}}}),e,(0,W.rO)({state:X.UI(JSON.stringify)}))}const be=e=>i.dQ((t=>{let{onServiceStop:r,previousState:n}=t;const i=function(e){if("object"!=typeof e||null===e)return{validityKey:"",inFlight:p.YP,lastSuccess:p.YP};return e}(n),a=(0,o.zG)(e,X.BT(r),X.UI((e=>"currentTimestampSecs"in e&&"freshness"in e&&"validity"in e?e:{currentTimestampSecs:0,validity:{key:e.validityKey,maxAge:Number.MAX_SAFE_INTEGER},freshness:{key:e.freshnessKey,maxAge:Number.MAX_SAFE_INTEGER},refresh:e.refresh})),X.g_(X.a9(i),((e,t)=>{const r=t.validity.key(),n=p.hX((e=>t.currentTimestampSecs-e.timestamp<=t.validity.maxAge)),i=(0,W.HP)(t.freshness.key),a=p.hX((e=>t.currentTimestampSecs-e.timestamp<=t.freshness.maxAge&&e.freshnessKey===i())),s=(0,o.zG)(e,X.UI((0,o.ls)(p.DT((e=>e.validityKey===r)),p.EQ((()=>({validityKey:r,inFlight:p.YP,lastSuccess:p.YP})),(0,W.rO)({inFlight:n,lastSuccess:n})))),X.D8(_e));if((0,o.zG)(s.current,(e=>(0,o.zG)(e.inFlight,p.wp((()=>e.lastSuccess)),a,p.pC))))return s;const c=()=>({timestamp:t.currentTimestampSecs,freshnessKey:i(),output:p.YP});return(0,o.zG)(t.refresh(),p.EQ((()=>s),(0,o.ls)(X.p4,X.VS(p.EQ((()=>(0,o.zG)(s,X.UI((e=>Object.assign(Object.assign({},e),{inFlight:p.G(c())}))))),G.EQ((e=>s),(e=>X.a9({validityKey:r,inFlight:p.YP,lastSuccess:p.G(Object.assign(Object.assign({},c()),{output:p.G(e)}))}))))))))})),X.xH,X.D8(_e));return{value:X.UI((0,o.ls)((0,W.vg)("lastSuccess"),p.tS((0,W.vg)("output"))),a),state:X.UI((e=>Object.assign(Object.assign({},e),{inFlight:p.YP})),a)}}));const _e=(e,t)=>e.validityKey===t.validityKey&&e.inFlight===t.inFlight&&e.lastSuccess===t.lastSuccess;function ve(e){return t=>(0,o.zG)(X.oQ(e),X.UI((0,W.rO)({backoffAfterErrorMs:e=>null!=e?e:0,backoffAfterSuccessMs:e=>null!=e?e:0})),(e=>i.dQ((r=>{let{previousState:n}=r;const[i,a]=X.Ue(function(e){if("object"!=typeof e||null===e)return{lastSuccess:0,lastError:0};return e}(n)),s=(0,o.zG)(X.vP(i,e),X.UI((e=>{let[t,r]=e;return Math.max(t.lastError+r.backoffAfterErrorMs,t.lastSuccess+r.backoffAfterSuccessMs)})));return{state:i,value:(0,o.ls)(p.DT((()=>Date.now()>=s.current)),p.UI(t),p.UI((0,W.bw)((e=>e.then((()=>a(Object.assign(Object.assign({},i.current),{lastSuccess:Date.now()}))),(()=>a(Object.assign(Object.assign({},i.current),{lastError:Date.now()}))))))))}}))))}const ye="clean_room";const we=function(e,t){return i.K4((()=>({segments:{all:X.a9([]),direct_buy:X.a9([]),programmatic:X.a9([])}})))};var ke=r(7241),Ee=r(2197),Se=r(4870),Pe=r(9853);const De="[Prebid Monitoring]",xe=(e,t)=>{e.metrics.track({name:"sdk_prebid_monitoring_key_flag_count_total",labels:t,value:1})},Ie=(e,t)=>{e.metrics.track({name:"sdk_prebid_monitoring_key_bidder_flag_count_total",labels:t,value:1})},Me=function(e,t){const r=Oe(e);return i.K4((()=>(0,o.zG)(t,X.UI((0,o.ls)(p.DT((e=>e.consent)),p.UI((e=>e.prebidJS)))),X.D8(p.Eh((0,W.Or)())),X.bw((0,o.ls)(p.tS((e=>e.completedChecks?e.mainPair:p.YP)),p.UI((t=>xe(e,{flag:"prebid_main_key",prebid_key:t.windowPropertyKey}))))),X.UI(p.UI((e=>(0,o.zG)(e.mainPair,p.UI((t=>[t,...e.otherPairs])),p.fS((()=>e.otherPairs)))))),X.g_(new Set,((t,n)=>(0,o.zG)(n,p.UI(N.hX((e=>!t.has(e.windowPropertyKey)))),p.hX(N.Od),(0,W.bw)(p.EQ((()=>e.logger.debug(De,"Nothing to report")),(t=>e.logger.debug(De,"Reporting",t)))),p.fS((()=>[])),N.UI((t=>(0,o.zG)((t=>(0,o.zG)(G.Y3((function(){var r,n;const{pbjs:i,windowPropertyKey:a}=t;e.logger.log(De,`Reporting on "${a}"`,t);const s=Ce(i);e.logger.debug(De,`Version ${i.version} parsed as`,s);const c="function"==typeof(u=i).readConfig?u.readConfig():u.getConfig();var u;e.logger.debug(De,"Read config",c);const d=(0,o.zG)(null!==(n=null===(r=c.realTimeData)||void 0===r?void 0:r.dataProviders)&&void 0!==n?n:[],N.Ew((e=>"permutive"===e.name)));return e.logger.debug(De,"Read data provider config",d),{pbjs:i,config:c,dataProviderConfig:d,installedModules:i.installedModules||[],version:s,windowPropertyKey:a}}),s.w),G.ak("bidders",(e=>r.acBidders(e))),G.ak("permutiveRTDProvider",(e=>r.permutiveRTDProvider(e))),G.ak("consent",(e=>r.consent(e))),G.ak("targeting",(e=>r.targeting(e)))))(t),G.Pd((r=>e.reportError(`[Prebid Monitoring] Failed to report pair "${t.windowPropertyKey}", ${r.message}`)),(()=>t.windowPropertyKey))))),N.hp,(e=>new Set([...t,...e]))))),(e=>({reportedKeys:e})))))};const Oe=e=>({acBidders:t=>G.Y3((()=>{(0,Pe.Hn)("prebid")("data_provider_config",{ac_bidders:[]});const r=[],n=(0,o.zG)(t.dataProviderConfig,p.UI((e=>{var t,r;return null!==(r=null===(t=null==e?void 0:e.params)||void 0===t?void 0:t.acBidders)&&void 0!==r?r:[]})),p.fS((()=>[]))),i=[...new Set([...r,...n])];return e.logger.debug(De,"Determined acBidders as",{acBidders:i,dynamicBidders:r,staticBidders:n}),i.forEach((r=>{Ie(e,{flag:"prebid_ac_bidder",prebid_key:t.windowPropertyKey,prebid_bidder:r})})),{acBidders:i,dynamicBidders:r,readBidders:n}}),s.w),consent:t=>G.Y3((()=>{var r,n,i,a,s,o;const c=t.windowPropertyKey;t.config.consentManagement&&"object"==typeof t.config.consentManagement&&xe(e,{prebid_key:c,flag:"prebid_has_consent_management"});const u=t.installedModules.includes("gdprEnforcement");u&&xe(e,{prebid_key:c,flag:"prebid_gdpr_enforcement_module"});const d=(null===(o=null===(s=null===(a=null===(i=null===(n=null===(r=t.config)||void 0===r?void 0:r.consentManagement)||void 0===n?void 0:n.gdpr)||void 0===i?void 0:i.rules)||void 0===a?void 0:a.find((e=>"storage"===(null==e?void 0:e.purpose))))||void 0===s?void 0:s.vendorExceptions)||void 0===o?void 0:o.includes("permutive"))||!1;return d&&xe(e,{prebid_key:c,flag:"prebid_storage_exception"}),{hasGDPREnforcementModule:u,addedAsStorageException:d}}),s.w),permutiveRTDProvider:t=>G.Y3((()=>{const r=t.installedModules.includes("permutiveRtdProvider");return r&&xe(e,{prebid_key:t.windowPropertyKey,flag:"prebid_permutive_rtd"}),r}),s.w),targeting:t=>{const r=(0,o.ls)(N.UI((e=>[e,null])),ue.sq),n=(t,r)=>(0,o.zG)(t,(0,W.bw)((t=>e.logger.debug(De,`Processing ${t.length} bidder request(s)`,t))),N.hX((e=>r.hasOwnProperty(e.bidderCode)&&null===r[e.bidderCode])),ke.vM((e=>e.bidderCode)),ue.DZ(N.f2((0,W.lo)([[e=>(e=>{var t,r,n;const i=null===(r=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.data)||void 0===r?void 0:r.find((e=>"permutive.com"===e.name));return!!(null===(n=null==i?void 0:i.segment)||void 0===n?void 0:n.length)})(e.ortb2),()=>p.G("ortb2")],[e=>{return t=e.params,["permutive","p_standard"].some((e=>{var r,n,i,a;return(null===(n=null===(r=null==t?void 0:t.visitor)||void 0===r?void 0:r[e])||void 0===n?void 0:n.length)||(null===(a=null===(i=null==t?void 0:t.keywords)||void 0===i?void 0:i[e])||void 0===a?void 0:a.length)}));var t},()=>p.G("params")],()=>p.YP]))),(0,W.bw)((t=>e.logger.debug(De,"Bidders targeting method's updated",t)))),i=i=>{e.logger.debug(De,"Bidders found with no targeting method",i);let a=r(i);const s=r=>(0,o.zG)(n([r],a),(0,W.bw)((e=>{a=Object.assign(Object.assign({},a),e)})),(0,W.bw)(ue.Su(((r,n)=>Ie(e,{flag:`prebid_${n}_targeting_success`,prebid_key:t.windowPropertyKey,prebid_bidder:r})))),(0,W.bw)((()=>{Object.values(a).includes(null)||(e.logger.debug(De,`Cleaning up "bidRequested" listener for ${t.windowPropertyKey}`),t.pbjs.offEvent("bidRequested",s))})));t.pbjs.onEvent("bidRequested",s)};return G.Y3((()=>{const a=(0,o.zG)(t.pbjs.getEvents(),N.DZ((0,o.ls)(p.DT((e=>"bidRequested"===e.eventType)),p.UI((0,W.vg)("args")))));return(0,o.zG)(t.bidders.acBidders,p.DT(N.Od),p.EQ((()=>e.logger.debug(De,"No bidders for targeting")),(0,o.ls)(r,(e=>Object.assign(Object.assign({},e),n(a,e))),ue.uK(Ee.ff((e=>null===e))),Se.Pd((0,o.ls)(ue.XP,p.DT(N.Od),p.UI(i)),ue.Su(((r,n)=>Ie(e,{prebid_bidder:r,prebid_key:t.windowPropertyKey,flag:`prebid_${n}_targeting_success`})))))))}),s.w)}}),Ce=e=>{const[t,r,n]=e.version.split("-")[0].replace("v","").split(".").map((e=>parseInt(e)));return{major:t,minor:r,patch:n}},Te=(e,t)=>(0,o.zG)(function(e,t){return(0,o.zG)(t,X.UI((e=>{var{initdAddons:t}=e,r=(0,n._T)(e,["initdAddons"]);return Object.assign(Object.assign({},r),{isInitd:t.has(ye)})})),(t=>we(e,t)))}(e,X.vP(t)),i.YO("segmentation"),i.ak("prebidMonitoring",(()=>Me(e,X.vP({consent:t.consent,prebidJS:t.prebidJS})))),i.UI((e=>e.segmentation)));var Ae=r(9557);const qe=function(e){let{externalData:t}=e;return i.K4((()=>{t.removeExternalData(je)}))};const je="_pfws";var Ue=r(6320);function Ge(e,t){return(0,o.zG)(function(e){return t=>e.permutiveApi.req({url:e.permutiveUrls.getClassificationModelsEndpointUrl("/segment",p.G(e.config.classificationModelsApiVersion)),method:"POST",payload:{userCohorts:t.cohorts,userId:t.userId},contentType:"text/plain",dataType:"json",withCredentials:!1})}(e),ve({backoffAfterErrorMs:6e4}),i.VS((e=>{const r=(0,o.zG)(t,X.UI((e=>e.queryLanguageCohorts)),X.UI((e=>(0,W.HP)((()=>(0,o.zG)(e,(0,W.SL)((e=>0|e))))))));return be((0,o.zG)(X.vP(t,r),X.UI((t=>{let[r,n]=t;return{currentTimestampSecs:r.currentTimestampSecs,validity:{maxAge:2592e3,key:()=>r.userId},freshness:{maxAge:86400,key:n},refresh:()=>(0,o.zG)(r.queryLanguageCohorts,p.DT((()=>r.initdAddons.has(Ue.addonName)&&r.realtime)),p.tS((t=>e({userId:r.userId,cohorts:t}))),p.UI((e=>e.then(Re))))}}))))})),i.UI(X.UI(p.fS((0,o.a9)(Le())))))}function Re(e){return{allCohorts:(0,N.xH)(Object.values(e)),gam:e.gam||[],xandrSsp:e.xandrSsp||[]}}const Le=()=>({allCohorts:[],gam:[],xandrSsp:[]}),ze=(e,t)=>(0,o.zG)(t,i.KD([[e=>!e.consent||e.addonsLoaded&&!e.initdAddons.has(Ue.addonName),i.K4((()=>X.a9(Le())))],Ge(e,t)]),i.UI(X.xH)),Be=function(e){return i.K4((()=>X.a9(p.YP)))};const Ke=(e,t)=>(0,o.zG)(i.vP({classificationModels:ze(e,t)}),i.UI((e=>e.classificationModels))),Ne=function(e,t){return(0,o.zG)(Fe(e),ve({backoffAfterErrorMs:6e4}),i.VS((e=>be(X.UI((t=>{let{tpdUsage:r,userId:n}=t;return{validityKey:()=>n,freshnessKey:(0,o.ls)((()=>r),p.EQ((()=>0),(0,o.ls)(JSON.stringify,W.vp))),refresh:(0,o.ls)((()=>r),p.hX((e=>Object.keys(e).length>0)),p.tS((t=>e({user_id:n,time:new Date,tpd_segments:t}))))}}),t)))),i.UI(o.Q1))};const Fe=e=>t=>{const{config:r,metrics:n,permutiveApi:i,permutiveUrls:a}=e,s=n.startTimer("sdk_http_tpd_usage_seconds",{});return i.req({url:a.getEndpointUrl("/tpd/usage",p.G(r.apiVersion)),method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1}).then((e=>(n.stopTimer("sdk_http_tpd_usage_seconds",s),e)))};function We(e,t){const[r,n]=X.Ue(0);let a=!1;const s=()=>{try{a=!0,n(r.current+1)}finally{a=!1}},c=["amp","gigya","pxid","sailthru"],u=(0,o.zG)(t.identities,X.UI(ue.z7((e=>!c.includes(e)))));return(0,o.zG)(i.vP({fetchFromNewEndpoint:(0,o.zG)($e(e),ve({backoffAfterErrorMs:6e4})),fetchFromLegacyEndpoint:(0,o.zG)(Qe(e),ve({backoffAfterErrorMs:6e4}))}),i.VS((n=>{let{fetchFromNewEndpoint:i,fetchFromLegacyEndpoint:s}=n;const c=t=>(0,o.zG)(i(t),p.UI((e=>e.catch((()=>(0,o.zG)(s(t.identities),p.fS((()=>e))))))),p.wp((()=>s(t.identities))),p.UI((0,W.bw)((t=>{const r=e.metrics.startTimer("sdk_get_third_party_data_task_duration_seconds",{});t.catch(o.Q1).then((()=>{e.metrics.stopTimer("sdk_get_third_party_data_task_duration_seconds",r)}))}))));return be((0,o.zG)(X.vP(r,t.userId,t.sessionId,u),X.UI((e=>{let[t,r,n,i]=e;return{validityKey:()=>r,freshnessKey:()=>`${Ye(i)},${n}`,refresh:()=>(0,o.zG)({userId:r,identities:i},p.DT((e=>{let{identities:t}=e;return a&&!ue.xb(t)})),p.tS(c))}}))))})),i.UI((e=>({refresh:s,data:e}))))}const $e=e=>t=>(0,n.mG)(void 0,void 0,void 0,(function*(){return(yield e.api.reqWithMetrics(e.metrics,"sdk_http_audience_matching_seconds",{url:e.permutiveUrls.getAudienceMatchingEndpointUrl("/id",p.G("v1"),t.userId),payload:{identities:(0,o.zG)(t.identities,ue.Yz,N.UI((e=>{let[t,r]=e;return{tag:t,id:r}})))},method:"POST",withCredentials:!1,dataType:"json"})).items})),Qe=e=>t=>e.api.reqWithMetrics(e.metrics,"sdk_http_tpd_seconds",{url:e.permutiveUrls.getEndpointUrl("/tpd",p.G(e.config.apiVersion)),method:"POST",payload:{user_id:t},contentType:"text/plain",dataType:"json",withCredentials:!1}),Ye=(0,o.ls)(JSON.stringify,W.vp),Ve=(e,t)=>(0,o.zG)(i.vP({data:We(e,{identities:t.identities,sessionId:t.sessionId,userId:t.userId}),usageReporting:Ne(e,X.vP({tpdUsage:t.tpdUsage,userId:t.userId})),removeLegacyDataFromLocalStorage:i.dQ((t=>{let{previousState:r}=t;if(!r){const t=e.namespace.getNamespacedStorageKey("permutive-data-tpd");localStorage.removeItem(t)}return{value:null,state:X.a9(!0)}}))}),i.UI((e=>{let{data:t}=e;return{data:t.data,refreshData:t.refresh}})));X.a9([]),X.a9([]),X.a9([]),X.a9([]),X.a9([]),X.a9([]),X.a9(p.YP);function He(e,t,r){const{addonsLoaded:n,consent:a,currentTimestampSecs:s,enabledAddons:c,identities:u,realtime:d,sessionId:l,userId:f,viewId:g}=t,[h,m]=(0,o.zG)(X.Ue(p.YP),(e=>{let[t,r]=e;return[(0,o.zG)(t,X.VS(p.EQ((()=>X.a9(p.YP)),X.UI(p.G)))),r]})),[b,_]=(0,o.zG)(X.Ue(X.a9(p.YP)),(e=>{let[t,r]=e;return[X.xH(t),r]}));return(0,o.zG)(i.vP({lookalikeModels:Be(e)}),i.ak("sdkql",(t=>{let{lookalikeModels:i}=t;return r(e,{addonsLoaded:n,consent:a,initdAddons:c,lookalikeModels:i,nonQlCohorts:h,thirdPartyData:b,userId:f})})),i.ak("demandPartners",(t=>{let{sdkql:{queryLanguage:r}}=t;return((e,t)=>(0,o.zG)(i.vP({ssp:Ae.sspService(e.externalData,t)}),i.UI((e=>{let{ssp:t}=e;return t}))))(e,{addonsLoaded:n,consent:a,initdAddons:c,standardCohorts:r.cohorts.standard})})),i.ak("mediaAndEntertainment",(t=>{let{sdkql:{queryLanguage:r}}=t;return((e,t)=>(0,o.zG)(i.vP({freewheel:qe(Object.assign({activationManager:e.activationManager,externalData:e.externalData},t))}),i.UI((0,o.a9)({}))))(e,{addonsLoaded:n,consent:a,initdAddons:c,queryLanguageCohorts:r.cohorts.all})})),i.ak("publishers",(t=>{let{sdkql:{queryLanguage:r}}=t;return((e,t)=>(0,o.zG)(i.vP({addressability:Ke(e,X.vP(t)),audienceMatching:Ve(e,{identities:t.identities,sessionId:t.sessionId,tpdUsage:t.tpdUsage,userId:t.userId})}),i.UI((e=>{let{addressability:t,audienceMatching:r}=e;return{cohorts:{all:X.UI((e=>e.allCohorts),t),gam:X.UI((e=>e.gam),t),xandrSsp:X.UI((e=>e.xandrSsp),t)},refreshThirdPartyData:r.refreshData,thirdPartyData:r.data}}))))(e,{addonsLoaded:n,consent:a,currentTimestampSecs:s,identities:u,initdAddons:c,queryLanguageCohorts:r.cohorts.all,realtime:d,sessionId:l,tpdUsage:r.tpdUsage,userId:f})})),i.ak("advertisers",(t=>{let{demandPartners:r,sdkql:i}=t;return Te(e,{addonsLoaded:n,consent:a,currentTimestampSecs:s,customCohorts:i.queryLanguage.cohorts.custom,demandPartnerCohorts:X.UI((e=>e.cohorts),r),initdAddons:c,prebidJS:i.prebidJS,sessionId:l,standardCohorts:i.queryLanguage.cohorts.standard,userId:f,viewId:g})})),i.bw((e=>{let{publishers:t}=e;return _(t.thirdPartyData)})),i.UI((e=>{let{advertisers:t,demandPartners:r,publishers:n,sdkql:i}=e;return{cloudCohorts:{all:(0,o.zG)(X.vP(n.cohorts.all,t.segments.all,X.UI((e=>e.cohorts),r)),X.UI(N.xH)),gam:(0,o.zG)(X.vP(n.cohorts.gam,t.segments.all,X.UI((e=>e.gamTargetingValues),r)),X.UI(N.xH)),xandrSsp:n.cohorts.xandrSsp},eventCollection:i.eventCollection,pbjsPair:X.UI((e=>e.mainPair),i.prebidJS),queryLanguageCohorts:i.queryLanguage.cohorts,refreshThirdPartyData:n.refreshThirdPartyData,resetQL:i.reset}})),i.bw((e=>{let{cloudCohorts:t}=e;return m(p.G(t.all))})))}function Je(e){return pe(e,Xe)}function Xe(e,t){return He(e,t,de)}},6640:(e,t,r)=>{r.d(t,{B9:()=>h,iq:()=>l,ti:()=>m});var n=r(2688),i=r(787),a=r(5e3),s=r(6567),o=r(3735),c=r(2652),u=r(3030);const d="__permutive.",l="__permutiveConfigQueryParams";const f={default:{windowKey:"permutive",environment:"default",apiHost:"api.permutive.com",apiKey:"",cdnBaseUrl:"cdn.permutive.com",pxidHost:"prmutv.co",apiVersion:"v2.0",sdkErrorsApiVersion:"v2",advertiserApiVersion:"v2",classificationModelsApiVersion:"v1",apiProtocol:"https",loggingEnabled:!1,tracingEnabled:!1,requestTimeout:5e3,cookieDomain:"."+(0,u._Y)(window.location.hostname),cookieName:"permutive-id",cookieExpiry:function(){const e=new Date;return e.setMonth(e.getMonth()+6),e.toUTCString()}(),eventsTTLInDays:null,permutiveDataMiscKey:"permutive-data-misc",permutiveDataModelsKey:"permutive-data-models",permutiveDataQueriesKey:"permutive-data-queries",permutiveDataEnrichersKey:"permutive-data-enrichers",stateNamespace:"",sendClientErrors:!0,metricsSamplingPercentage:20,eventsCacheLimitBytes:25e5,segmentSyncApiHost:"10453011-272d-49cd-9043-1964fdb36fd8.partner.permutive.app",consentRequired:!1,sdkType:"stable",viewId:null,localStorageDebouncedKeys:["internal_query_states"],localStorageWriteDelay:1e3,localStorageWriteMaxDelay:1500,watson:{enabled:!0}},production:{},development:{apiProtocol:"http",loggingEnabled:!0,tracingEnabled:!0,sendClientErrors:!1}},g=e=>{const t={consentRequired:!0,loggingEnabled:!0,sendClientErrors:!0,tracingEnabled:!0},r={eventsTTLInDays:!0,eventsCacheLimitBytes:!0,metricsSamplingPercentage:!0,requestTimeout:!0,localStorageWriteDelay:!0,localStorageWriteMaxDelay:!0};return Object.keys(e).reduce(((n,i)=>{if(t.hasOwnProperty(i)){const t="true"===e[i];return Object.assign(Object.assign({},n),{[i]:t})}if(r.hasOwnProperty(i)){const t=Number(e[i]);return isNaN(t)?n:Object.assign(Object.assign({},n),{[i]:t})}return Object.assign(Object.assign({},n),{[i]:e[i]})}),{})},h=function(){let{getQueryParams:e=u.zM}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e=>Object.entries(e).reduce(((e,t)=>{let[r,n]=t;if(!(0===r.indexOf(d)))return e;const i=r.replace(d,"");return[...e,[i,n]]}),[]);return(0,o.zG)(a.Y3((()=>(0,o.zG)(e(),t,(e=>(0,c.m8)(...e)),g,(e=>p({queryConfig:e})))),(e=>`Failed to parse query params. Got ${(0,n.w)(e).message}`)))},p=e=>{let{queryConfig:t}=e;const r=(0,o.zG)(s.Y3((()=>window.sessionStorage.getItem(l))),s.tS(s.ij),s.tS((0,o.ls)(i.A,s.ij)),s.fS((()=>({}))));return(0,c.PM)(r,t)},m=(e,t)=>{var r;const n=null!==(r=e.environment&&f[e.environment])&&void 0!==r?r:{};return(0,c.PM)(f.default,n,e,t)}},4564:(e,t,r)=>{r.d(t,{NY:()=>m,vk:()=>g,qA:()=>f});var n=r(655),i=r(2688),a=r(5e3),s=r(3735),o=r(6934),c=r(8259),u=r(1410),d=r(6054);var l=r(30);const f=()=>({opt_in:!0,token:u.L}),g=()=>({opt_in:!1,token:""}),h=e=>{return(0,s.ls)((t=e,e=>(0,s.zG)((0,l.J)(t.consentRequired,e),(e=>{let{consentData:r,isValid:n}=e;return t.consentDatabase.put(r,u.L),n}))),(e=>{let{logger:t,messages:r}=e;return e=>{const n=e?"given":"revoked";return t.log("Consent has been",n),r.emit(`permutive:consent:${n}`),e}})(e));var t},p=e=>(t,r)=>{e.on("permutive:consent:revoked",t),e.on("permutive:consent:given",r)},m=e=>(0,n.mG)(void 0,void 0,void 0,(function*(){const{logger:t,namespace:r,consentRequired:n,messages:f}=e,g=new c.oP(window.localStorage,r),m=(0,l.J)(n,yield g.get(u.L)),b=yield(0,s.zG)(o.Y3((()=>g.put(m.consentData,u.L)),(e=>new Error(`LocalStorage access is required. ${(0,i.w)(e).message}`))),(e=>e()));if(a.nM(b))return b;const{consentRef:_,giveConsent:v,revokeConsent:y,isRevoked:w,isGiven:k}=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const[t,r]=d.Ue(e),n=()=>!0===t.current;return{consentRef:t,revokeConsent:()=>(r(!1),t.current),giveConsent:()=>(r(!0),t.current),isRevoked:()=>!n(),isGiven:n}}(m.isValid),E={consentRef:_,isGiven:k,isRevoked:w,listenForConsent:p(f)};E.listenForConsent(y,v);const S=h({consentDatabase:g,consentRequired:n,logger:t,messages:f});return a.F2({consentTracking:E,consentValidation:S,consentDatabase:g})}))},1410:(e,t,r)=>{r.d(t,{L:()=>n});const n="permutive-consent"},7708:(e,t,r)=>{r.d(t,{D:()=>l});var n=r(1500),i=r(5e3),a=r(3735),s=r(6567),o=r(5151),c=r(4922),u=r(1410),d=r(30);const l=e=>{const{partialTagWithKey:t}=e,r=t.key;var l;window[r].consent=(l=e,(0,a.ls)(l.consentModule.consentValidation,s.DT(Boolean),s.UI((0,c.H)(l)),a.Q1));const f=(0,s.EQ)((()=>{return t={consentDatabase:e.consentModule.consentDatabase,consentRequired:e.tag.config.consentRequired},(0,a.zG)((0,a.a9)(t.consentDatabase.get(u.L)),(0,o.UI)((e=>(0,d.J)(t.consentRequired,e).isValid)));var t}),o.of);return(0,a.zG)((0,a.zG)((e=>{let{consentModule:t,tag:r}=e;const i=(0,n.Ew)((function(e){return"consent"===e.functionName}))(r.q);return(0,s.UI)((e=>t.consentValidation(e.arguments[0])))(i)})(e),f),(0,o.UI)((e=>e?(0,i.F2)(!0):(0,i.t$)("No consent to run on the page"))))}},4769:(e,t,r)=>{r.d(t,{v:()=>n});const n=(e,t,r)=>function(){const n=r()?t:e;return n(...arguments)}},30:(e,t,r)=>{r.d(t,{J:()=>s});var n=r(3735),i=r(6567),a=r(4564);const s=(e,t)=>(0,n.zG)((0,i.ij)(t),(t=>!1===e&&(0,i.Wi)(t)?{isValid:!0,consentData:(0,a.qA)()}:(e=>(0,i.pC)(e)&&(e=>null!==e&&"object"==typeof e)(e.value)&&(e=>{var t;return!0===e.opt_in&&"string"==typeof e.token&&(null===(t=e.token)||void 0===t?void 0:t.length)>0})(e.value))(t)?{isValid:!0,consentData:t.value}:{isValid:!1,consentData:(0,a.vk)()}))},3298:(e,t,r)=>{r.d(t,{S:()=>b});var n=r(3735),i=r(655),a=r(6567),s=r(1500),o=r(6054),c=r(1540),u=r(2497),d=r(5165);var l=r(2652);class f{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.wait_prev=t.wait_prev||!1,this.block_next=t.block_next||!1,this.started=!1,this.complete=!1,this.task=e}waits(){return this.wait_prev}blocks(){return this.block_next}execute(e){this.started=!0,this.task((()=>{this.complete=!0,e()}))}}var g=r(6315);class h{constructor(e,t,r,n,i,a,s,o,c,u,d,l,f,g,h,p,m,b,_,v,y,w,k,E,S,P,D,x){this.logger=e,this.api=t,this.activationManager=r,this.sessionManager=n,this.metrics=i,this.viewId=a,this.userId=s,this.network=o,this.enrichers=c,this.clientContext=u,this.unprocessedEvents=d,this.queryManager=l,this.taskQueue=f,this.identities=g,this.permutiveReset=h,this.messages=p,this.addons=m,this.trace=b,this.permutiveRealtime=_,this.state=v,this.customProperties=y,this.config=w,this.permutiveData=k,this.externalData=E,this.cookies=S,this.identitiesIngestor=P,this.global=D,this.nextGen=x,this.initialisedAddons=[],this.triggerListeners=[]}identify(e){this.logger.debug("<call> identify",e);const t=(0,l.b2)(),r=this.identities.parseCustomerDefinedIdentities(e),o=Object.assign(Object.assign({},this.identities.getIdentitiesMap()),r.reduce(((e,t)=>{let{tag:r,id:n,priority:i,expiry:a}=t;return Object.assign(Object.assign({},e),{[r]:Object.assign(Object.assign({id:n},void 0!==i?{priority:i}:{}),void 0!==a?{expiry:a}:{})})}),{})),u=(0,n.zG)(Object.values(o),s.DZ((e=>a.ij(e.id)))),d=this.identities.getPrioritizedIdentities(o);if("string"==typeof e&&(0,c.Bt)("10453011-272d-49cd-9043-1964fdb36fd8","10453011-272d-49cd-9043-1964fdb36fd8",u,window.location.hostname,this.userId.get()))return t.resolve(),t.promise;const h=()=>(0,i.mG)(this,void 0,void 0,(function*(){this.nextGen.refreshThirdPartyData()})),p=e=>(0,i.mG)(this,void 0,void 0,(function*(){yield(0,g.Yj)({clientContext:this.clientContext,global:this.global,identities:this.identities,logger:this.logger,nextGen:this.nextGen,reset:this.permutiveReset,userId:this.userId},e.user_id)}));return this.taskQueue.add(new f((e=>(0,i.mG)(this,void 0,void 0,(function*(){this.logger.debug("<task> identify ",r);const n=yield this.api.identify(this.metrics,this.userId,d);this.identities.setIdentities(r),this.userId.isEqual(n.user_id)?yield h():yield p(n),this.logger.debug("<done> identify",r),e(),t.resolve(),yield this.identitiesIngestor.ingestIfEligible(r).catch((e=>this.api.reportError(`Couldn't ingest identities, got ${e}`,this.userId.get())))}))),{wait_prev:!0,block_next:!0})),t.promise}on(e,t){return this.nextGen.eventCollection.on(e,t)}once(e,t){return this.nextGen.eventCollection.once(e,t)}track(){var e,t,r;const[n,i,a]=[arguments.length<=0?void 0:arguments[0],(arguments.length<=1?void 0:arguments[1])||{},(arguments.length<=2?void 0:arguments[2])||{}],s=this.trace.startSpan("track_event");this.logger.log("<call> track",n);const o=(0,l.b2)(),c=null!==(e=a.unprocessedData)&&void 0!==e?e:{},u=null!==(t=c.sessionId)&&void 0!==t?t:this.sessionManager.getSessionId(),d=null!==(r=c.viewId)&&void 0!==r?r:this.viewId.get(),g={success:a.success||(e=>{}),error:a.error||((e,t)=>{})};return this.taskQueue.add(new f((e=>{this.logger.log("<task> track",n);return(c.client?Promise.resolve(c.client):this.clientContext.getClient()).then((t=>{var r;const c={name:n,properties:i,session_id:u,view_id:d,time:new Date};return this.nextGen.eventCollection.track({client:i.client?(0,l.PM)(t,i.client):t,event:c,requestOptions:g,useBeacon:null!==(r=a.useBeacon)&&void 0!==r&&r}).then((t=>{this.logger.log("<done> track",c.name),o.resolve(c),e(),s.finish()})).catch((e=>{var t;null===(t=g.error)||void 0===t||t.call(g,e),this.api.reportError(e,this.userId.get()),o.reject(e)}))}))}))),o.promise}trigger(e,t,r){const n=(0,l.b2)();this.logger.log("<call> trigger",e),this.triggerListeners=this.triggerListeners||[];return this.taskQueue.add(new f((t=>{this.logger.log("<task> trigger",e);const i=this.messages.on("permutive:query:changed",(function(t){t.queryCode===e&&(r(t.result),n.resolve(t.result))}));this.triggerListeners.push(i),this.logger.log("<done> trigger",e),t()}))),n.promise}query(){return Promise.resolve({result:!1})}segment(e,t){const r=(0,l.b2)();this.logger.log("<call> segment",e);return this.taskQueue.add(new f((n=>{var i;this.logger.log("<task> segment",e);const a=this.queryManager.stateMap.value[e];t((null===(i=null==a?void 0:a.result)||void 0===i?void 0:i.result)||!1),r.resolve(),this.logger.log("<done> segment",e),n()}))),r.promise}segments(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";const r=(0,l.b2)();this.logger.log("<call> segments");return this.taskQueue.add(new f((n=>{this.logger.log("<task> segments ("+t+")");const i=i=>{e(i),r.resolve(i),this.logger.log("<done> segments ("+t+")"),n()};"dfp"===t?this.messages.once("permutive:dfp:ready",(()=>{this.addons.dfp&&i([...this.addons.dfp.segments.liveSegments])})):i([...this.nextGen.queryLanguageCohorts.all.current])}))),r.promise}reset(){return Promise.all([this.api.reset(this.metrics),this.identities.reset(),this.permutiveReset.reset(),this.unprocessedEvents.PageviewComplete.reset(),this.nextGen.resetQL({downloadState:!1,preserveEventsFromCurrentView:!1})]).then((e=>{let[t]=e;this.userId.set(t.id)})).then((()=>{this.messages.emit("permutive:reset")})).catch((e=>{this.api.reportError(`Error resetting internals. Got ${e}`)}))}addon(e,t){const s=Object.assign(Object.assign({},t),{permutive:this,api:this.api,activationManager:this.activationManager,network:this.network,clientContext:this.clientContext,logger:this.logger,unprocessedEvents:this.unprocessedEvents,metrics:this.metrics,state:this.state,queryManager:this.queryManager,messages:this.messages,userId:this.userId,viewId:this.viewId,customProperties:this.customProperties,config:this.config,permutiveData:this.permutiveData,sessionManager:this.sessionManager,addons:this.addons,enrichers:this.enrichers,externalData:this.externalData,cookies:this.cookies,nextGenOutput:this.nextGen});(0,n.zG)(this.nextGen.pbjsPair,o.UI(a.UI((0,l.vg)("pbjs"))));if(-1===this.initialisedAddons.indexOf(e))switch(this.initialisedAddons.push(e),this.messages.emit("permutive:addon:preinit",e),e){case"web":Promise.resolve().then(r.bind(r,4400)).then((e=>this.addons.web=new e.WebAddon(s))).then((()=>this.messages.emit("permutive:web:ready")));break;case"publishers":Promise.resolve().then(r.bind(r,713)).then((e=>this.addons.publishers=new e.PublishersAddon(s)));break;case"overlays":case"scriptrunner":case"nativo":case"freewheel":case"eyeota_pixel":case"rubicon":case"pinterest_pixel":case"local_storage":case"prebid":case"clean_room":case"gam_log":case"smart":case"tradedesk":case"pubmatic":case"ctv":0;break;case"dfp":Promise.resolve().then(r.bind(r,9658)).then((e=>(0,i.mG)(this,void 0,void 0,(function*(){return this.addons.dfp=yield e.createAddon(s)}))));break;case"facebook_pixel_v2":Promise.resolve().then(r.bind(r,4519)).then((e=>this.addons.facebook_pixel_v2=new e.FacebookV2Pixel(s)));break;case"rubicon_ssp":Promise.resolve().then(r.bind(r,8563)).then((e=>this.addons.rubicon_ssp=new e.RubiconSspAddon(s)));break;case"tracking_pixel":Promise.resolve().then(r.bind(r,3792)).then((e=>this.addons.tracking_pixel=new e.PixelAddon(s)));break;case"twitter_pixel":Promise.resolve().then(r.bind(r,926)).then((e=>this.addons.twitter_pixel=new e.TwitterAddon(s)));break;case"appnexus_adserver":Promise.resolve().then(r.bind(r,2721)).then((e=>this.addons.appnexus_adserver=new e.AppNexusAdServerAddon(s)));break;case"classification_models":Promise.resolve().then(r.bind(r,6320)).then((e=>this.addons.classification_models=new e.ClassificationModelsAddon(s)));break;case"ddp":case"dbm":Promise.resolve().then(r.bind(r,9319)).then((e=>this.addonIfTCFConsent({Addon:e.DDPPixel,key:"ddp"},s)));break;case"appnexus":Promise.resolve().then(r.bind(r,3994)).then((e=>this.addonIfTCFConsent({Addon:e.AppnexusPixel,key:"appnexus"},s)));break;case"ssp":Promise.resolve().then(r.bind(r,9557)).then((e=>this.addons.ssp=new e.SspAddon(s)))}else"web"===e&&!0!==t.auto_init?((e,t,r,n)=>new Promise(((i,s)=>{var o;const c=(0,a.Y3)(e);if((0,a.pC)(c))return i(c.value);r.once(t,(()=>(0,a.g_)((()=>s(new Error(`Error after waiting for event ${t}`))),i)((0,a.Y3)(e))));const u=null!==(o=null==n?void 0:n.timeout)&&void 0!==o?o:1e4;setTimeout((()=>s(new Error(`Event ${t} was not received within the timeout period ${u}ms`))),u)})))((()=>{if(!this.addons.web)throw new Error('"web" addon not ready');return this.addons.web.reset(t)}),"permutive:web:ready",this.messages).catch((e=>{this.api.reportError(`Got error while trying to reset web. Got ${e.message}`,this.state.userId.get())})):"ctv"===e&&(null==t||t.auto_init)}addonIfTCFConsent(e,t){const r=()=>{switch(e.key){case"tradedesk":this.addons.tradedesk=new e.Addon(t);break;case"ddp":this.addons.ddp=new e.Addon(t);break;case"appnexus":this.addons.appnexus=new e.Addon(t);break;case"pubmatic":this.addons.pubmatic=new e.Addon(t)}},i=t=>t[d.D[e.key]]?r():(0,n.Q1)();return(0,u._8)(window).then((e=>{switch(e.type){case"missing":return r();case"aborted":return(0,n.Q1)();case"loaded":return(0,n.zG)((0,u.Ec)(e.data),(0,a.g_)(r,i))}}))}ready(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"initialised";const r=(0,l.b2)(),n=()=>{e(),r.resolve()};switch(t){case"initialised":this.permutiveRealtime.isReady()?n():this.messages.on("permutive:ready",n);break;case"realtime":this.permutiveRealtime.isRealtime()?n():this.messages.once("permutive:realtime",n)}return r.promise}}var p=r(4769);const m=e=>{const{logger:t,consentTracking:r}=e,a=function(){return t.debug("Methods[track]: Cannot track as consent is revoked"),Promise.resolve(null)};return e=>class extends e{constructor(){super(...arguments),this.track=(0,p.v)(super.track.bind(this),a,r.isRevoked),r.listenForConsent((()=>this.consentRevoked()),n.Q1)}consentRevoked(){return(0,i.mG)(this,void 0,void 0,(function*(){return yield this.sessionManager.reset(),this.reset()}))}}},b=(e,t,r,i,a,s,o,c,u,d,l,f,g,p,b,_,v,y,w,k,E,S,P,D,x,I,M,O,C)=>new((0,n.zG)(h,m({consentTracking:O,logger:e})))(e,t,r,i,a,s,o,c,u,d,l,f,g,p,b,_,v,y,w,k,E,S,P,D,x,I,M,C)},6416:(e,t,r)=>{r.d(t,{O:()=>c});var n=r(1828),i=r(5e3),a=r(3735);const s=e=>(0,a.zG)((e=>"function"==typeof e.Map?(0,i.F2)(new e.Map([["a",1]])):(0,i.t$)("Maps not supported"))(e),i.tS((e=>1===e.size?(0,i.F2)(null):(0,i.t$)("Iterable Maps not supported")))),o=e=>(0,a.zG)((e=>"function"==typeof e.Set?(0,i.F2)(new e.Set([1,2])):(0,i.t$)("Sets not supported"))(e),i.tS((e=>2===e.size?(0,i.F2)(null):(0,i.t$)("Iterable Sets not supported")))),c=e=>(0,a.zG)((0,n.gz)(i.G5)(s(e),o(e),(e=>e.Worker&&e.Blob?(0,i.F2)(null):(0,i.t$)("WebWorkers not supported"))(e)),(e=>(0,i.UI)(a.Q1)(e)))},6315:(e,t,r)=>{r.d(t,{Yj:()=>d,TZ:()=>u});var n=r(655),i=r(2688),a=r(3735),s=r(6567);var o=r(1540);const c=e=>(0,n.mG)(void 0,void 0,void 0,(function*(){yield e.identityPromise,yield function(e,t){return(0,o.Bt)("10453011-272d-49cd-9043-1964fdb36fd8","10453011-272d-49cd-9043-1964fdb36fd8",e.identities.getPrioritizedIdentities(e.identities.getIdentitiesMap()).map((e=>e.id)),window.location.hostname,e.userId.get())?t.reset():Promise.resolve()}(e,e.permutiveMethods);const t=yield function(e){const t=e.trace.startSpan("identify");0;return(e=>(0,n.mG)(void 0,void 0,void 0,(function*(){const{logger:t,network:r,api:i,userId:a,identities:s,metrics:o,identitiesIngestor:c,messages:u}=e,d=s.extractIdentifyFromQueue(e),l=s.getIdentitiesMap(),f=d.reduce(((e,t)=>{let{tag:r,id:n,priority:i,expiry:a}=t;return Object.assign(Object.assign({},e),{[r]:Object.assign(Object.assign({id:n},a?{expiry:a}:{}),void 0!==i?{priority:i}:{})})}),{}),g=Object.assign(Object.assign({},l),f);t.log("Starting identification... Identities are:",g);const h=s.getPrioritizedIdentities(g),p=yield i.identify(o,a,h).then((e=>(0,n.mG)(void 0,void 0,void 0,(function*(){const r=e.user_id;return a.isEqual(r)?{identityChanged:!1}:(t.log(`Got different user id from API: ${r}`),{identityChanged:!0,userId:r})})))).catch((e=>(0,n.mG)(void 0,void 0,void 0,(function*(){const t=a.get();return i.reportError(`Couldn't set identity for user ${t}. Got ${e}`,t),{identityChanged:!1}}))));return s.setIdentities(Object.entries(g).map((e=>{let[t,{id:r,priority:n,expiry:i}]=e;return Object.assign(Object.assign({tag:t,id:r},i?{expiry:i}:{}),void 0!==n?{priority:n}:{})}))),c.ingestIfEligible(h).catch((e=>i.reportError(`Couldn't ingest identities, got ${e}`,p.identityChanged?p.userId:a.get()))),u.emit("permutive:user:ready"),t.debug("<done> init identity ",p),p})))(e).catch((t=>(e.api.reportError(`Failed to identify. Got ${(0,i.w)(t)}`),{identityChanged:!1}))).then((e=>(t.finish(),e)))}(e);return t.identityChanged?(e.metrics.track({name:"sdk_identity_changed_total",value:1,labels:{}}),yield d(e,t.userId)):(e.metrics.track({name:"sdk_identity_remained_total",value:1,labels:{}}),e.logger.log("Identity has not changed"),e.nextGen.refreshThirdPartyData()),t})),u=e=>(0,n.mG)(void 0,void 0,void 0,(function*(){c(e),yield function(e,t,r,i,o,c,u){e.log("Assuming identity hasn't changed");const d=o.hasNewOrModifiedQueries,l=t.startSpan(`qm_bootstrap_${d}`),f=()=>d?c.allEvents().then((e=>o.bootstrap(e))):o.bootstrap([]);return Promise.resolve().then(f).then((()=>i.PageviewComplete.getIfPresent())).then((0,s.g_)((()=>e.log("No unprocessed PVC data detected")),(t=>(0,a.zG)(e.log("Unprocessed PVC data detected",t),(e=>{const{props:r}=t;return{props:r,unprocessedData:(0,n._T)(t,["props"])}}),(e=>{let{props:t,unprocessedData:n}=e;return r.track("PageviewComplete",t,{unprocessedData:n}).finally((()=>i.PageviewComplete.reset()))}))))).then((()=>l.finish()))}(e.logger,e.trace,e.permutiveMethods,e.unprocessedEvents,e.queryManager,e.eventCollection,e.metrics),l(e.global,e.clientContext)}));function d(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){e.logger.log("Identity has changed"),yield e.reset.reset(),e.userId.set(t),l(e.global,e.clientContext),e.nextGen.refreshThirdPartyData(),e.identities.setIdentities([]),yield e.nextGen.resetQL({downloadState:!0,preserveEventsFromCurrentView:!0})}))}function l(e,t){return e.context=t.getContext()}},5919:(e,t,r)=>{function n(e,t,r,n,i){i.debug("set SDK as ready"),e.setAsReady(),t.emit("permutive:api:ready"),r.track({name:"sdk_local_storage_byte_total",value:n.getStateSizeInBytes(),labels:{}}),r.track({name:"sdk_query_states_byte_total",value:e.getStateSizeInBytes(),labels:{}})}r.d(t,{R:()=>n})},7985:(e,t,r)=>{r.d(t,{$o:()=>s,je:()=>o});var n=r(5e3),i=r(3735),a=r(6640);const s=e=>{var t,r;const a="10453011-272d-49cd-9043-1964fdb36fd8",s=void 0!==(null===(t=e[a])||void 0===t?void 0:t.q)&&void 0!==(null===(r=e[a])||void 0===r?void 0:r.config)?a:"permutive";return(0,i.zG)(e[s],(0,n.ij)("Can't find permutive tag on the page"),(0,n.UI)((e=>({tag:e,key:s}))))},o=(e,t)=>{let{tag:r,key:n}=e;return Object.assign(Object.assign({},r),{config:(0,a.ti)(Object.assign(Object.assign({},r.config),{windowKey:n}),t)})}},7078:(e,t,r)=>{r.d(t,{LA:()=>o});var n=r(1500),i=r(7209),a=r(2652);const s=(e,t,r)=>{let{api:n,state:i}=r;n.reportError(`Function "permutive.${t.functionName}" caused an error: ${e.message}`,i.userId.get())};function o(e,t,r,n,i,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:l;const u=c(e),d=a.startSpan("queued_methods"),f={api:i,state:t},g=e=>{if(e.functionName in r){r[e.functionName].apply(n,e.arguments)}else s(new Error("Does not exist."),e,f)},h=e=>!o.includes(e);u.forEach((e=>{try{h(e.functionName)&&g(e)}catch(t){const r=t instanceof Error?t:new Error("Unknown error.");s(r,e,f)}})),d.finish()}function c(e){const t=(0,n.uK)((e=>-1!==d.indexOf(e.functionName)))(e),r=t.right,s=t.left.filter((e=>"consent"!==e.functionName)),o=(0,i.Zt)(((e,t)=>u(e)&&u(t)?(0,a.lW)(f).compare(e.arguments[0],t.arguments[0]):(0,a.lW)(d).compare(e.functionName,t.functionName)));return(0,n.DY)(o)(r).concat(s)}const u=e=>"addon"===e.functionName,d=["identify","trigger","addon","track"],l=["identify"],f=["dfp","appnexus_adserver","web"]},4922:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>initialiseWebSDK,f:()=>initialisationSequence});var tslib__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(655),_permutive_permutive_utils_ts_error__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(2688),fp_ts_Either__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__(5e3),fp_ts_function__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(3735),fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(6934),_cost_analysis__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__(1493),_framework_service_ref__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6054),_identity_legacy_NeustarFabrickIdentitiesIngestor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6967),_identity_legacy_PermutiveIdentities__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1540),_identity_legacy_PermutiveIdentitiesIngestorNoOp__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(7658),_sdkql_blockers__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__(122),_core_activations_PermutiveActivationManagerWeb__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8975),_core_activations_PermutiveAddons__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9853),_core_context_PermutiveClientContextWeb__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(2836),_sdkql_event_collection_events_cache_store_crypto_HashcodeDigest__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6197),_sdkql_event_collection_PermutiveEventCustomProps__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(7748),_core_events_unprocessed_UnprocessedPageviewComplete__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(389),_core_events_unprocessed_UnprocessedPrebidAuctions__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(5865),_core_internals_CookiesWeb__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5461),_core_internals_ExternalDataWeb__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(9773),_core_internals_PermutiveLogger__WEBPACK_IMPORTED_MODULE_55__=__webpack_require__(342),_core_internals_SDKMessages__WEBPACK_IMPORTED_MODULE_58__=__webpack_require__(8491),_core_metrics_MetricReporter__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(400),_core_metrics_Metrics__WEBPACK_IMPORTED_MODULE_59__=__webpack_require__(4074),_sdkql_query_language_query_manager_QueryManagerWeb__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1628),_core_session_SessionManager__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8317),_core_state_PermutiveDataStoreWeb__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(4026),_sdkql_state_sync_PermutiveEventSourceId__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(3622),_core_state_PermutiveNamespace__WEBPACK_IMPORTED_MODULE_57__=__webpack_require__(569),_core_state_PermutiveRealtime__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(7575),_core_state_PermutiveReset__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__(7256),_sdkql_state_sync_PermutiveStateSyncWeb__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(1229),_core_state_PermutiveStateWeb__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__(7274),_core_state_PermutiveUserId__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(9117),_core_state_PermutiveViewId__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(9880),_core_store_LocalStorage__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(7554),_core_store_SessionStorage__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(9332),_core_tcf_TCF__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2497),_dynamic_addons_LoadAddons__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(6037),_sdkql_event_collection_enrichment_Enrichers_GlobalEnricher__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(3116),_sdkql_event_collection_enrichment_RegisterEnrichers__WEBPACK_IMPORTED_MODULE_52__=__webpack_require__(6341),_dynamic_messages_PermutiveMessages__WEBPACK_IMPORTED_MODULE_51__=__webpack_require__(9078),_http_PermutiveApi__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(7423),_http_PermutiveNetwork__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4586),_http_PermutiveUrls__WEBPACK_IMPORTED_MODULE_56__=__webpack_require__(310),_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2652),_utils_task_queue_PermutiveTaskQueue__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__(4996),_utils_Trace__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(6574),_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(3030),_Config__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(6640),_Consent_Consent__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(4564),_Consent_InitialisationCheckWeb__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(7708),_initialisation_browserFeatures__WEBPACK_IMPORTED_MODULE_54__=__webpack_require__(6416),_initialisation_identity__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(6315),_initialisation_initialisationLifecycle__WEBPACK_IMPORTED_MODULE_53__=__webpack_require__(5919),_initialisation_permutiveTag__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(7985),_sdkql_query_language_queryWorkerInit__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(8318),_initialisation_queuedMethods__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(7078),_PermutiveMethodsWeb__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(3298),_next_gen_index_web__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(8346);const prefix="[Initialisation Web]",sdkInitTimestamp=window.performance.now(),initialiseWebSDK=_ref=>{let{consentModule,logger,messages,metrics,namespace,network,partialTagWithKey,permutiveData,queryWorker,tag,sessionStorage,configFromQueryParams,urls}=_ref;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Y3)((()=>(0,tslib__WEBPACK_IMPORTED_MODULE_31__.mG)(void 0,void 0,void 0,(function*(){const windowKey=partialTagWithKey.key,permutiveGlobal=window[windowKey],config=tag.config,viewId=new _core_state_PermutiveViewId__WEBPACK_IMPORTED_MODULE_14__.W(config),trace=new _utils_Trace__WEBPACK_IMPORTED_MODULE_32__.l(config),sdkReadySpan=trace.startSpan("sdk_ready"),{consentTracking,consentValidation}=consentModule;(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.zG)(consentTracking.consentRef,_framework_service_ref__WEBPACK_IMPORTED_MODULE_0__.YP((e=>{e?sessionStorage.put(configFromQueryParams,_Config__WEBPACK_IMPORTED_MODULE_21__.iq).then(fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.Q1,(e=>{logger.warn(prefix,`Failed to cache "${_Config__WEBPACK_IMPORTED_MODULE_21__.iq}".`,(0,_permutive_permutive_utils_ts_error__WEBPACK_IMPORTED_MODULE_34__.w)(e))})):sessionStorage.delete(_Config__WEBPACK_IMPORTED_MODULE_21__.iq)}))),window[windowKey].consent=consentValidation;const context=(0,_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_20__.PM)(tag.context||{},{path:window.location.pathname,url:(0,_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_35__.bk)(window.location.href),referrer:(0,_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_35__.bk)(document.referrer),view_id:viewId.get()}),createInternalsSpan=trace.startSpan("internals"),cookieStore=(0,_core_internals_CookiesWeb__WEBPACK_IMPORTED_MODULE_6__.S)(namespace,config,logger,consentTracking),localStorage=(0,_core_store_LocalStorage__WEBPACK_IMPORTED_MODULE_36__.E)(namespace,logger,consentTracking),externalData=(0,_core_internals_ExternalDataWeb__WEBPACK_IMPORTED_MODULE_37__.S)(namespace,logger,consentTracking),clientContext=new _core_context_PermutiveClientContextWeb__WEBPACK_IMPORTED_MODULE_38__.z(context);(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.zG)(viewId.ref,_framework_service_ref__WEBPACK_IMPORTED_MODULE_0__.YP((e=>clientContext.updateContext(["view_id",e]))));const userId=new _core_state_PermutiveUserId__WEBPACK_IMPORTED_MODULE_13__.M(config,clientContext,cookieStore,externalData),eventSourceId=new _sdkql_state_sync_PermutiveEventSourceId__WEBPACK_IMPORTED_MODULE_11__.$(permutiveData),enrichers=new _sdkql_event_collection_enrichment_Enrichers_GlobalEnricher__WEBPACK_IMPORTED_MODULE_39__.J,api=new _http_PermutiveApi__WEBPACK_IMPORTED_MODULE_18__.F(urls,config,network,metrics,logger);(0,_core_metrics_MetricReporter__WEBPACK_IMPORTED_MODULE_7__.p)({api,enrichers,logger,messages,metrics});const identityProviderEnv={permutive:permutiveGlobal,network,api,userId,metrics,permutiveData,messages,config,cookies:cookieStore,logger},identities=new _identity_legacy_PermutiveIdentities__WEBPACK_IMPORTED_MODULE_2__.lg(metrics,trace,permutiveData,identityProviderEnv,logger),identityPromise=identities.prepareThirdPartyIdentities(),identitiesIngestor=new _identity_legacy_PermutiveIdentitiesIngestorNoOp__WEBPACK_IMPORTED_MODULE_40__.z,permutiveRealtime=new _core_state_PermutiveRealtime__WEBPACK_IMPORTED_MODULE_41__.u(metrics,messages),sessionManager=yield _core_session_SessionManager__WEBPACK_IMPORTED_MODULE_9__.S.initialise(cookieStore,localStorage),unprocessedArgs={consentTracking,logger,namespace},unprocessedEvents={PageviewComplete:new _core_events_unprocessed_UnprocessedPageviewComplete__WEBPACK_IMPORTED_MODULE_42__.p(unprocessedArgs),PrebidAuctions:new _core_events_unprocessed_UnprocessedPrebidAuctions__WEBPACK_IMPORTED_MODULE_43__.J(unprocessedArgs)},customProperties=new _sdkql_event_collection_PermutiveEventCustomProps__WEBPACK_IMPORTED_MODULE_44__.X,queryManagerTransitionDebounceTime=1e3,queryManagerTransitionMaxDebounceTime=1e4,queryManager=new _sdkql_query_language_query_manager_QueryManagerWeb__WEBPACK_IMPORTED_MODULE_8__.c({customProperties,externalData,logger,messages,api,permutive:permutiveGlobal,permutiveData,queryWorker,realtime:permutiveRealtime,sessionManager,transitionDebounceMaxTime:queryManagerTransitionMaxDebounceTime,transitionDebounceTime:queryManagerTransitionDebounceTime,userId,viewId,metrics}),permutiveReset=new _core_state_PermutiveReset__WEBPACK_IMPORTED_MODULE_45__.a(config,localStorage,logger,permutiveData,eventSourceId,cookieStore,externalData),taskQueue=new _utils_task_queue_PermutiveTaskQueue__WEBPACK_IMPORTED_MODULE_46__.i(messages),stateSync=new _sdkql_state_sync_PermutiveStateSyncWeb__WEBPACK_IMPORTED_MODULE_12__.N(api,network,sessionManager,permutiveData,queryManager,metrics,userId,eventSourceId,(0,_sdkql_state_sync_PermutiveStateSyncWeb__WEBPACK_IMPORTED_MODULE_12__.e)()),activationManager=new _core_activations_PermutiveActivationManagerWeb__WEBPACK_IMPORTED_MODULE_3__.v(logger,permutiveGlobal,clientContext),[addonsLoadedRef,setAddonsLoaded]=_framework_service_ref__WEBPACK_IMPORTED_MODULE_0__.Ue(!1),nextGen=(0,_next_gen_index_web__WEBPACK_IMPORTED_MODULE_29__.B)({activationManager,addonsLoaded:addonsLoadedRef,api,config,consentTracking,enrichers,externalData,identities:identities.ref,logger,messages,metrics,namespace,network,permutiveData,queryManager,realtime:permutiveRealtime,sessionManager,stateSync,trace,unprocessedPVC:unprocessedEvents.PageviewComplete,urls,userId,viewId}),state=new _core_state_PermutiveStateWeb__WEBPACK_IMPORTED_MODULE_47__.u(permutiveData,permutiveReset,userId,viewId,nextGen.eventCollection);(0,_cost_analysis__WEBPACK_IMPORTED_MODULE_48__.M)({messages,metrics,permutiveData});const addons={},permutiveMethods=(0,_PermutiveMethodsWeb__WEBPACK_IMPORTED_MODULE_28__.S)(logger,api,activationManager,sessionManager,metrics,viewId,userId,network,enrichers,clientContext,unprocessedEvents,queryManager,taskQueue,identities,permutiveReset,messages,addons,trace,permutiveRealtime,state,customProperties,config,permutiveData,externalData,cookieStore,identitiesIngestor,permutiveGlobal,consentTracking,nextGen);createInternalsSpan.finish(),[].forEach((s=>{fp_ts_Either__WEBPACK_IMPORTED_MODULE_49__.Y3((()=>eval(s)),(e=>{api.reportError(Object.assign(Object.assign({},e),{message:`Error running custom script ${s}`}),userId.get())}))}));const blockers=(0,_sdkql_blockers__WEBPACK_IMPORTED_MODULE_50__.X)({logger,messages});blockers.addBlocker("permutive:queries:initialised"),messages.on("permutive:user:ready",(()=>{permutiveGlobal.identify=permutiveMethods.identify.bind(permutiveMethods);const e=identities.extractIdentifyFromQueue({global:permutiveGlobal});e.length>0&&permutiveGlobal.identify(e)})),messages.on("permutive:blockers:empty",(()=>{permutiveGlobal.on=permutiveMethods.on.bind(permutiveMethods),permutiveGlobal.once=permutiveMethods.once.bind(permutiveMethods),permutiveGlobal.track=permutiveMethods.track.bind(permutiveMethods),permutiveGlobal.trigger=permutiveMethods.trigger.bind(permutiveMethods),permutiveGlobal.query=permutiveMethods.query.bind(permutiveMethods),permutiveGlobal.segment=permutiveMethods.segment.bind(permutiveMethods),permutiveGlobal.segments=permutiveMethods.segments.bind(permutiveMethods),permutiveGlobal.reset=permutiveMethods.reset.bind(permutiveMethods),permutiveGlobal.ready=permutiveMethods.ready.bind(permutiveMethods),permutiveGlobal.addon=permutiveMethods.addon.bind(permutiveMethods),permutiveGlobal.context=clientContext.getContext(),permutiveGlobal.addons=addons,permutiveGlobal.config=config,permutiveRealtime.setAsReady(),(0,_initialisation_queuedMethods__WEBPACK_IMPORTED_MODULE_27__.LA)(permutiveGlobal.q,state,permutiveGlobal,permutiveMethods,api,trace),setAddonsLoaded(!0)}));const loadAddonsSpan=trace.startSpan("load_addons");(0,_dynamic_addons_LoadAddons__WEBPACK_IMPORTED_MODULE_17__.C)({extMessages:new _dynamic_messages_PermutiveMessages__WEBPACK_IMPORTED_MODULE_51__.a(messages),nextGen,messages,viewId,state,sessionManager,api,clientContext,externalData,logger,metrics,network,permutive:permutiveGlobal,q:permutiveGlobal.q,userId}),loadAddonsSpan.finish();const loadEnrichersSpan=trace.startSpan("load_enrichers"),enricherEnv={api,config,clientContext,logger,permutiveData,metrics,sessionManager,enrichers,network},loadEnrichersPromise=(0,_sdkql_event_collection_enrichment_RegisterEnrichers__WEBPACK_IMPORTED_MODULE_52__.H)(enricherEnv)();loadEnrichersPromise.then((()=>{loadEnrichersSpan.finish()})),yield(0,_initialisation_identity__WEBPACK_IMPORTED_MODULE_24__.TZ)({api,clientContext,eventCollection:nextGen.eventCollection,externalData,global:permutiveGlobal,identities,identitiesIngestor,identityPromise,logger,messages,metrics,network,nextGen,permutiveMethods,queryManager,reset:permutiveReset,stateSync,trace,unprocessedEvents,userId}),yield loadEnrichersPromise,(0,_initialisation_initialisationLifecycle__WEBPACK_IMPORTED_MODULE_53__.R)(queryManager,messages,metrics,state,logger),sdkReadySpan.finish()}))),(e=>`Exception during initialisation. Got ${e}`))},initialisationSequence=(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.zG)(fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Do,(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("support",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Uo)((0,_initialisation_browserFeatures__WEBPACK_IMPORTED_MODULE_54__.O)(window)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("queryWorker",(()=>_sdkql_query_language_queryWorkerInit__WEBPACK_IMPORTED_MODULE_26__.F)),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("partialTagWithKey",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Uo)((0,_initialisation_permutiveTag__WEBPACK_IMPORTED_MODULE_25__.$o)(window)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("configFromQueryParams",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Uo)((0,_Config__WEBPACK_IMPORTED_MODULE_21__.B9)()))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("tag",(e=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_initialisation_permutiveTag__WEBPACK_IMPORTED_MODULE_25__.je)(e.partialTagWithKey,e.configFromQueryParams)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("logger",(e=>{let{tag:t}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_core_internals_PermutiveLogger__WEBPACK_IMPORTED_MODULE_55__.SX)(t.config))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("urls",(e=>{let{tag:t}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)(new _http_PermutiveUrls__WEBPACK_IMPORTED_MODULE_56__.s(t.config))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("network",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)(new _http_PermutiveNetwork__WEBPACK_IMPORTED_MODULE_19__.E))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("namespace",(e=>{let{tag:t}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)(new _core_state_PermutiveNamespace__WEBPACK_IMPORTED_MODULE_57__.L(t.config))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("messages",(e=>{let{logger:t}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)(new _core_internals_SDKMessages__WEBPACK_IMPORTED_MODULE_58__.Q(t))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("consentModule",(e=>(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.zG)((()=>(0,_Consent_Consent__WEBPACK_IMPORTED_MODULE_22__.NY)(Object.assign(Object.assign({},e),{consentRequired:e.tag.config.consentRequired}))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Vn)((e=>e.message))))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("sessionStorage",(e=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_core_store_SessionStorage__WEBPACK_IMPORTED_MODULE_15__.u)(e.namespace,e.logger,e.consentModule.consentTracking)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("permutiveData",(e=>{let{tag:t,namespace:r,logger:n,consentModule:i}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_core_state_PermutiveDataStoreWeb__WEBPACK_IMPORTED_MODULE_10__.S)(t.config,r,n,i.consentTracking))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("metrics",(e=>{let{tag:t,messages:r,logger:n,permutiveData:i}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_core_metrics_Metrics__WEBPACK_IMPORTED_MODULE_59__.g)(sdkInitTimestamp,t.config,i,r,n))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("consent",(e=>(0,_Consent_InitialisationCheckWeb__WEBPACK_IMPORTED_MODULE_23__.D)(e))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.tS)((e=>initialiseWebSDK(e))))},2652:(e,t,r)=>{r.d(t,{G6:()=>S,Gz:()=>v,HP:()=>C,Or:()=>x,PM:()=>d,PQ:()=>P,SL:()=>f,Z_:()=>M,a4:()=>h,aq:()=>b,b0:()=>y,b2:()=>g,bw:()=>A,cO:()=>D,eu:()=>p,fl:()=>k,jn:()=>U,k$:()=>_,lW:()=>I,lo:()=>q,m8:()=>w,qh:()=>u,rO:()=>T,vg:()=>O,vp:()=>l});var n=r(1500),i=r(3735),a=r(6567),s=r(7209),o=r(6017),c=r(2751);const u=e=>Object.entries(e);function d(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{})}function l(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t}function f(e){return t=>{let r=0;for(let n of t){r=r+e(n)|0}return r}}o.ff(c.xb);function g(){let e,t;return{promise:new Promise(((r,n)=>{e=r,t=n})),reject:t,resolve:e}}function h(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n={waitTimeInMs:50,exponentialBackOff:!1,maxAttempts:20},{waitTimeInMs:s,exponentialBackOff:o,maxAttempts:c}=d(n,r);let u=0;const l=r=>new Promise((n=>Promise.resolve(t()).then((t=>t?Promise.resolve(e()).then((e=>n((0,a.G)(e)))):(0,i.zG)(u++,(e=>e<c?setTimeout((()=>n(l(r*(o?2:1)))),r):n(a.YP)))))));return l(s)}function p(e,t){const r=Object.create(null);for(const n of t)r[n]=e[n];return r}let m=[];function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.userAgent;if(m.unshift(e),m.length>1)return;const r=["beforeunload","pagehide"],n=r.concat(["visibilitychange"]),i=e=>{if(!a&&e){a=!0;const e=m;m=[],e.forEach((e=>{try{e()}catch(e){}}))}};let a=!1;n.forEach((e=>{window.addEventListener(e,(()=>{const r=("visibilitychange"!==e||document.hidden)&&E(t);i(r)}))})),r.forEach((e=>{window.addEventListener(e,(()=>i(!0)))}))}function _(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function v(e){return 36===e.length&&/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i.test(e)}function y(e,t){const r=Object.keys(e),n=r.length,i={};for(let s=0;s<n;s++){const n=r[s],o=t(n,e[n]);(0,a.pC)(o)&&(i[n]=o.value)}return i}function w(){const e={},t=arguments.length;for(let r=0;r<t;r++){const[t,n]=r<0||arguments.length<=r?void 0:arguments[r];e[t]=n}return e}function k(e,t){return y(e,((e,r)=>t(e)?(0,a.G)(r):a.YP))}function E(e){return/Mobi|Android/i.test(e)}function S(e){return/^((?!chrome|android).)*safari/i.test(e)}function P(e,t){return new Promise((r=>{var n;setTimeout((()=>{Promise.resolve(e()).then(r)}),null!==(n=null==t?void 0:t.timeout)&&void 0!==n?n:0)}))}function D(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}const x=()=>({equals:(e,t)=>Object.is(e,t)});function I(e){return(0,s.Zt)(((t,r)=>{const n=e.indexOf(t),i=e.indexOf(r);switch(!0){case-1===n&&-1===i:return 0;case-1!==n&&-1===i:return-1;case-1===n&&-1!==i:return 1;default:return n<=i?-1:1}}))}function M(e,t,r){return function(){try{return r(...arguments)}catch(r){e.reportError(r,t.get())}}}function O(e){return t=>null!=t&&e in t?t[e]:void 0}function C(e){let t=a.YP;const r=(0,a.fS)((()=>{const r=e();return t=(0,a.G)(r),r}));return()=>r(t)}const T=e=>t=>{var r;const n=Object.assign({},t);for(const i in e)n[i]=null===(r=e[i])||void 0===r?void 0:r.call(e,t[i]);return n};function A(e){return t=>(e(t),t)}const q=e=>t=>{const r=e.slice(0,-1),s=e.slice(-1)[0];return(0,i.zG)(r,n.f2((e=>{let[r,n]=e;return(0,i.zG)(t,a.DT(r),a.UI(n))})),a.fS((()=>s(t))))},j=e=>t=>{if("number"==typeof t)return t;if("string"==typeof t){const r=e(t);return Number.isNaN(r)?void 0:r}},U=j(parseInt);j(parseFloat)},6574:(e,t,r)=>{r.d(t,{l:()=>n});class n{constructor(e){var t;this.config=e,this.shouldUsePerformanceMark=!1,this.placeholderSpan={spanId:null,finish:()=>({})},this.shouldUsePerformanceMark=(null===(t=null===window||void 0===window?void 0:window.performance)||void 0===t?void 0:t.mark)&&this.config.tracingEnabled}startSpan(e){var t;if(this.shouldUsePerformanceMark){const r=this.generateId(),n=`permutive_${e}`,i=`${n}${r}_start`;return null===(t=null===window||void 0===window?void 0:window.performance)||void 0===t||t.mark(i),{spanId:i,finish:()=>{var e,t;null===(t=null===(e=null===window||void 0===window?void 0:window.performance)||void 0===e?void 0:e.measure)||void 0===t||t.call(e,n,i)}}}return this.placeholderSpan}generateId(){return"_"+Math.random().toString(36).substr(2,9)}}},4730:(e,t,r)=>{r.d(t,{b:()=>i});var n=r(2652);class i{constructor(e,t){this.timeoutDurationInMilliseconds=e,this.maxTimeOutDurationInMilliseconds=t}schedule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeoutDurationInMilliseconds,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,t,r)}scheduleAccumulated(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeoutDurationInMilliseconds,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,r,n,t)}scheduleForPageUnload(e){return(0,n.aq)(e)}debounce(e,t,r,i){let a,s,o,c=[];return u=>{i&&(o=i.concat(null!=o?o:i.empty,u));const d=(0,n.b2)();c.push(d);return a&&window.clearTimeout(a),a=window.setTimeout((()=>{window.clearTimeout(s),s=void 0;const t=e(o||u);c.forEach((e=>e.resolve(t))),o=null==i?void 0:i.empty,c=[]}),t),s||(s=window.setTimeout((()=>{window.clearTimeout(a),s=void 0;const t=e(o||u);c.forEach((e=>e.resolve(t))),o=null==i?void 0:i.empty,c=[]}),r)),d.promise}}}},4996:(e,t,r)=>{r.d(t,{i:()=>n});class n{constructor(e){this.messages=e,this.queue=[],this.nextNotify=null,e.on("permutive:taskQueue:update",(()=>{this.execute()}))}add(e){this.queue.push(e),this.notify()}notify(){const e=()=>{this.messages.emit("permutive:taskQueue:update")},t=(new Date).getTime();null===this.nextNotify||this.nextNotify<t-50?(this.nextNotify=t,e()):this.nextNotify<=t&&(this.nextNotify=t+50,window.setTimeout(e,50))}execute(){if(0===this.queue.length)return;let e=!1,t=!1,r=0;for(let n=0;n<this.queue.length;n++){const i=this.queue[n];if(i.complete)r+=1;else if(i.started)t=!0,e=e||i.blocks();else{if(i.waits()&&t)break;e||(t=!0,e=e||i.blocks(),i.execute((()=>{this.notify()})))}}this.queue.splice(0,r)}size(){return this.queue.length}}},3030:(e,t,r)=>{r.d(t,{_Y:()=>s,bk:()=>a,zM:()=>i});var n=r(3735);const i=()=>{var e,t;const r=null===(t=null===(e=window.location.href.split("?")[1])||void 0===e?void 0:e.split("#")[0])||void 0===t?void 0:t.split("&");return void 0===r?{}:r.reduce(((e,t)=>{const[r,n]=t.split("=");return Object.assign(Object.assign({},e),{[r]:n})}),{})},a=e=>{if(!e)return"";return(0,n.zG)(e,(e=>{const t=e.length-1;return"/"===e[t]?e.slice(0,t):e}))};function s(e){const t=e.match(/\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/),r=e.match(/[a-z0-9][a-z0-9-]+\.[a-z.]{2,24}$/i),n=e.match(/localhost/);if(r&&r.length>0){const t=e.split(".").reverse();return t.length>=3&&t[1].match(/^(com|edu|gov|net|mil|org|nom|co|ac|name|info|biz)$/i)?t[2]+"."+t[1]+"."+t[0]:t[1]+"."+t[0]}return t&&(null==t?void 0:t.length)>0?t[0]:n&&(null==n?void 0:n.length)>0?"localhost":""}},6320:(e,t,r)=>{r.r(t),r.d(t,{ClassificationModelsAddon:()=>i,addonName:()=>n,load:()=>a});const n="classification_models";class i{constructor(e){}}const a=e=>{({standard_cohorts:{auto_init:!0,activationConfigs:[]},rubicon_ssp:{auto_init:!0,publisher_id:"15366",activationConfigs:[]},classification_models:{auto_init:!0,activationConfigs:[]},dfp:{auto_init:!0,networks:[{network_code:"99071977",name:"UE GAM"}],track_slot_rendered:!1,track_slot_viewable:!0,track_slot_clicked:!0,activationConfigs:[]},ssp:{auto_init:!0,ssps:["appnexus"],cohort_mapping:{1e7:"bgyz",10000001:"bhgp",10000002:"bhhc",10000003:"bhhg",10000004:"bhhk",10000005:"bhhp",10000006:"bhhv",10000007:"bhhy",10000008:"bhie",10000010:"bhis",10000011:"bhiz",10000012:"bhji",10000013:"bhjq",10000014:"bhka",10000015:"bhkl",10000016:"bhkr",10000017:"bhky",10000018:"bhlg",10000019:"bhli",10000020:"bhlo",10000021:"bhlp",10000022:"bhnd",10000023:"bhnl",10000024:"bhnp",10000025:"bhnw",10000026:"bhoj",10000035:"bgzb",10000036:"bhgq",10000037:"bhgs",10000038:"bhgw",10000039:"bhgy",10000040:"bhgz",10000041:"bhhe",10000042:"bhhh",10000043:"bhhw",10000044:"bhhx",10000045:"bhhz",10000046:"bhia",10000047:"bhif",10000048:"bhig",10000049:"bhii",10000050:"bhij",10000051:"bhik",10000052:"bhim",10000053:"bhip",10000054:"bhit",10000055:"bhiu",10000056:"bhiv",10000057:"bhiy",10000058:"bhjm",10000059:"bhjr",10000060:"bhjs",10000061:"bhjw",10000062:"bhjx",10000063:"bhkm",10000064:"bhir",10000065:"bhko",10000066:"bhkp",10000067:"bhkq",10000068:"bhkz",10000069:"bhla",10000070:"bhlb",10000071:"bhle",10000072:"bhlf",10000073:"bhlq",10000074:"bhlt",10000075:"bhlu",10000076:"bhlw",10000077:"bhlx",10000078:"bhly",10000079:"bhmb",10000080:"bhmi",10000081:"bhmj",10000082:"bhml",10000083:"bhmp",10000084:"bhmr",10000085:"bhmw",10000086:"bhmz",10000087:"bhne",10000088:"bhnf",10000089:"bhni",10000090:"bhnn",10000324:"bhhj",10000325:"bhhi",10000327:"bhku",10000328:"bhkt",10000329:"bhkw",10000330:"bhkv",10000687:"bgzc",10000688:"bgza",10000689:"bhha",10000690:"bhgt",10000691:"bhgx",10000692:"bhgv",10000693:"bhgr",10000694:"bhgu",10000695:"bhhb",10000696:"bhhd",10000697:"bhhf",10000698:"bhhl",10000699:"bhho",10000700:"bhhm",10000701:"bhhn",10000702:"bhhq",10000703:"bhht",10000704:"bhhu",10000705:"bhhs",10000706:"bhhr",10000707:"bhib",10000708:"bhid",10000709:"bhic",10000710:"bhio",10000711:"bhin",10000712:"bhil",10000713:"bhiq",10000714:"bhih",10000715:"bhiw",10000716:"bhix",10000717:"bhja",10000718:"bhjc",10000719:"bhjd",10000720:"bhje",10000721:"bhjf",10000722:"bhjb",10000723:"bhjg",10000724:"bhjh",10000725:"bhjo",10000726:"bhjk",10000727:"bhjn",10000728:"bhjj",10000729:"bhjl",10000730:"bhjy",10000731:"bhju",10000732:"bhjv",10000733:"bhjz",10000734:"bhjt",10000735:"bhkj",10000736:"bhkk",10000737:"bhki",10000738:"bhkd",10000739:"bhkc",10000740:"bhkf",10000741:"bhkh",10000742:"bhkb",10000743:"bhkg",10000744:"bhke",10000745:"bhjp",10000746:"bhkn",10000747:"bhkx",10000748:"bhks",10000749:"bhld",10000750:"bhlc",10000751:"bhlh",10000752:"bhlk",10000753:"bhlj",10000754:"bhll",10000755:"bhlm",10000756:"bhlv",10000757:"bhna",10000758:"bhmv",10000759:"bhmt",10000760:"bhmy",10000761:"bhmc",10000762:"bhmo",10000763:"bhls",10000764:"bhmq",10000765:"bhme",10000766:"bhmh",10000767:"bhlz",10000768:"bhlr",10000769:"bhnb",10000770:"bhmk",10000771:"bhmu",10000772:"bhmx",10000773:"bhmg",10000774:"bhmd",10000775:"bhmf",10000776:"bhnc",10000777:"bhmn",10000778:"bhmm",10000779:"bhma",10000780:"bhms",10000781:"bhng",10000782:"bhnj",10000783:"bhnh",10000784:"bhnk",10000785:"bhno",10000786:"bhnm",10000787:"bhnu",10000788:"bhnv",10000789:"bhns",10000790:"bhnt",10000791:"bhnq",10000792:"bhnr",10000793:"bhob",10000794:"bhny",10000795:"bhod",10000796:"bhoh",10000797:"bhog",10000798:"bhnz",10000799:"bhoa",10000800:"bhoe",10000801:"bhnx",10000802:"bhoc",10000803:"bhof"},activationConfigs:[]},facebook_pixel_v2:{auto_init:!0,activationConfigs:[{id:"741acd11-ef5a-4afe-b0b8-5dbaed873a47",tt:"EveryTime",sc:94125,c:{},wc:{}},{id:"a3a3d74d-fd83-4952-bcd5-f20759437854",tt:"EveryTime",sc:94126,c:{},wc:{}},{id:"091895ba-12d1-4a3c-8bf5-60a1da6e0d15",tt:"EveryTime",sc:94127,c:{},wc:{}},{id:"7c4db52e-2802-4865-8dcb-5c87331414c7",tt:"EveryTime",sc:94128,c:{},wc:{}},{id:"66437013-6886-45a1-9c1e-964501d8298a",tt:"EveryTime",sc:94129,c:{},wc:{}},{id:"21c891cd-a08a-4ee7-95a4-44ffc94a7e9d",tt:"EveryTime",sc:65455,c:{},wc:{}},{id:"da17eccb-c31c-4d49-9cd7-e7978762b6a3",tt:"EveryTime",sc:65456,c:{},wc:{}},{id:"e09bad74-8074-4dc5-aea9-537765b74bab",tt:"EveryTime",sc:65457,c:{},wc:{}},{id:"cf7dc93c-ac86-4d33-8e0d-ed0f3d63d6e8",tt:"EveryTime",sc:64821,c:{},wc:{}},{id:"0fe79cce-205b-49d0-9a92-cce41bf1fee5",tt:"EveryTime",sc:98617,c:{},wc:{}},{id:"6b4c4222-ee70-472d-8ada-226f72b1912a",tt:"EveryTime",sc:71973,c:{},wc:{}},{id:"de5d4f9f-b3b5-46d7-ad76-0884722c8684",tt:"EveryTime",sc:65967,c:{},wc:{}},{id:"945e9276-2350-45d3-866e-3f97beed3cb6",tt:"EveryTime",sc:103274,c:{},wc:{}},{id:"28e38578-4e2b-40be-bb2e-1cb820b219dd",tt:"EveryTime",sc:101097,c:{},wc:{}},{id:"5fee62fe-b082-4c71-b82d-d6e45eea1088",tt:"EveryTime",sc:99323,c:{},wc:{}},{id:"ba2cf7b0-6100-47f8-b41f-39659cc177d4",tt:"EveryTime",sc:97851,c:{},wc:{}},{id:"b8199195-22a4-48c2-9ecc-a1aebb387e2e",tt:"EveryTime",sc:97849,c:{},wc:{}},{id:"6b1fed6e-6981-419e-9559-59974b0e6045",tt:"EveryTime",sc:97266,c:{},wc:{}},{id:"786b7481-0edd-4d8e-9457-6626a84da7f6",tt:"EveryTime",sc:97267,c:{},wc:{}},{id:"2163711a-952d-4557-8d7b-c4d1a82e936e",tt:"EveryTime",sc:72038,c:{},wc:{}},{id:"67261b29-d79a-4a3f-94c0-e98d70e63f35",tt:"EveryTime",sc:86061,c:{},wc:{}},{id:"f216f9d4-ad01-4bcf-b51e-6023b90c01f9",tt:"EveryTime",sc:86062,c:{},wc:{}},{id:"5f811ca3-63c2-459f-aa74-1a60722ae734",tt:"EveryTime",sc:85242,c:{},wc:{}},{id:"683985aa-73e7-4a76-9ed9-8690f90486b9",tt:"EveryTime",sc:72060,c:{},wc:{}},{id:"333cdbcc-61a0-47f5-a0db-d32953c6e7c3",tt:"EveryTime",sc:65965,c:{},wc:{}},{id:"7d7f59c6-dc3f-43a9-88f9-cce2a592b7bf",tt:"EveryTime",sc:89083,c:{},wc:{}},{id:"042030b7-9bb6-44ff-9ab0-1064b43cee89",tt:"EveryTime",sc:86063,c:{},wc:{}},{id:"22173417-ef70-40e5-9a75-c62826384e08",tt:"EveryTime",sc:89086,c:{},wc:{}},{id:"8c6a38c0-e59f-44fe-a600-5592cbcd1db2",tt:"EveryTime",sc:89077,c:{},wc:{}},{id:"e6d14ea7-0988-46e5-aba2-7ab747e7fdce",tt:"EveryTime",sc:65993,c:{},wc:{}},{id:"f479b8de-0adc-4e6c-996f-a156fef8b1db",tt:"EveryTime",sc:72039,c:{},wc:{}},{id:"0a051977-4abe-440d-a71d-7803ebe52e02",tt:"EveryTime",sc:71967,c:{},wc:{}},{id:"c6e5e965-4522-4e46-b780-68f3f70f92b5",tt:"EveryTime",sc:89082,c:{},wc:{}},{id:"9ee2603f-2519-426d-b276-83b2635dad56",tt:"EveryTime",sc:89081,c:{},wc:{}},{id:"511d8380-596f-48c2-b1f8-d6f780c5f31d",tt:"EveryTime",sc:89079,c:{},wc:{}},{id:"a32c60db-1e30-4590-aef1-74ac49b79abf",tt:"EveryTime",sc:72031,c:{},wc:{}},{id:"e115c140-3d2a-462f-908e-aea953e37142",tt:"EveryTime",sc:142968,c:{},wc:{}}]},tracking_pixel:{auto_init:!0,activationConfigs:[]},dbm:{auto_init:!0,entity_id:5949432,product_type:"INVITE_PARTNER",activationConfigs:[]},twitter_pixel:{auto_init:!0,activationConfigs:[]},web:{auto_init:!1,engagement_edge_only:!0,segment_transition_edge_only:!0,activationConfigs:[]},appnexus:{auto_init:!0,member_id:3967,activationConfigs:[]},appnexus_adserver:{auto_init:!0,member_id:290836,targeting_key_id:30791,contextual_targeting_key_id:31367,segment_name_prefix:"Permutive: ",segment_code_prefix:"permutive_",activationConfigs:[]},publishers:{auto_init:!1,add_alchemy_taxonomy:!0,add_alchemy_entities:!1,activationConfigs:[]}})[n].auto_init&&e.q.push({functionName:"addon",arguments:[n,{}]})}},122:(e,t,r)=>{r.d(t,{X:()=>n});const n=e=>{let t=!0;const r=[];return{addBlocker:n=>{r.push(n),e.logger.log("<blockers> added blocker "+n),e.messages.on(n,(()=>{if(t){const i=r.indexOf(n);i>=0&&(r.splice(i,1),e.logger.log("<blockers> removed blocker "+n)),0===r.length&&(t=!1,e.messages.emit("permutive:blockers:empty"),e.logger.log("<blockers> complete"))}}))}}}},7748:(e,t,r)=>{r.d(t,{X:()=>n});class n{constructor(){this.properties={}}overrideCustomProps(e){this.properties=e}getCustomProps(){return this.properties}}},3116:(e,t,r)=>{r.d(t,{J:()=>i});const n=e=>"string"==typeof e&&"$"===e[0];class i{constructor(){this.replacementMap={}}register(e){this.replacementMap=Object.assign(Object.assign({},this.replacementMap),e.getReplacementMap)}enrich(e,t){return this.enrichRecursive(e,t)}enrichRecursive(e,t){const r={output:{},isFullyEnriched:!0},i=Object.keys(e);for(let a=0;a<i.length;a++){const s=i[a],o=e[s];switch(!0){case n(o):const[e,i]=this.isPropertyReplaceable(o);r.output[s]=e?i:o,this.replacementMap.hasOwnProperty(o)&&i===o&&t&&delete r.output[s],r.isFullyEnriched=!!e&&r.isFullyEnriched;break;case null!==o&&"object"==typeof o&&o.constructor===Object:const a=this.enrichRecursive(o,t);r.output[s]=a.output,r.isFullyEnriched=r.isFullyEnriched&&a.isFullyEnriched;break;default:r.output[s]=o}}return r}isPropertyReplaceable(e){const t=this.replacementMap[e];return[this.replacementMap.hasOwnProperty(e)&&t!==e,t]}}},6341:(e,t,r)=>{r.d(t,{B:()=>o,H:()=>c});var n=r(3735),i=r(5151),a=r(6934);const s=[],o=e=>{s.push(e)},c=e=>{const t=s.map((t=>(0,a.Y3)((()=>t.load(e)),(t=>{e.api.reportError(t)}))));return(0,n.zG)((0,i.RD)(t),(0,i.UI)(n.Q1))}},2546:(e,t,r)=>{r.r(t),r.d(t,{make:()=>A});var n=r(3735),i=r(655);let a,s;const o=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,l=new WeakMap;let f={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||u.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return p(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function g(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(m(this),t),p(o.get(this))}:function(...t){return p(e.apply(m(this),t))}:function(t,...r){const n=e.call(m(this),t,...r);return u.set(n,t.sort?t.sort():[t]),p(n)}}function h(e){return"function"==typeof e?g(e):(e instanceof IDBTransaction&&function(e){if(c.has(e))return;const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),n()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));c.set(e,t)}(e),t=e,(a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,f):e);var t}function p(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(p(e.result)),n()},a=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&o.set(t,e)})).catch((()=>{})),l.set(t,e),t}(e);if(d.has(e))return d.get(e);const t=h(e);return t!==e&&(d.set(e,t),l.set(t,e)),t}const m=e=>l.get(e);function b(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=p(s);return n&&s.addEventListener("upgradeneeded",(e=>{n(p(s.result),e.oldVersion,e.newVersion,p(s.transaction))})),r&&s.addEventListener("blocked",(()=>r())),o.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),o}function _(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",(()=>t())),p(r).then((()=>{}))}const v=["get","getKey","getAll","getAllKeys","count"],y=["put","add","delete","clear"],w=new Map;function k(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(w.get(t))return w.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=y.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!v.includes(r))return;const a=async function(e,...t){const a=this.transaction(e,i?"readwrite":"readonly");let s=a.store;return n&&(s=s.index(t.shift())),(await Promise.all([s[r](...t),i&&a.done]))[0]};return w.set(t,a),a}f=(e=>({...e,get:(t,r,n)=>k(t,r)||e.get(t,r,n),has:(t,r)=>!!k(t,r)||e.has(t,r)}))(f);var E=r(2688),S=r(5e3),P=r(5151),D=r(6934),x=r(2652);function I(e){return"development"===e.environment?window.isSecureContext:"https:"===window.location.protocol}const M="[IDB]",O=(e,t,r,a,s,o)=>(0,n.zG)((0,P.of)(e.getNamespacedStorageKey(s)),(0,P.tS)((e=>(0,D.Y3)((()=>(0,i.mG)(void 0,void 0,void 0,(function*(){return r.put(a,o,e)}))),E.w))),(0,P.UI)((0,S.g_)((e=>{throw t.error(M,`Failed to store crypto key to ${a} due to unexpected error,\n`,e),e}),(()=>o))),(e=>e()));class C{constructor(e,t,r,n,i,a,s,o){this.namespace=e,this.logger=t,this.cryptoAlg=r,this.idb=n,this.mainObjectStore=i,this.keyObjectStore=a,this.keyObjectKey=s,this.cryptoKey=o,this.MAX_CONSECUTIVE_PUTS=30,this.puts=1,this.hasForcedCompaction=!1,this.logDebug("Created",this.idb)}static initialise(e,t,r,a,s,o,c,u,d,l){const f=(0,x.G6)(navigator.userAgent)&&!1,g=[I(e),s.isAvailable(),!f].every((e=>!0===e)),h=(e,r,o)=>(0,i.mG)(this,void 0,void 0,(function*(){return(0,n.zG)(yield e.get(o,t.getNamespacedStorageKey(r)),(e=>(0,i.mG)(this,void 0,void 0,(function*(){return null!=e?e:s.generateKey(!1)}))),(r=>(0,i.mG)(this,void 0,void 0,(function*(){return O(t,a,e,u,d,yield r)})))).catch((e=>{const t=(0,E.w)(e);throw a.error(M,"Get crypto key failed. Got\n",t),t}))})),p=(e,t,r)=>t.includes(r)?(0,n.Q1)():e.createObjectStore(r),m=g?(0,S.Y3)((()=>function(e){if(!(0,x.G6)(navigator.userAgent)||!indexedDB.databases)return Promise.resolve();let t,r=0;return new Promise((e=>{const n=()=>(r++,indexedDB.databases().finally(e));t=window.setInterval(n,100),n()})).finally((()=>{clearInterval(t),e.track({name:"sdk_idb_conn_attempt_safari_count",value:r,labels:{}})}))}(r).then((()=>b(o,l,{upgrade:e=>{const t=[...e.objectStoreNames];p(e,t,c),p(e,t,u)}})))),String):(0,S.t$)("Connection not attempted. Default to localStorage");return(0,S.g_)((e=>(0,D.t$)(e)),(e=>(0,n.zG)((0,D.Y3)((()=>e.then((e=>(0,i.mG)(this,void 0,void 0,(function*(){return{db:e,cryptoKey:yield h(e,d,u)}}))))),String),(0,D.UI)((e=>{let{db:r,cryptoKey:n}=e;return new C(t,a,s,r,c,u,d,n)})))))(m)}put(e,t){return(0,i.mG)(this,void 0,void 0,(function*(){return(0,n.zG)((()=>(0,i.mG)(this,void 0,void 0,(function*(){return(0,n.bc)(JSON.stringify(e),this.cryptoKey)}))),(0,P.tS)((e=>{let[t,r]=e;return(0,P.of)(this.cryptoAlg.encrypt(r,t))})),(0,P.tS)((e=>()=>(0,i.mG)(this,void 0,void 0,(function*(){return yield this.resetIfRequired(this.puts++),e})))),(0,P.tS)((e=>(0,D.Y3)((()=>this.idb.put(this.mainObjectStore,e,this.namespace.getNamespacedStorageKey(String(t)))),E.w))),(0,P.UI)((0,S.g_)((r=>{throw this.logError(`Failed to put "${t.toString()}" value`,e,". Got \n",r),"QuotaExceededError"===r.name&&this.forceCompaction(),r}),(()=>t))),(e=>e()))}))}get(e){return(0,n.zG)(this.namespace.getNamespacedStorageKey(String(e)),(t=>this.idb.get(this.mainObjectStore,t).then((e=>(0,i.mG)(this,void 0,void 0,(function*(){return e?JSON.parse(yield this.cryptoAlg.decrypt(this.cryptoKey,e)):null})))).catch((t=>{const r=(0,E.w)(t);throw this.logError(`Get ${e.toString()} failed. Got`,r),r}))))}delete(e){return(0,n.zG)(this.namespace.getNamespacedStorageKey(String(e)),(e=>this.idb.delete(this.mainObjectStore,e)))}deleteStore(){return this.logDebug("Deleting",this.idb),this.idb.close(),_(this.idb.name)}forceCompaction(){if(this.hasForcedCompaction)return null;this.hasForcedCompaction=!0,this.logDebug("Attempting to force compaction");const e=`__${this.mainObjectStore}`;return b(e).then((t=>(t.close(),_(e))))}resetIfRequired(e){return(0,x.G6)(navigator.userAgent)&&e%this.MAX_CONSECUTIVE_PUTS==0?this.reset():Promise.resolve()}reset(){return(0,i.mG)(this,void 0,void 0,(function*(){const e=this.idb.name,t=this.idb.version;yield this.deleteStore(),this.idb=yield b(e,t),this.idb.createObjectStore(this.mainObjectStore),this.idb.createObjectStore(this.keyObjectStore),yield O(this.namespace,this.logger,this.idb,this.keyObjectStore,this.keyObjectKey,this.cryptoKey),this.logDebug("Reset to",this.idb)}))}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(M,...t)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(M,...t)}}var T=r(8259);const A=(e,t,r,i,a,s,o,c,u,d,l)=>(0,n.zG)(C,(0,T._z)({logger:d,consentTracking:l,prefix:M})).initialise(e,t,r,d,i,a,s,o,c,u)},6197:(e,t,r)=>{r(2652)},8036:(e,t,r)=>{r.d(t,{AG:()=>o,UC:()=>a,Yh:()=>s});var n=r(6567),i=r(2652);const a=(e,t,r)=>e in t||(()=>{const t="number"==typeof e?e:parseInt(e);return!1===isNaN(t)&&r.has(t)})(),s=e=>(0,i.b0)(e,((e,t)=>t.state?(0,n.G)({[t.checksum]:t.state}):n.YP));function o(e){var t;return["SegmentEntry","SegmentExit"].includes(e.name)&&void 0!==(null===(t=e.properties)||void 0===t?void 0:t.segment_number)}},1628:(e,t,r)=>{r.d(t,{c:()=>ze,e:()=>Re});var n=r(7183),i=r(3735),a=r(4386),s=r(655);const o=()=>({kind:"null",value:null}),c=e=>({kind:"string",value:e}),u=e=>({kind:"number",value:e}),d=e=>({kind:"array",value:e}),l=e=>({kind:"object",value:e}),f=e=>e,g=()=>({kind:"bottom"}),h=e=>({kind:"inner",a:e}),p=e=>({kind:"top",error:e}),m=e=>({kind:"unbounded",group:e}),b=(e,t)=>({kind:"windowed",key:t,group:e}),_=(e,t,r)=>({kind:"countLimit",n:r,limit:t,group:e}),v=(e,t,r)=>({kind:"uniqueLimit",n:r,limit:t,group:e}),y=e=>({kind:"numberGroup",group:e}),w=e=>({kind:"stringGroup",group:e}),k=e=>({kind:"tuple",tuple:e}),E=e=>({state:e}),S=(e,t)=>({commands:e,payload:t});var P=r(7209),D=r(2751);const x=(e,t)=>{switch(e.kind){case"bottom":return{kind:"bottom"};case"inner":return h(t(e.a));case"top":return p(e.error)}},I=e=>(0,P.Zt)(((t,r)=>{if("bottom"===t.kind&&"bottom"===r.kind)return 0;if("bottom"===t.kind)return-1;if("bottom"===r.kind)return 1;if("top"===t.kind&&"top"===r.kind)return D.Df.compare(t.error,r.error);if("top"===t.kind)return 1;if("top"===r.kind)return-1;if("inner"===t.kind&&"inner"===r.kind)return e.compare(t.a,r.a);throw new Error("Non exhaustive match in extendedAlgebraOrd")}));var M=r(6567),O=r(1885),C=r(1500),T=r(5e3),A=function(e){return-1===e?1:1===e?-1:0};function q(e,t){return(0,C.oA)(e.map(t))}function j(e,t,r,n){const i=(e,t)=>{if(0===e.length)return(0,C.oA)(t.map((e=>(0,M.G)({1:e[1],2:r(M.YP,(0,M.G)(e[2]))}))));if(0===t.length)return(0,C.oA)(e.map((e=>(0,M.G)({1:e[1],2:r((0,M.G)(e[2]),M.YP)}))));if(e.length>0&&t.length>0&&(0,P.lt)(n)(e[0][1],t[0][1])){const[n,...a]=e,s=n[1],o=n[2];return(0,C.Ce)({1:s,2:r((0,M.G)(o),M.YP)})(i(a,t))}if(e.length>0&&t.length>0&&(0,P.gt)(n)(e[0][1],t[0][1])){const[n,...a]=t,s=n[1],o=n[2];return(0,C.Ce)({1:s,2:r(M.YP,(0,M.G)(o))})(i(e,a))}if(e.length>0&&t.length>0){const[n,...a]=e,[s,...o]=t,c=n[1],u=n[2],d=s[2];return(0,C.Ce)({1:c,2:r((0,M.G)(u),(0,M.G)(d))})(i(a,o))}throw new Error("Non exhaustive match in mapOption2")},a=(0,P.Uz)((e=>e[1]))(n),s=(e=>{const t=q(e,(e=>(0,M.pC)(e[2])?(0,M.G)({1:e[1],2:e[2].value}):M.YP));return 0===t.length?M.YP:(0,M.G)(t)})(i((0,C.DY)(a)([...e].map((e=>({1:e[0],2:e[1]})))),(0,C.DY)(a)([...t].map((e=>({1:e[0],2:e[1]}))))));return(0,M.UI)((e=>new Map(e.map((e=>[e[1],e[2]])))))(s)}function U(e,t,r,n){const i=(0,P.Uz)((e=>e[0]))(n),a=(0,C.DY)(i)([...t]).reduceRight(((e,t)=>{if((0,T.nM)(e)){const n=r(t[1],e.left);return(0,M.pC)(n)?(0,T.t$)(n.value):(0,T.F2)(t[0])}return e}),(0,T.t$)(e));return(0,M.Uo)(a)}function G(e,t){return new Map([...e].map(t))}function R(e,t){return new Map([...e].filter(t))}var L=r(4268),z=r(4011);function B(e){return JSON.stringify(K(e))}function K(e){switch(e.kind){case"null":return W.encode(e);case"string":return $.encode(e);case"number":return Q.encode(e);case"array":return Y.encode(e);case"object":return V.encode(e)}}function N(e){return null===e?W.decode(e):"number"==typeof e?Q.decode(e):"string"==typeof e?$.decode(e):Array.isArray(e)?Y.decode(e):V.decode(e)}const F=(e,t)=>(0,T.t$)(`Failed to decode. Input was ${JSON.stringify(e)}. Codec type was ${t}`),W={encode:e=>null,decode:e=>null===e?(0,T.F2)({kind:"null",value:null}):F(e,"SimpleNull")},$={encode:e=>e.value,decode:e=>"string"==typeof e?(0,T.F2)(c(e)):F(e,"SimpleString")},Q={encode:e=>e.value,decode:e=>"number"==typeof e?(0,T.F2)(u(e)):F(e,"SimpleNumber")},Y={encode:e=>e.value.map(K),decode:e=>{if(Array.isArray(e)){const t=(0,C.fw)(T.g1)(N)(e);return(0,T.UI)(d)(t)}return F(e,"SimpleArray")}},V={encode:e=>{const t=[...e.value.entries()];return Object.assign({},...Array.from(t,(([e,t])=>({[e]:K(t)}))))},decode:e=>{if(e&&e.constructor===Object){const t=(0,C.fw)(T.g1)((([e,t])=>(0,i.zG)(N(t),(0,T.UI)((t=>(0,i.bc)(e,t))))))(Object.entries(e));return(0,T.UI)((e=>l(new Map([...e]))))(t)}return F(e,"SimpleObject")}};function H(e){return(0,i.zG)(e,X,(0,M.UI)(B),(0,M.fS)((()=>"<encode error>")))}function J(e){return(0,M.UI)(ie)(function(e){switch(e.state.kind){case"top":return(0,M.G)(c(e.state.error));case"bottom":return M.YP;case"inner":return X(e.state.a)}}(e))}function X(e){return function(e){switch(e.kind){case"numberGroup":case"stringGroup":return Z(e.group);case"tuple":return e.tuple.length>0}}(e.payload)?(0,M.G)(d(function(e,t){const r=(0,M.UI)((e=>(0,C.Ce)(e)(t)))(e);return(0,M.fS)((()=>t))(r)}((0,M.UI)((e=>c(function(e){const t=e=>{switch(e){case"add":return"p";case"mul":return"m";case"max":return"v";case"min":return"n"}},r=e=>1===e[2]?t(e[1]):t(e[1])+JSON.stringify(e[2]);return e.map(r).join("")}(e))))(e.commands),function(e){const t=e=>{switch(e.kind){case"bottom":return{kind:"null",value:null};case"top":return c(e.error);case"inner":return u(e.a)}},r=e=>q([ee,te,e=>(0,i.zG)(e,ne,l,M.G)],(t=>t(e))),n=e=>q([ee,re,e=>(0,i.zG)(e,ne,(e=>G(e,(([e,t])=>[JSON.stringify(e),t]))),l,M.G)],(t=>t(e)));switch(e.kind){case"tuple":return e.tuple.map(t);case"stringGroup":return r(e.group);case"numberGroup":return n(e.group)}}(e.payload)))):M.YP}function Z(e){switch(e.kind){case"unbounded":return e.group.size>0;case"windowed":return e.group.size>0||(0,M.pC)(e.key);case"countLimit":case"uniqueLimit":return e.group.size>0||(0,M.pC)(e.limit)}}function ee(e){switch(e.kind){case"unbounded":return M.YP;case"windowed":return(0,M.G)(c("w"));case"countLimit":return(0,M.G)(c(1===e.n?"x":`x${e.n}`));case"uniqueLimit":return(0,M.G)(c(1===e.n?"u":`u${e.n}`))}}function te(e){switch(e.kind){case"unbounded":return M.YP;case"windowed":return(0,M.G)(c((0,M.pC)(e.key)?e.key.value:""));case"countLimit":case"uniqueLimit":return(0,M.G)(c((0,M.pC)(e.limit)?e.limit.value:""))}}function re(e){switch(e.kind){case"unbounded":return M.YP;case"windowed":return(0,M.pC)(e.key)?(0,M.G)(u(e.key.value)):(0,M.G)({kind:"null",value:null});case"countLimit":case"uniqueLimit":return(0,M.pC)(e.limit)?(0,M.G)(u(e.limit.value)):(0,M.G)({kind:"null",value:null})}}function ne(e){switch(e.kind){case"unbounded":case"windowed":case"countLimit":case"uniqueLimit":return e.group}}function ie(e){switch(e.kind){case"array":return 0===e.value.length?{kind:"null",value:null}:1===e.value.length?ie(e.value[0]):d(e.value.map(ie));case"object":return(0,i.zG)(R(e.value,(([e,t])=>"null"!==t.kind)),(e=>G(e,(e=>[e[0],ie(e[1])]))),l);default:return e}}function ae(e){const t=e=>{if(0===e.length)return{kind:"bottom"};const t=(e=>{if(4!==e.length)return M.YP;const[t,r,n,i]=e;if("string"===t.kind&&"string"===r.kind&&"object"===i.kind){const e=(0,M.DT)((e=>se(e[1].value)&&oe(e[2].value)))({1:t,2:r});return(0,M.UI)((e=>({prim:e[1].value,grp:e[2].value,cutoff:n,m:i.value})))(e)}return M.YP})(e);if((0,M.pC)(t)){const{prim:e,grp:r,cutoff:n,m:i}=t.value,a=ce(n,i,ue(r));return"string"==typeof a?p(a):h(S(de(e),a))}const r=(e=>{if(3!==e.length)return M.YP;const[t,r,n]=e;if("string"===t.kind&&"object"===n.kind){const e=(0,M.DT)((e=>oe(e.value)))(t);return(0,M.UI)((e=>({grp:e.value,cutoff:r,m:n.value})))(e)}return M.YP})(e);if((0,M.pC)(r)){const{grp:e,cutoff:t,m:n}=r.value,i=ce(t,n,ue(e));return"string"==typeof i?p(i):h(S(M.YP,i))}const n=(e=>{if(2!==e.length)return M.YP;const[t,r]=e;if("string"===t.kind&&"object"===r.kind){const e=(0,M.DT)((e=>se(e.value)))(t);return(0,M.UI)((e=>({prim:e.value,m:r.value})))(e)}return M.YP})(e);if((0,M.pC)(n)){const{prim:e,m:t}=n.value;return h(S(de(e),w(m(t))))}const i=(e=>{if(1!==e.length)return M.YP;const[t]=e;return"object"===t.kind?(0,M.G)({m:t.value}):M.YP})(e);if((0,M.pC)(i)){const{m:e}=i.value;return h(S(M.YP,w(m(e))))}const a=(e=>{if(e.length<1)return M.YP;const[t,...r]=e;if("string"===t.kind){const e=(0,M.DT)((e=>se(e.value)))(t);return(0,M.UI)((e=>({prim:e.value,rest:r})))(e)}return M.YP})(e);if((0,M.pC)(a)){const{prim:e,rest:t}=a.value;return h(S(de(e),fe(t)))}return h(S(M.YP,fe(e)))},r=e=>"array"===e.kind?(0,C.tS)(r)(e.value):[e];return"null"===e.kind?E({kind:"bottom"}):E(t(r(e)))}function se(e){const t=e.split("");if(!0==(0===t.length))return!1;{const[e,...r]=t;return-1!=="pmvn".indexOf(e)&&r.every((e=>-1!=="pmvn0123456789".indexOf(e)))}}function oe(e){const t=e.split("");switch(!0){case 0===t.length:return!1;case"w"===t[0]&&void 0===t[1]:return!0;default:{const[e,...r]=t;return-1!=="ux".indexOf(e)&&-1===r.map((e=>!isNaN(parseInt(e)))).indexOf(!1)}}}function ce(e,t,r){switch(e.kind){case"string":return w(r({1:(0,M.G)(e.value),2:t}));case"number":case"null":return y(r({1:"null"===e.kind?M.YP:(0,M.G)(e.value),2:R(G(t,(([e,t])=>[Number(e),t])),(e=>!isNaN(e[0])))}));default:return"{bad cutoff}"}}function ue(e){const t=e=>t=>v(t[2],t[1],e),r=e=>t=>_(t[2],t[1],e),n=e.split("");switch(!0){case"w"===n[0]&&void 0===n[1]:return e=>b(e[2],e[1]);case"u"===n[0]&&void 0===n[1]:return t(1);case"u"===n[0]&&void 0!==n[1]:return t(parseInt(n.slice(1).join("")));case"x"===n[0]&&void 0===n[1]:return r(1);case"x"===n[0]&&void 0!==n[1]:return r(parseInt(n.slice(1).join("")));default:throw new Error("This should never happen if you use isGroupCommand")}}function de(e){return(0,M.UI)(f)((0,O.nI)(le(e,(e=>{const t=e.split("");if(0===t.length)return M.YP;const[r,...n]=t,i=(e=>{switch(e){case"p":return(0,M.G)("add");case"m":return(0,M.G)("mul");case"v":return(0,M.G)("max");case"n":return(0,M.G)("min");default:return M.YP}})(r);return(0,M.UI)((e=>{const{init:t,rest:r}=(0,C.zT)((e=>{return"number"==typeof(t=parseInt(e))&&isFinite(t)&&Math.floor(t)===t;var t}))(n);return{1:{1:e,2:0===t.length?1:parseInt(t.join(""))},2:r.join("")}}))(i)}))))}function le(e,t){const r=t(e);return(0,M.fS)((()=>[]))((0,M.UI)((e=>[e[1]].concat(le(e[2],t))))(r))}function fe(e){return k(e.map(ge))}function ge(e){switch(e.kind){case"number":return h(e.value);case"string":return p(e.value);case"null":return{kind:"bottom"};case"object":return p("{object}");case"array":return p("{array}")}}const he={strategy:(e,t,r)=>n=>{if((0,M.Wi)(r))return t;if("delta"===e&&(0,M.Wi)(t))return M.YP;if((0,M.Wi)(t))return r;if((0,M.pC)(t)&&(0,M.pC)(r))return n(t.value,r.value);throw new Error("Non exhaustive match in combineCommand.strategy")},operation:(e,t,r,n,i,a)=>{const s=(0,C.pR)(I(a));if("append"===e&&"add"===t)return(0,C.yL)(r,n,we("append",i.plus));if("append"===e&&"mul"===t)return(0,C.yL)(r,n,we("append",i.times));if("append"===e&&"max"===t)return(0,P.Fp)(s)(r,n);if("join"===e&&"add"===t)return(0,C.yL)(r,n,we("join",(0,P.Fp)(a)));if("join"===e&&"mul"===t)return(0,C.yL)(r,n,we("join",(0,P.Fp)(a)));if("join"===e&&"max"===t)return(0,P.Fp)(s)(r,n);if("min"===t)return he.operation(e,"max",r,n,i,function(e){return(0,P.Zt)(((t,r)=>A(e.compare(t,r))))}(a));if("delta"===e&&"max"===t)return(0,P.gt)(s)(r,n)?r:n.map(g);if("delta"===e)return(0,C.yL)(r,n,((e,t)=>(0,P.gt)(I(a))(e,t)?e:{kind:"bottom"}));throw new Error("Non exhaustive match in combineCommand.operation")},extend:(e,t,r,n)=>{if("delta"===e&&"top"===r.kind&&"top"===n.kind)return(0,P.gt)(D.Df)(r.error,n.error)?p(r.error):{kind:"bottom"};if("delta"===e&&"bottom"===n.kind)return r;if("delta"===e&&"bottom"===r.kind)return{kind:"bottom"};if("top"===r.kind&&"top"===n.kind)return p((0,P.Fp)(D.Df)(r.error,n.error));if("top"===r.kind)return r;if("top"===n.kind)return n;if("inner"===r.kind&&"inner"===n.kind)return t(r.a,n.a);if("bottom"===r.kind)return n;if("bottom"===n.kind)return r;throw new Error("Non exhaustive match in extend")}},pe={plus:(e,t)=>e+t,times:(e,t)=>e*t};function me(e,t,r,n){if("unbounded"===e.kind&&"unbounded"===t.kind){const i=e.group,a=t.group;return(0,M.fS)(g)((0,M.UI)((e=>h(m(e))))(j(i,a,r,n)))}if("windowed"===e.kind&&"windowed"===t.kind){const i=e.key,a=e.group,s=t.key,o=t.group,c=(0,P.Fp)((0,M.pR)(n))(i,s);return(0,M.fS)(g)((0,M.UI)((e=>h(b(e,c))))(j(a,o,r,n)))}if("countLimit"===e.kind&&"countLimit"===t.kind){const i=e.n,a=t.n;if(i===a){const a=e.limit,s=e.group,o=t.limit,c=t.group,u=(0,P.Fp)((0,M.pR)(n))(a,o);return(0,M.fS)(g)((0,M.UI)((e=>h(_(e,u,i))))(j(s,c,r,n)))}return p("Non matching counts")}if("uniqueLimit"===e.kind&&"uniqueLimit"===t.kind){const i=e.n,a=t.n;if(i===a){const a=e.limit,s=e.group,o=t.limit,c=t.group,u=(0,P.Fp)((0,M.pR)(n))(a,o);return(0,M.fS)(g)((0,M.UI)((e=>h(v(e,u,i))))(j(s,c,r,n)))}return p("Non matching counts")}return p("Non matching group types")}function be(e,t,r){return(0,M.fS)(o)(_e(e,M.YP)(t,r))}function _e(e,t){const r=t=>(r,n)=>he.strategy(e,r,n)(_e(e,t)),n=(t,n,i)=>{if("stringGroup"===n.kind&&"stringGroup"===i.kind){const e=me(n.group,i.group,r(t),D.Df);return x(e,(e=>w(ye(e,D.Df))))}if("numberGroup"===n.kind&&"numberGroup"===i.kind){const e=me(n.group,i.group,r(t),z.Df);return x(e,(e=>y(ye(e,z.Df))))}if("tuple"===n.kind&&"tuple"===i.kind){const r=(0,M.pC)(t)?t.value:[];return h(k(function(e,t,r,n,i,a){const s=(e,t)=>({1:(0,C.ke)(e)(t).concat((0,C.KB)(Math.max(0,e-t.length),g)),2:(0,C.md)(e)(t)}),o=(t,r,n)=>{if(0===t.length)return he.operation(e,"max",r,n,i,a);if(t.length>0){const[c,...u]=t,d=s(c[2],r),l=d[1],f=d[2],g=s(c[2],n),h=g[1],p=g[2];return he.operation(e,c[1],l,h,i,a).concat(o(u,f,p))}throw new Error("Non exhaustive match in recurse")};return(0,C.GY)((0,C.Qp)((e=>"bottom"===e.kind))((0,C.GY)(o(t,r,n))))}(e,r,n.tuple,i.tuple,pe,z.Df)))}throw new Error(`Non matching payload. Got ${n.kind} and ${i.kind}`)},i=(e,r)=>{if((0,M.Eh)((0,O.Eh)((0,L.n_)({1:D.Eq,2:z.Eq}))).equals(e.commands,r.commands)){const i=(0,M.Wi)(e.commands)?t:e.commands,a=n(i,e.payload,r.payload);return x(a,(t=>S(e.commands,t)))}throw new Error(`Non matching primitive strings. Got ${H(e)} and ${H(r)}`)};return(t,r)=>J(E(he.extend(e,i,ae(t).state,ae(r).state)))}function ve(e,t,r){const n=(0,M.UI)((t=>R(e,(([e,n])=>(0,P.gf)(r)(e,t)))))(t);return(0,M.fS)((()=>e))(n)}function ye(e,t){switch(e.kind){case"unbounded":return e;case"windowed":return(0,M.Wi)(e.key)?e:b(ve(e.group,e.key,t),e.key);case"countLimit":{const r=e.limit,n=e.n,i=e.group,a=U(n,i,((e,t)=>t<=1?M.YP:(0,M.G)(t-1)),t),s=(0,P.Fp)((0,M.pR)(t))(r,a);return _(ve(i,s,t),s,n)}case"uniqueLimit":{const r=e.limit,n=e.n,i=e.group,a=(e,t)=>{if("object"===e.kind){const r=[...e.value.keys(),...t.keys()],i=new Set(r);return i.size>=n?M.YP:(0,M.G)(i)}return M.YP},s=U(new Set,i,a,t),o=(0,P.Fp)((0,M.pR)(t))(r,s);return v(ve(i,o,t),o,n)}}}function we(e,t){return(r,n)=>he.extend(e,((e,r)=>h(t(e,r))),r,n)}var ke=r(922),Ee=r(2652),Se=r(4730),Pe=r(8036);class De{constructor(e,t,r){this.externalData=e,this.localQueries=t,this.externalQueries=r,this.queryCodesAsList=[],this.queryCodesAsMap={};const n=this.externalData.getExternalJsonData(ke.mL)||[],a=(0,i.zG)((0,M.Y3)((()=>n.filter((e=>(0,Pe.UC)(e,this.localQueries,this.externalQueries))))),(0,M.fS)((()=>[])));this.add(a)}add(e){return(0,i.zG)(e.forEach((e=>this.queryCodesAsMap[e]=!0)),(e=>this.updateSegmentsList()))}remove(e){return(0,i.zG)(e.forEach((e=>delete this.queryCodesAsMap[e])),(e=>this.updateSegmentsList()))}getAllAsList(){return this.queryCodesAsList}getAllAsMap(){return this.queryCodesAsMap}getUpdates(e){const t=[],r=[];return Object.entries(e).forEach((e=>{let[n,i]=e;const a=parseInt(n),s=(null==i?void 0:i.result)||{result:!1},o=!0===(null==s?void 0:s.result)&&!(a in this.queryCodesAsMap),c=!1===(null==s?void 0:s.result)&&a in this.queryCodesAsMap;o?t.push(a):c&&r.push(a)})),{entered:t,exited:r}}flush(){this.externalData.setExternalJsonData(ke.mL,this.getAllAsList())}reset(){this.externalData.removeExternalData(ke.mL),this.queryCodesAsList=[],this.queryCodesAsMap={}}updateSegmentsList(){this.queryCodesAsList=Object.keys(this.queryCodesAsMap).map((e=>parseInt(e)))}}const xe="bootstrap",Ie="process",Me="processTransitions",Oe="updateExternalState",Ce="updateLAL",Te="updateTPD";var Ae=r(6054);const qe="permutive:query:changed",je="internal_query_states",Ue="external_query_states",Ge=e=>class extends e{constructor(){super(...arguments),this.prefix="[Query Manager]",this.isWorkerReady=!1,this.stateMap={value:{},promise:Promise.resolve({})},this.extStateMap={},this.userSegments=new De(this.externalData,this.queryMetadata,this.externalQueries),this.segmentEntryQueryCodes=new Set,this.segmentExitQueryCodes=new Set,this.cohortEntryQueryCodes=new Set,this.cohortExitQueryCodes=new Set,this.hasNewOrModifiedQueries=!1,this.scheduler=new Se.b(this.transitionDebounceTime,this.transitionDebounceMaxTime),this.debouncedProcessTransitions=this.makeDebouncedProcessTransitions(),this.lalAndTpdListenersInitd=!1;const[e,t]=Ae.Ue(this.userSegments.getAllAsList());this.queryCodesRef=e,this.queryCodesRefUpdate=t;const[r,n]=Ae.Ue(Ae.a9(M.YP));this.setLalRef=n,this.lalRef=Ae.xH(r);const[i,a]=Ae.Ue(Ae.a9(M.YP));this.setTpdRef=a,this.tpdRef=Ae.xH(i)}get queryCodesAsRef(){return this.queryCodesRef}makeStateMaps(){const e=this.permutiveData.getData(je)||{},t=this.permutiveData.getData(Ue)||{};for(const t in e)if("activations"in e[t]){const r=e[t].activations;for(const e in r)r[e]=[...new Set(r[e])]}this.logDebug("Cached state maps",{internal:e,external:t});const r=Object.keys(this.queryMetadata),n=Object.keys(e);this.hasNewOrModifiedQueries=r.length!==n.length||r.filter((t=>{var r;return this.queryMetadata[t]!==(null===(r=e[t])||void 0===r?void 0:r.checksum)})).length>0,this.logDebug("has new or modified queries",this.hasNewOrModifiedQueries);const i=this.hasNewOrModifiedQueries?(0,Ee.fl)(e,(t=>{var r;const n=null===(r=e[t])||void 0===r?void 0:r.checksum,i=n===this.queryMetadata[t];return i||this.logDebug(`Dropping state for query ${t}, mismatched checksum`,{cachedChecksum:n,checksum:this.queryMetadata[t]}),i})):e;this.extStateMap=this.hasNewOrModifiedQueries?this.dropExternalStateMissingFromStateMap(t,i):t,this.stateMap={value:i,promise:Promise.resolve(i)},this.logDebug("Initialised state maps",{internal:this.stateMap.value,external:this.extStateMap,metadata:this.queryMetadata});this.permutiveData.getData("query_states")&&this.permutiveData.deleteKey("query_states")}dropExternalStateMissingFromStateMap(e,t){const r=(0,Ee.fl)(e,(e=>e in t));return this.permutiveData.setData(Ue,r),r}makeDebouncedProcessTransitions(){return this.scheduler.scheduleAccumulated((e=>this.processTransitions(e)),{concat:(e,t)=>e.concat(t),empty:[]})}makeMessage(e,t,r){return{type:e,payload:(0,i.bc)(this.queryMetadata,this.extStateMap,...t),stateMap:r,userId:this.userId.get()}}trackTransition(e,t){const r=ke.ED?this.customProperties.getCustomProps():{},n=Object.assign(Object.assign(Object.assign({},r),{segment_number:t}),{});e?(this.segmentEntryQueryCodes.add(t),this.cohortEntryQueryCodes.add(t.toString())):(this.segmentExitQueryCodes.add(t),this.cohortExitQueryCodes.add(t.toString())),this.permutive.track(e?"SegmentEntry":"SegmentExit",n)}trackSegmentsTransition(e,t){e.forEach((e=>{this.trackTransition(!0,e),this.messages.emit(qe,{queryCode:e,result:{result:!0}})})),t.forEach((e=>{this.trackTransition(!1,e),this.messages.emit(qe,{queryCode:e,result:{result:!1}})}))}updateUserSegments(e,t){e.length>0&&this.userSegments.add(e),t.length>0&&this.userSegments.remove(t),(e.length>0||t.length>0)&&(this.userSegments.flush(),this.queryCodesRefUpdate(this.userSegments.getAllAsList()))}onStateChangeReady(e){const{entered:t,exited:r}=this.userSegments.getUpdates(e);this.trackSegmentsTransition(t,r),this.updateUserSegments(t,r),this.logDebug("Updating query state",{updatedStateMap:e}),this.permutiveData.setData(je,e);return(t.length>0||r.length>0)&&(this.logDebug("Updated cohorts",{entered:t,exited:r}),this.messages.emit("permutive:segments:updated")),{segmentsEntered:new Set(t),segmentsExited:new Set(r),cohortsEntered:new Set(t.map(String)),cohortsExited:new Set(r.map(String))}}onStateChange(e,t){return(0,i.zG)(t.length>0?this.api.reportError(`QL error(s). Got ${t.join("; ")}`,this.userId.get()):{},(t=>this.stateMap.value=Object.assign(Object.assign({},this.stateMap.value),e)),(e=>this.isWorkerReady?[e,this.onStateChangeReady(e)]:[e,{segmentsEntered:new Set,segmentsExited:new Set,cohortsEntered:new Set,cohortsExited:new Set}]))}postMessage(e,t){const r=e=>this.userId.get()===e.userId?e:{diff:{},errors:[]};return new Promise((n=>{this.stateMap.promise=this.stateMap.promise.then((0,i.ls)((r=>this.makeMessage(e,t,r)),(e=>this.processMessage(e)))).then((0,i.ls)(r,(e=>{let{diff:t,errors:r,externalStateToDrop:i}=e;if(i){const e=(0,Ee.fl)(this.stateMap.value,(e=>!(e in i)));this.extStateMap=this.dropExternalStateMissingFromStateMap(this.extStateMap,e)}const[a,s]=this.onStateChange(t,r);return n([t,s]),a}))).catch((e=>(0,i.zG)(this.api.reportError(`Error during query execution. Got ${e}`,this.userId.get()),(e=>n([{},{segmentsEntered:new Set,segmentsExited:new Set,cohortsEntered:new Set,cohortsExited:new Set}])),(e=>this.stateMap.value))))}))}processTransitions(e){return this.postMessage(Me,[e])}bootstrap(e){const t=this.postMessage(xe,[{segments:{"1p":this.userSegments.getAllAsMap()},sessionId:this.sessionManager.getSessionId(),viewId:this.viewId.get(),lookalikeModels:this.lalRef.current,thirdPartydata:this.tpdRef.current},e]);return this.lalAndTpdListenersInitd||(this.lalAndTpdListenersInitd=!0,this.lalRef.onChange(M.UI((e=>this.postMessage(Ce,[e])))),this.tpdRef.onChange(M.UI((e=>this.postMessage(Te,[e]))))),t}process(e,t){return(0,Pe.AG)(e)?this.debouncedProcessTransitions([e]):this.processStandard([e],t)}processStandard(e,t){return(0,s.mG)(this,void 0,void 0,(function*(){const r=yield this.postMessage(Ie,[e]);return t&&this.setAsRealTimeifNeeded(e),r}))}updateExternalState(e){const t=(0,Ee.b0)(e,((e,t)=>{const r=this.queryMetadata[e];return r&&t[r]?(0,M.Uo)(N(t[r])):M.YP})),r=(0,Ee.b0)(this.extStateMap,((e,t)=>(0,M.Uo)(N(t)))),n=(e,t,r)=>(0,i.zG)((0,M.Y3)((()=>(this.logDebug("Joining external state",{newExtState:e,currentExtState:t}),be("join",e,t)))),(0,M.fS)((()=>(this.api.reportError(`Failed to join external state for query: ${r}. Had ${B(t)}, received ${B(e)}}`,this.userId.get()),e)))),a=(0,Ee.b0)(Object.assign(Object.assign({},r),t),((e,t)=>r[e]?(0,M.G)(K(n(t,r[e],e))):(0,M.G)(K(t))));return this.permutiveData.setData(Ue,a),this.extStateMap=a,this.postMessage(Oe,[])}reset(){this.userSegments.reset(),this.permutiveData.setData(je,{}),this.permutiveData.setData(Ue,{}),this.stateMap={value:{},promise:Promise.resolve({})},this.extStateMap={}}setAsReady(){this.isWorkerReady=!0,this.onStateChangeReady(this.stateMap.value),this.messages.emit("permutive:queries:initialised")}getStateSizeInBytes(){return 2*JSON.stringify(this.stateMap.value).length}setAsRealTimeifNeeded(e){return!this.realtime.isRealtime()&&e.filter((e=>"Pageview"===e.name)).length>0?this.realtime.setAsRealtime(this.userSegments.getAllAsList().length):void 0}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(this.prefix,...t)}};function Re(){return(0,n.h)(new a.Z)}class Le{constructor(e){this.queryMetadata={60219:"0c8b70cdb7",61780:"fb5e7c6481",61825:"80aefc9f16",62698:"d2f664deef",64821:"3f76fc0651",65455:"4f8ec8e672",65456:"de1ddd2170",65457:"b366a5467f",65464:"ab267f19b5",65465:"b2f6822b51",65466:"a294e14ae5",65467:"5cafc861f9",65468:"4ed52361f0",65469:"0e8c6b6a18",65470:"a0e76e33d0",65471:"42fc0ae117",65472:"f0bf6b23ef",65473:"b572cf61ed",65474:"f51c5e5d4e",65475:"3e99dc25a7",65476:"6737f09d11",65477:"6fee361146",65478:"bdfcbd7a95",65479:"d0a550ec2f",65480:"3e0f3f05fa",65481:"9b4a148191",65482:"ac8ccdedb6",65483:"84a53827d8",65484:"c02227f4d3",65485:"122653a557",65486:"00c81d49dc",65487:"5a6b97701a",65488:"1f48bb8422",65489:"08661ee24e",65490:"9d8b3c012c",65491:"cfafbbebe1",65492:"e9d6d1b35f",65493:"8d9d099a1e",65494:"e2ddb33f80",65495:"59673a401d",65496:"ef2b3f34a3",65497:"1322882c20",65498:"6e08cfc40d",65499:"a529fb935d",65500:"f72c237f1a",65501:"e7635c6996",65502:"fc90f6eb63",65503:"c85ab4a705",65504:"f41d033111",65505:"8e5a68c976",65506:"c255a80002",65507:"d3cb5f2bc2",65508:"905c3aff7e",65509:"c83af42bca",65510:"aacc446ff9",65511:"9ac96e3e2d",65512:"716adfe6d0",65513:"2b5283d30b",65514:"8703609204",65515:"dc5a3dd4c4",65516:"ca5ba45310",65517:"ce972bea5a",65518:"f537fac384",65519:"2880f98cf3",65520:"3180f476f0",65521:"ce14a01eb0",65522:"3abf286a4b",65523:"4d4bf3b1e6",65524:"09fd140d1b",65525:"4eb99bbe82",65526:"30d721f2e1",65527:"024b09358b",65528:"b242f5f0ed",65529:"a1f869372a",65530:"5656448a76",65531:"e508d33e2a",65532:"5348de6ba9",65533:"8e4f60cd9b",65534:"1fbd900a65",65535:"3451ded8c4",65536:"a322234a51",65537:"c51e53f840",65538:"5cfd95fe84",65539:"c73b5f9bf0",65540:"8486d1a236",65541:"972dde2ce0",65542:"ab4e7586ac",65543:"44b580a94f",65544:"ed06f31a0f",65545:"926b39b788",65546:"97c5857e58",65547:"89a784ae5b",65548:"1c0688d78c",65549:"461cbfedd1",65550:"c18149ae96",65551:"db745779ea",65552:"be51542a4e",65553:"2c4e9aa36a",65554:"230173bb5e",65555:"060735c8d1",65556:"7d09ec675a",65557:"0a735acb36",65558:"f03c1bc2b6",65559:"d665c8a647",65560:"8eac3aad2b",65561:"726eeeb793",65562:"700687af18",65563:"50847e9178",65564:"e045061731",65565:"11bd26da4b",65566:"be37dd058b",65567:"7bb0349194",65568:"81058936ff",65569:"08cb204674",65570:"8c788fd32e",65571:"ea9fea524f",65572:"1169075cf4",65573:"35a0eba7ba",65574:"22c7270e84",65575:"5019582e5d",65576:"4cdc3affcf",65577:"334166528e",65578:"1d9ed22829",65579:"651ec13e4b",65580:"d3d0d74d02",65581:"677cfd6c32",65582:"40bbf9c6c4",65583:"494c407072",65584:"58f228659c",65585:"1a35ecb641",65586:"34cba4b89e",65587:"33e1bec6d1",65588:"c23590fca5",65589:"4a2d19ba9d",65590:"caf450295f",65591:"282750b20b",65592:"5ec5a3021c",65593:"3f61bf9093",65594:"c7395b78ca",65595:"eebd5fc151",65596:"1bf3882d5b",65597:"0587c5acb1",65598:"2286368366",65599:"48279671e2",65600:"cf7f8687d5",65601:"8da9925e66",65602:"ac831c1a5e",65603:"4993afeb03",65604:"9aa6300dbd",65605:"2f55507acb",65606:"2623e89d2b",65607:"2cb9b21d4d",65608:"a0e38f16b3",65609:"f72c237f1a",65610:"e7635c6996",65611:"fc90f6eb63",65612:"c85ab4a705",65613:"d2c20039b5",65614:"fd09c313c8",65615:"f1e44b1889",65616:"586645293a",65617:"ad148431af",65618:"dcd9f40671",65619:"c5044a0e19",65620:"717c5a5dac",65621:"f3ca752239",65622:"fad2812f84",65623:"29a64d2250",65624:"d388da7ee6",65625:"edc1453df8",65626:"02cb476064",65627:"981c9708eb",65628:"818a31d3a7",65629:"dd2f4c9391",65630:"ed8c79b070",65631:"2bc9ef29d0",65632:"8e71071c80",65633:"d3e9f1705e",65634:"ebea479cc8",65635:"bc8392873e",65636:"b021ccd6b8",65637:"4ae375cf8f",65638:"cd703c25e9",65639:"f24e000472",65640:"4025d3a036",65641:"92708abcd2",65642:"9ba93cefa8",65643:"7cfb4d236b",65644:"68375f75e3",65645:"5b07773964",65646:"1703aa83e1",65647:"bb3710f491",65648:"a76d1e11b1",65649:"b3e72ab43e",65650:"d593971d08",65651:"8f7b660ce7",65652:"09b39f50e7",65653:"d08833597b",65654:"d8e55c2b00",65655:"d0fc73bd34",65656:"93997af340",65657:"8c1c45157f",65658:"233ac251f7",65659:"769be53317",65660:"5e4943f1ce",65661:"f549ede1be",65662:"93120c6e0e",65663:"b213c76279",65664:"cb67fc7d25",65665:"3cd2799a32",65666:"de1844d541",65667:"3a95d5858c",65668:"580ddd0a80",65669:"651b4137ac",65670:"8fc560df5f",65671:"b5db9d7f2e",65672:"f7a5284b4b",65673:"677879fbf3",65674:"e699182dbf",65675:"9ec17813b8",65676:"fa450ce768",65677:"830cf4f6d3",65678:"eef2230c3b",65679:"afcb6625df",65680:"b273c34e70",65681:"4a4b769ab6",65682:"fd7e54f6f6",65683:"571802c9eb",65684:"12646e16ad",65685:"a020b37fc4",65686:"402fb79eed",65687:"03dd0f86cd",65688:"bd298f607e",65689:"d9d313668c",65690:"a67c6341aa",65691:"c590bd914d",65692:"d44bc50253",65693:"40ff01f500",65694:"de50c19152",65695:"86ea89ca36",65696:"7c7d2588c3",65697:"25fd40ab3d",65698:"315d851902",65699:"2a961397f8",65700:"99497e90c3",65701:"3c792ad06f",65702:"caaae1831c",65703:"ba2fd8c5d7",65704:"11db98c3df",65705:"67c326669b",65706:"887ceb9087",65707:"a28dd2a31c",65708:"d1e8ecc08c",65709:"51da6c67b4",65710:"ab6c8f257c",65711:"34c26b3aef",65712:"a9438d3ba1",65713:"912de68eb9",65714:"2d48c53194",65715:"fbab99416f",65716:"e1e22f7bb5",65717:"ee9b5828e7",65718:"3bae1aabf4",65719:"2dc038fff0",65720:"0f8946290e",65721:"1ed3714b33",65722:"5f08e7881e",65723:"5c8dcf0f2c",65724:"8f6a6c6c27",65725:"113c240f3d",65726:"a8bf3e48f3",65727:"1b5024172b",65728:"1fa82de1e5",65729:"a9a87881ef",65730:"d452aa7e38",65731:"8c5f4260b1",65732:"a5d01c7858",65733:"0948c2b973",65734:"ec3230f9e2",65735:"678e864c68",65736:"a429e664c6",65737:"5525f732e4",65738:"c3dd68615a",65739:"8c029af3c1",65740:"71dc5be8aa",65741:"b2616aa846",65742:"d7ed775447",65743:"5e062d6517",65744:"6e2ac11d7d",65745:"183e3fcc1d",65746:"66013c2204",65747:"f1ba74150a",65748:"ac7111e46f",65749:"eea5fc3411",65750:"c4bd5f87a6",65751:"aa7d0ee76c",65752:"82a0ab6240",65753:"0d8dc5156b",65754:"1ff8b5ebf5",65755:"2276480117",65756:"72cc8036ce",65757:"8b0d60d956",65758:"6c1decc83f",65759:"53d835bc86",65760:"072c9a8e5f",65761:"a37c6d1518",65762:"241ce82d43",65763:"c5d7313a19",65764:"f070a0c1e3",65765:"fabf853090",65766:"67f07d7434",65767:"90fc5012a5",65768:"0f0964df4f",65769:"8dc0a6ca35",65770:"de78491ef3",65771:"966ac1959d",65772:"86ce064338",65773:"fba27c3719",65774:"bd29fb0570",65775:"c9790a3f22",65776:"65cf983b75",65777:"2b8231c872",65778:"723ed2e0ff",65779:"2738cbe115",65780:"45ca2e3b7b",65781:"004a9ae244",65782:"0439a53889",65783:"77b9787fad",65784:"fc74f79ced",65785:"2dc02eb9d7",65786:"81058936ff",65787:"f779f518b4",65788:"1f59c5f4f4",65789:"1c4cdaacf6",65790:"fdc16c7f02",65965:"e1fdb20e32",65966:"c5af3a74f9",65967:"d08e178607",65968:"3bb5db4029",65969:"8e391609ed",65970:"4805d89965",65971:"d71bfa3ca0",65972:"c014847c0f",65973:"fdead37a71",65974:"4826dabc50",65975:"1796cfe09d",65976:"0274829ec5",65977:"b4e69a5f88",65978:"5a4591cc13",65979:"0bb4769e14",65980:"714896250d",65981:"8f54cbbe8b",65982:"3cc126b804",65983:"0267d463bf",65984:"65fbce653f",65985:"f2d80ef8fc",65986:"df49f77bd6",65987:"01ad1da50e",65988:"ac2f7b0b72",65989:"ccc1efecba",65990:"9f17765b40",65991:"0e12060180",65992:"cc00bb40c0",65993:"cd3e4bdaaf",65994:"9d3f125cd5",65995:"00a46aa1dd",65996:"dab865e38f",65997:"7653434032",65998:"2d115ab22e",65999:"92f04e543b",66e3:"2cc65ceae9",66001:"2e980decc9",66002:"eea07db664",66003:"967ebf29b1",66004:"b3c94bc30c",66005:"d0747238a6",66006:"b73022d730",66007:"0158c6ddb3",66008:"33b6ac23e0",66009:"b31e27c59b",66010:"aceda2d49e",66011:"8b3719a46e",66012:"ff4df7b841",66013:"aee04d2acd",66014:"33d6229f00",66015:"eb10879278",66016:"94f9426f24",66017:"daf1313132",66018:"89eb783727",66019:"e02e5122c6",66020:"1f222baee5",66021:"485d656642",66022:"f902fcab44",66023:"4b9c98769e",66024:"eb69e61aa5",66025:"31ac267dfd",66026:"a975d337da",66027:"ddba3f2241",66028:"91d425a6af",66029:"7bc8a95b50",66030:"954de10dcb",66031:"e44784912a",66032:"0b566f8dd7",66033:"3f388b8f9a",66034:"c59c80c260",66035:"39bd78ae0c",66036:"62096eb208",66037:"377fed3b0d",66038:"ee418e0060",66039:"8e1c1ae6d5",66040:"abcd1bad7e",66041:"311b24f7dc",66042:"d9f4be6fca",66043:"73db3f4b12",66044:"26eaa7b39d",66045:"2ea6fe750b",66046:"716ab1a1cc",66047:"e363d0cf02",66048:"d779faaa7a",66049:"465a347f0f",66050:"b2fbd4764d",66051:"705ea4f488",66156:"8b7988c5c1",66157:"0c51d0f9c7",66224:"b239f1c4d9",66693:"1200c4bb68",66696:"71aef6d327",66697:"00bd0d4813",66704:"5eac7b778b",66705:"1ffe4e3e0c",66706:"e164ed0039",66987:"35202cee0c",67013:"837cc37c2f",71507:"6277047bdd",71508:"7cf26b5041",71509:"620701046d",71510:"cef6fb6516",71511:"d762e55eba",71512:"f65b1082f5",71513:"3d9e9c97f1",71514:"d2bd59dd55",71515:"9e79e04d3b",71516:"a479c216d5",71517:"15862bb737",71518:"c23767bc0f",71519:"ae7d9f753e",71520:"2ee65961ea",71521:"1abf9f380b",71522:"4c0965844e",71523:"9bd5ca0c18",71524:"4a5342b061",71525:"595f1111a6",71526:"fefa8dc104",71527:"a7700b7d4e",71528:"48c6970ed4",71529:"09a317c21e",71530:"4f8d5e4207",71531:"c596d00052",71532:"9b89bb2ac0",71533:"897e07987d",71534:"010ba1f62d",71535:"6e8e20de80",71536:"d6565847ed",71537:"fd09d9d534",71538:"816d405b5c",71539:"d8312ce249",71540:"ee64835ff6",71541:"8fc8ffa3ea",71542:"9e501849b1",71543:"3404eaad4b",71544:"3aafb69238",71545:"6f673cd695",71546:"ce286336f7",71547:"642f794eb6",71548:"edfeab2ca7",71549:"b5d060a996",71550:"fb65f67063",71551:"cee0264201",71552:"4735c0e00c",71553:"b1121a230e",71554:"60793fb825",71555:"ecee7130ef",71556:"367db1aa06",71557:"9ddead1953",71558:"3d15e8bd65",71559:"5d78139dd2",71560:"10f9bf741c",71561:"b45e5e3d63",71562:"1192434c1c",71563:"dccf4349c1",71564:"ee56f71ba6",71565:"483ac78608",71566:"a0c2a2fc25",71567:"c476a1a3d9",71568:"0679cd240c",71569:"78270b3fd4",71570:"ca0592f20a",71571:"d5b7abb383",71572:"f05a5112f7",71573:"a7af2d8f72",71574:"23180873a3",71575:"479df3e32e",71576:"84de396f68",71577:"a10ccfe5eb",71578:"ceba80aa09",71579:"8be8922709",71580:"7a75c4dde4",71581:"d254954ff1",71582:"ff2d53a27f",71583:"61fd80b9d4",71584:"21e82a27f1",71585:"952a7fde55",71586:"fc4126dc48",71587:"88d3dd617e",71588:"4c5ad37618",71589:"852f9355ea",71590:"782a645b2f",71591:"4f2da50240",71592:"1df3853ab1",71593:"e070202663",71594:"687c44411e",71595:"abd634d5d8",71596:"a9d2bdd88c",71597:"9a9a125d25",71598:"fb673fd73c",71599:"798f56536a",71600:"6273734ff4",71601:"ddabf4a047",71602:"d08b4807b1",71603:"152e092162",71604:"ee9ed12bbf",71605:"4ea673bc72",71606:"d9422e35b4",71607:"167d43785d",71608:"2c1fd55183",71609:"6439f8ab4e",71610:"f0deac7351",71611:"34796fd4fc",71612:"1b300e3588",71613:"6b984f0593",71614:"f9ee49cf0e",71615:"8f54e4ac0a",71616:"1a0539f967",71617:"5f9a19faef",71618:"f9eb55bca7",71619:"2da8e5d874",71620:"85594b06f9",71621:"f2c5f1a1f7",71622:"924c051332",71623:"faaa308ea0",71624:"85f5fdca3e",71625:"31525ebd4c",71626:"6d8de4195a",71627:"67c507ce36",71628:"c596f25afb",71629:"ac71a2a09a",71630:"dda82252f7",71631:"f47f6e2ccc",71632:"87ad5c0aa2",71633:"41980548dd",71634:"fe0420d242",71635:"38f06ecf86",71636:"a926cb4da6",71637:"8392cac122",71638:"43fbe3af76",71639:"00e0a833d9",71640:"92d9bc3367",71641:"b8c6a4f4bd",71642:"c3f0cf6d6e",71643:"13aa67287e",71644:"22b011c5fb",71645:"c45dd5f924",71646:"d492575da0",71647:"fa585630a6",71648:"f9460acd36",71649:"fa3737e385",71650:"bb5501e7ba",71651:"65332f9d1c",71652:"9956350220",71653:"e61a6d1389",71654:"0a613ad862",71655:"38e9ffa6a3",71656:"d5da3ec100",71657:"1e0e629414",71658:"23b27322b3",71659:"7914e5f26a",71660:"dcb70acf94",71661:"8765f2eb7e",71662:"c447fc1cb2",71663:"f0bcce1ba1",71664:"cf48b9a2d3",71665:"ace864330d",71666:"8a75b43ee9",71667:"430b5f1e7e",71668:"1b5c36a099",71669:"1af17bd1c1",71670:"76db3b7780",71671:"6ba7dcb177",71672:"86250236e0",71673:"2bf7dbde35",71674:"21b9ed0447",71675:"2b8b90c837",71676:"4bc5350733",71677:"642413210f",71678:"42d473d595",71679:"ef3d01db44",71680:"a0c795b4a9",71681:"2ed6af7da1",71682:"08c3f8e596",71683:"03c03c6fc8",71684:"47d261c9ed",71685:"2b24dc674e",71686:"ba1c0abbba",71687:"00b7f3fca1",71688:"5ee6baae6b",71689:"56c3f366d8",71690:"54cd8f0e64",71691:"bc954e65b1",71692:"d851d38908",71693:"e03ac877ce",71694:"9aa8182947",71695:"632d6dc34d",71696:"9880fc70c1",71697:"1f6f63b9a7",71698:"5a8a306a58",71699:"ad0587a643",71700:"ed186c7050",71701:"e9830e8780",71702:"868722d52e",71703:"9f91ef28a9",71704:"6a6ba46a83",71705:"2aa3f4a5cf",71706:"cd21346cad",71707:"c556e91683",71708:"26b5f74ea7",71709:"a262a5f449",71710:"9aa8a89546",71711:"91d8b5d7d5",71712:"10242505ee",71713:"df40596758",71714:"3417680d9d",71715:"8e1fd8a7c7",71716:"f6b382550d",71717:"ea5b9d4575",71718:"9134e75374",71719:"12da7de57c",71720:"384d2f1a74",71721:"b6e0a4a2c5",71722:"9bafc34dad",71723:"3397b25773",71724:"315dfc451c",71725:"fdffa9dd5e",71726:"1ecb71aa8d",71727:"2f997a2714",71728:"85325a8acd",71729:"c350657e95",71730:"e0a1d3671c",71731:"65d269dd09",71732:"d59e099aab",71733:"d5ef26ce3c",71734:"04dfdb9707",71735:"1990555f89",71736:"3487f5d22e",71737:"8924b886e0",71738:"89f8685f8d",71739:"ebd7e1d7f8",71740:"fac4efb39c",71741:"0961bf486e",71742:"8b77b40326",71743:"3d855bb70b",71744:"4adb0352ea",71745:"6e39a39646",71746:"c7431a4c6e",71747:"fa72a436de",71748:"572755856c",71749:"7bbc401c81",71750:"705ebbf414",71751:"f16705a9ef",71752:"efcbe1b87f",71753:"4591e7f1ac",71754:"408c1a99a6",71755:"2451f86f60",71756:"9134a88e81",71757:"a21ca9fe03",71758:"f54edf1cc4",71759:"8c637a67f1",71760:"91fa7c4171",71761:"cadaa0538c",71762:"757d7af25a",71763:"2bf88c52a8",71764:"1be8b38e8c",71765:"5271b2716a",71766:"e39f3b4a69",71767:"6bcfc705fe",71768:"71bc4f7d64",71769:"eab1773b1f",71770:"c2298b6ddb",71771:"f2fbfbbf5a",71772:"cc8d24c425",71899:"05d64571d5",71900:"6a45746169",71901:"37e69225aa",71902:"3df103ce84",71903:"28ca5b4b38",71904:"e86c771eb1",71915:"952b6ceaf3",71916:"665cfaeb3d",71917:"5e069ae2da",71918:"9d4c003af1",71919:"bae5a0f5f5",71920:"716cc93360",71921:"82b9ab3132",71922:"dad85817b4",71923:"f5e18f8859",71924:"6f76daf8c1",71925:"44b15f6b35",71926:"1cefeb4336",71927:"13be412c12",71928:"ac3f66b222",71929:"244810a247",71930:"fcde8f229a",71931:"0a7cd90d01",71932:"aa42c0b62d",71933:"8456683c4b",71934:"6e5d04470c",71935:"57731a841d",71936:"40a5c40742",71937:"56ed552bda",71938:"acfdda300f",71939:"bf1a079ad1",71948:"20d0c8937a",71949:"f172fd9e7c",71950:"d4dab41f14",71951:"8a5bea74b4",71952:"e27bea2e48",71953:"9bcd630da2",71954:"5b69a83be7",71955:"980458ebae",71956:"1d83d15994",71957:"09dde6b0e3",71958:"99309a1528",71959:"d82cbd2e45",71960:"469cb06de1",71961:"7f18b1b547",71962:"5eb63f565e",71963:"0a07cd392d",71964:"525db4921f",71965:"2b73a86b69",71966:"f4cf74d33e",71967:"6998c5f3f2",71968:"f561ac3a84",71969:"aeb8ac87c6",71970:"a172cc3890",71971:"b39144fcb4",71972:"70c966b39c",71973:"e9a00ff8f1",71974:"7959336c75",71975:"e65027a8e9",71976:"87e6a4fefc",71977:"ae58fc8ed3",71978:"e4b37236f2",71979:"ee970ec20a",71980:"c62c1d2009",71981:"4a8598cc3b",71982:"134e0eba04",71983:"0b5b8a3655",71984:"4da6964c3b",71985:"84e3f4d8f6",71986:"11d599341d",71987:"dc9e9b8747",71988:"146901ea7e",71989:"149cbf309e",71990:"e576094ef1",71991:"5cb408581d",71992:"4c99d198e7",71993:"7881be670a",71994:"e5cd3fd81d",71995:"0231cefbc6",71996:"3a4ffa8b69",71997:"e6f03a4fed",71998:"547c9ec0dc",71999:"b9b5affb8d",72e3:"741444de42",72001:"66d4e5b1c9",72002:"2c202a8276",72003:"1d5244b037",72004:"a162751f6b",72005:"582792440e",72006:"1814742daa",72007:"cb1b772ebf",72008:"420effe2a2",72009:"0d9b71fce0",72010:"1c27f533c9",72011:"1e6ad4ec65",72012:"2400b3bf6b",72013:"631ec88881",72014:"a7d36552b1",72015:"422531b934",72016:"2ed90fdb22",72017:"7a633ed2f2",72018:"fdafe352f6",72019:"69dc2d8ce0",72020:"647733b5c7",72021:"3cfce1bcb5",72022:"6d317c2667",72023:"9ff7f6180c",72024:"f19fb3b2fc",72025:"bd5b4637b6",72026:"bffac2991b",72027:"0d800b146a",72028:"d206ae0eea",72029:"cb924e30a4",72030:"c609d6b030",72031:"e249e7da40",72032:"22a064f8d5",72033:"9d7b00f982",72034:"d264e98943",72035:"6891c1b14b",72036:"d7cfce86e9",72037:"b94bea5a15",72038:"65be1ccbad",72039:"e2ae13ec35",72040:"4569ef106a",72041:"5ae152fe76",72042:"bcd89b2a0b",72043:"b90dca9589",72044:"0d7788cd3a",72045:"1f45d8eca5",72046:"26d8ba01b2",72047:"8a23f12548",72048:"4734c03835",72049:"badd0d2a1b",72053:"ba6596a256",72054:"40c469cd44",72055:"7f81987681",72056:"27d2faa3e5",72057:"c0ee386d1a",72058:"077089f48f",72059:"7b055fec27",72060:"5d4520db6c",72061:"277b4c04fd",72062:"7ea28527c8",72063:"ea46d5f5b1",72064:"5f865bd9f5",72065:"69c595bc92",72066:"e6a821d4a9",72067:"a00ae9f746",72068:"9d6e96a4c9",72069:"0cc4b67613",72070:"0c2d20a141",72071:"2d4b26ee46",72072:"b142a6a27f",72073:"476114a2c0",72074:"ceec6651b3",72075:"99dbdb761f",72681:"66de929bf4",72711:"0a9d932e94",73164:"2003e62eae",73165:"8632a19b48",73166:"482c33909a",73965:"7e7c9b0cee",75936:"c7cdfe4697",75937:"821c25ae75",76469:"c5c3e236d0",77498:"e8e37f697f",79652:"467631cb0c",83156:"e5e589b97b",85242:"97d677dbc5",85663:"448a7f3213",85747:"0c51d0f9c7",86061:"5a8c29657f",86062:"2140cab28c",86063:"1a785aa466",86166:"3a9b7bd82d",86167:"d302a3df51",87447:"a4f862c8d8",87682:"dc04cd57d6",87820:"08d101d927",87821:"e8f4523fe4",88179:"4964e3b4dc",88695:"0c51d0f9c7",89077:"34ef84e173",89079:"a7aa4a2e4e",89081:"0dcd54fbad",89082:"83fb9e3550",89083:"f174458e46",89086:"17654d03c0",93629:"3e1f447401",94125:"d5281e39de",94126:"221eb1012e",94127:"ded18695a6",94128:"579fab789f",94129:"5726105b16",97266:"0ea83770b3",97267:"fcc0711638",97849:"6139a6f8a8",97851:"f577a61927",98385:"4a59ab40cb",98608:"f45c9250b3",98617:"8fae3e441e",99133:"4b2260a04d",99323:"5b703cb10e",101097:"153b30451e",101929:"82c2549a12",101931:"22db90f247",101937:"16b2202c0c",101938:"21709ed153",101940:"3120356496",103274:"e343ed81c8",103671:"03d4402039",103866:"c69df2bbfe",103867:"fc87afa915",103868:"2b2b31496a",104041:"339ab1dd12",104124:"d9317cf35c",104860:"e0cf1a1997",104863:"604850ed75",104864:"f3f90104a6",105126:"b7a493c493",105732:"21ce238588",105807:"c8ea9832c7",106291:"5abddf5499",107478:"aabf60e9a2",108682:"207e46ffcf",109284:"90d456ff5f",110675:"7495f05816",113217:"b9dae702b9",113218:"f5b517dd34",114267:"fcef743030",114299:"13d47ceb73",114499:"b40b84f455",115581:"16ae2d8dee",115678:"7251bc7fb9",120929:"6177f9d230",122441:"c46a026b14",122876:"ae8b40351e",122884:"d267d21d38",122989:"d3beabff29",122990:"caf730c9f6",123341:"af98b8dd11",123342:"6be4142631",123501:"d22d123664",123908:"6fab2a4370",123923:"fe69c2ed30",124682:"e959c418e6",124688:"4891e3258a",124692:"9095accf31",125228:"2963422257",127374:"fa1f6a4a66",128686:"bb959091ca",128824:"35c073c857",128825:"1f61ea9afb",129606:"c1d2663e11",129720:"247f9b3082",129722:"7a667781b5",129723:"ac3006801c",129767:"e8ebd6dc6a",129768:"0da57dbe78",129770:"23316fd911",130380:"d7b685af40",131415:"b144c1e282",131596:"9d72ee124b",131890:"16865f651c",131891:"26666e26a4",131993:"3ea8c1fe51",134452:"2b93266c9a",134599:"f9d43c85ef",136198:"3dd5b89bb0",136199:"49d638350b",136200:"acb1f883a6",136201:"cc4b5c082b",136202:"e57429ff92",136203:"eaa6f64a35",136204:"ae14451338",136205:"8b7254792b",136207:"232571191a",136208:"57ab6ee272",136209:"4ba8a371d7",136561:"2f1b340af7",136562:"2d29749234",136563:"b43410f1e5",136564:"2d32875af2",136565:"cc924de4cd",136566:"db38be0da1",136567:"02d62ddf8a",136568:"9e2c497fb9",136570:"217d02eaf4",137319:"fb81219d89",137549:"8453a2191e",137550:"46fcef18ab",137905:"852b89b1d0",139347:"75028c4b1a",140869:"6eac5d01fd",140871:"8e431c88d4",140872:"115e2575c0",140873:"a43fe714f1",141557:"e49fdecdb7",141558:"335e5871d2",141559:"cccf882291",141560:"4697e6be22",141561:"3d1c16d3a2",141562:"2e36a80d8c",141563:"6e6a2119ba",141564:"71b445c9ea",141565:"299aefd61a",141566:"c0fc000ea5",141567:"db4f5e7c4a",141569:"6d75b3201b",141571:"98443c5c8a",141574:"20d8d2c919",141575:"5e3fd8f841",141576:"f44fd0cbb9",142332:"5e4181b6de",142968:"68df47a016",143082:"a4a80b58d6",143085:"fa36191cbf",143086:"9e56f10a63",143088:"ac6eb1e472",143089:"68d6045edc",143091:"62cde06964",143094:"786e412cb9",143096:"e4387fa0d0",143105:"089b07f015",145717:"bcf024e9d9",146605:"55ddf81635",146607:"b4cfdbbc63",146608:"b5afd84e3b",146741:"d4b509efeb",146742:"dedb996eb2",146743:"5d4d324e22",146746:"1429da68d8",146747:"cb3d443604",146748:"da7237982a",146749:"6a09a76d86",146750:"ac1b021789",146751:"6ac4775561",146887:"7da7c32097",147113:"752d83d801",147300:"797de84ad8",148108:"38a14adc2f",148169:"019c584504",148259:"2b4eae9f27",148892:"72f25aaf5e",148893:"d60291162d",148894:"651bc0883f",148895:"d021a3f0f4",148897:"fb7420a79a",149176:"b8a35ed6fa",149237:"1726cb7bdf",149684:"9dbe3ee603",150328:"3162b01e7e",150456:"12fe93d666",153453:"93345fcb87",153456:"f87d3b6a50",153651:"5adf59bfc1",154087:"137994ce58",154088:"65f3598808",155425:"80aefc9f16",155426:"fb5e7c6481",155797:"2e1058841e",1e7:"ab2a79b4e1",10000001:"ea7eca3b49",10000002:"7a0b76bb2f",10000003:"49e502122c",10000004:"f1c67fac3c",10000005:"377db020e8",10000006:"547879da4e",10000007:"ca176545c8",10000008:"1a9d700b97",10000010:"a4cefa7f58",10000011:"aa7075e35b",10000012:"1ae8bddb93",10000013:"1e8886ad72",10000014:"f516ad362e",10000015:"787c19bee4",10000016:"d6475b75d5",10000017:"38ea08fad7",10000018:"5fab00fa2c",10000019:"e109f9b360",10000020:"90a178ea71",10000021:"bd128fcfed",10000022:"cd3face523",10000023:"c2f26784d1",10000024:"eb85193dfd",10000025:"9674e8f207",10000026:"6d37ba6b9a",10000035:"b0aca14cab",10000036:"d36ef645a5",10000037:"adf0bd9d7d",10000038:"0a8427037a",10000039:"9b0eb48861",10000040:"de880ed625",10000041:"82f6856d68",10000042:"98ff38947b",10000043:"3cde49fc7f",10000044:"204ea1bd83",10000045:"87b257dec6",10000046:"5579a14726",10000047:"aca78f9e2e",10000048:"fa2ea1e2fa",10000049:"673bfae6e5",10000050:"6f4e13e789",10000051:"d7f4837226",10000052:"53669c17cf",10000053:"cd9d4baf1b",10000054:"36a6a1b8ac",10000055:"61fbd3f45d",10000056:"36169adc34",10000057:"4dcf4dc5ea",10000058:"91ed3d5df9",10000059:"9975f2d18a",10000060:"291bb4c201",10000061:"835df65992",10000062:"8af22f787c",10000063:"13625d9512",10000064:"865b534730",10000065:"711a803835",10000066:"3f5a01518e",10000067:"a90790be86",10000068:"840b4c697a",10000069:"5b811cacf3",10000070:"26f90895bf",10000071:"ecfb5c1cab",10000072:"49ab120d1d",10000073:"8816deadae",10000074:"5c7a1ac24a",10000075:"0dc58fe713",10000076:"c791f64ecd",10000077:"fb2601505c",10000078:"ec0d63e687",10000079:"9f1a1f7510",10000080:"e51622030c",10000081:"c7a8cae6d0",10000082:"8ce761d02d",10000083:"7b6a42ef76",10000084:"479977505c",10000085:"930fdc5c22",10000086:"39e47fa144",10000087:"08cf53e104",10000088:"a2e20ffb1f",10000089:"68f37c2880",10000090:"be04a0b54e",10000324:"1ccab119ee",10000325:"1f783b581b",10000327:"21c25a4900",10000328:"482cefaa5d",10000329:"8ea8e0687e",10000330:"7f88a52c7e",10000687:"8cfe8cac9d",10000688:"6e4f7fa14e",10000689:"52ef8e630f",10000690:"e072687254",10000691:"3fe53e0c18",10000692:"9d30d89615",10000693:"d7956f1d3d",10000694:"05129d3c08",10000695:"74ef454681",10000696:"7ae9936d9c",10000697:"26fc0f70c4",10000698:"ae27296fe1",10000699:"d5f5b0f0cd",10000700:"eb8125a768",10000701:"3bea66735c",10000702:"16ae6df770",10000703:"761e431f4d",10000704:"063893f005",10000705:"55d48462e7",10000706:"5c3875edd3",10000707:"8968e719ff",10000708:"c517d35d9c",10000709:"5a2afc0cd9",10000710:"3e7a4e35f2",10000711:"44912da274",10000712:"e4ce60c3dd",10000713:"f18696c094",10000714:"017f28f8bb",10000715:"55116c14c3",10000716:"0f4395c2c4",10000717:"f3450f1ac2",10000718:"d1bc7ccfce",10000719:"88d3e1a480",10000720:"8eda205ac0",10000721:"f384ae2fa0",10000722:"4a3d1ff840",10000723:"68fd2589c4",10000724:"bae84a23bd",10000725:"d0f5458a4e",10000726:"6676d3d9a9",10000727:"aae1e1dcd7",10000728:"91ed3d5df9",10000729:"8f0eb3e289",10000730:"f1cea45a0b",10000731:"9351a7c7b0",10000732:"8ff05a8c34",10000733:"03f2821968",10000734:"7e89a633cb",10000735:"5f368efb3a",10000736:"5f368efb3a",10000737:"5bb87220bd",10000738:"6254881159",10000739:"1e02537eb0",10000740:"39270e0a06",10000741:"012978eb27",10000742:"d04b907379",10000743:"7070b1a14e",10000744:"6fc892f976",10000745:"8669619b19",10000746:"8b94534036",10000747:"7a40512ab1",10000748:"38d2e91fcf",10000749:"257cd6d50c",10000750:"3aa7ebea4f",10000751:"7e89a633cb",10000752:"a5abec86a6",10000753:"abafd1fcfc",10000754:"26fe7dbd61",10000755:"66d80d09bc",10000756:"08faf112c3",10000757:"05fedf88fd",10000758:"7680d4aba9",10000759:"f634153f8a",10000760:"46657a12ff",10000761:"64531a69c2",10000762:"904c2afaa9",10000763:"a3a3991956",10000764:"603cbf8d13",10000765:"78b12b1080",10000766:"211483a594",10000767:"07a0d69300",10000768:"183297f1ac",10000769:"e1c66b1569",10000770:"66b9851322",10000771:"fea86fbb59",10000772:"79a6fb7d55",10000773:"17f646de43",10000774:"468b27f1e6",10000775:"dab0ea43a2",10000776:"c3dc556a6d",10000777:"5b4df291a5",10000778:"17f4fcfd36",10000779:"47f71b40c3",10000780:"5c22398d33",10000781:"be5e562f33",10000782:"8b1de71fa0",10000783:"fdad521149",10000784:"d9dd4fd30f",10000785:"78e513e696",10000786:"5d44629314",10000787:"a5ab24f97d",10000788:"fb921aed0e",10000789:"d7f4f9500b",10000790:"8e63833564",10000791:"e3f4d88317",10000792:"533d5822ba",10000793:"4b226ceeb1",10000794:"a479c5c4c7",10000795:"df7301c3d9",10000796:"54fc95930e",10000797:"0c10dbde30",10000798:"b91b525b50",10000799:"6a4d2d099e",10000800:"0adbbddcf3",10000801:"38c747aefd",10000802:"f33b4f3f34",10000803:"a2d275785b"},this.externalQueries=new Set([]),this.customProperties=e.customProperties,this.externalData=e.externalData,this.logger=e.logger,this.messages=e.messages,this.api=e.api,this.permutive=e.permutive,this.permutiveData=e.permutiveData,this.queryWorker=e.queryWorker,this.realtime=e.realtime,this.sessionManager=e.sessionManager,this.transitionDebounceMaxTime=e.transitionDebounceMaxTime,this.transitionDebounceTime=e.transitionDebounceTime,this.userId=e.userId,this.viewId=e.viewId,this.metrics=e.metrics}processMessage(e){return this.queryWorker.postMessage(Object.assign({engine:"QLE"},e))}}class ze extends((()=>(0,i.zG)(Le,Ge))()){constructor(e){super(e),this.makeStateMaps()}}},8318:(e,t,r)=>{r.d(t,{F:()=>a});var n=r(6934),i=r(1628);const a=(0,n.Y3)((()=>{const e=(0,i.e)();return e.postMessage({engine:"QLE",type:"noop",userId:""}),Promise.resolve(e)}),(e=>`Failed to start QueryWorker. Got ${e}`))},3622:(e,t,r)=>{r.d(t,{$:()=>i});var n=r(2652);class i{constructor(e){this.permutiveData=e,this.eventSourceId=e.getData("event-source-id")||this.generateAndStoreEventSourceId()}get(){return this.eventSourceId}generateAndSet(){this.eventSourceId=this.generateAndStoreEventSourceId()}generateAndStoreEventSourceId(){const e=(0,n.k$)();return this.permutiveData.setData("event-source-id",e),e}}},1229:(e,t,r)=>{r.d(t,{N:()=>g,e:()=>l});var n=r(655),i=r(2688),a=r(7183),s=r(5e3),o=r(3735),c=r(4386),u=r(4730),d=r(8036);function l(){return(0,a.h)(new c.Z)}const f={concat:(e,t)=>Object.assign(Object.assign({},e),t),empty:{}};class g{constructor(e,t,r,n,i,a,s,o,c){this.api=e,this.network=t,this.sessionManager=r,this.permutiveData=n,this.queryManager=i,this.metrics=a,this.userId=s,this.eventSourceId=o,this.stateWorker=c,this.DEBOUNCE_TIME=1e3,this.MAX_DEBOUNCE_TIME=5e3,this.fetchUnseenState=!0,this.scheduler=new u.b(this.DEBOUNCE_TIME,this.MAX_DEBOUNCE_TIME),this.debouncedSyncIfNotEmpty=this.scheduler.scheduleAccumulated((e=>this.syncIfNotEmpty.bind(this)("standard",e)),f),this.fetchUnseenState=!!h.includes("10453011-272d-49cd-9043-1964fdb36fd8")||this.sessionManager.sessionHasChanged(),this.stateOffset=this.permutiveData.getData("state_offset")||0,this.lastSentStateMapWithChecksum=(0,d.Yh)(this.permutiveData.getData("internal_query_states")||{}),this.stateWorker.postMessage({engine:"SSE",type:"noop"})}sync(e){return(0,o.zG)(this.debouncedSyncIfNotEmpty(e),(e=>Promise.resolve()))}syncWithUnseen(){return this.syncIfNotEmpty("unseen",{}).then(o.Q1)}syncIfNotEmpty(e,t){const[r,n,a]="standard"===e?[this.stateOffset,t,this.fetchUnseenState]:"unseen"===e?[this.stateOffset,this.queryManager.stateMap.value,!0]:[0,{},!0],s=this.metrics.startTimer("sdk_compute_delta_seconds",{}),c={type:"delta",stateMap:n,lastSentStateMapWithChecksum:this.lastSentStateMapWithChecksum},u=this.stateWorker.postMessage(Object.assign({engine:"SSE"},c)).then((e=>(this.metrics.stopTimer("sdk_compute_delta_seconds",s),e))),d=e=>{this.fetchUnseenState=!1;const t=(0,o.ls)((e=>this.api.reportError(`Error sending state delta. Got ${(0,i.w)(e)}`,this.userId.get())),(e=>({})));return this.api.state(this.metrics,this.userId.get(),this.eventSourceId.get(),e,r,a).then((e=>function(e){return!!e}(e)?this.onStateResponse(e):{})).then((t=>(this.lastSentStateMapWithChecksum=e,t))).catch(t)};return u.then((e=>a||Object.keys(e).length>0?d(e):Promise.resolve({})))}resetSync(){return(0,n.mG)(this,void 0,void 0,(function*(){this.reset(),yield this.syncIfNotEmpty("reset",{})}))}reset(){this.lastSentStateMapWithChecksum={}}onStateResponse(e){const t=(0,s.Y3)((()=>JSON.parse(e.state)),(e=>this.api.reportError(`Failed to parse State API response, got ${e}`,this.userId.get()))),r=e=>e?this.queryManager.updateExternalState(e):(0,o.Q1)();return(0,s.tO)(t)?(0,o.zG)(e.state_offset,(e=>this.stateOffset=e),(e=>this.permutiveData.setData("state_offset",e)),(e=>r(t.right)),(e=>t.right)):{}}}const h=["fe68d1f7-c9f4-45b3-8905-7cda73d3fd74"]},926:(e,t,r)=>{r.r(t),r.d(t,{TWITTER_PIXEL_LS_KEY:()=>l,TwitterAddon:()=>m,load:()=>p,realService:()=>h,stubService:()=>g,twitterPixelService:()=>f});var n=r(6567),i=r(3328),a=r(4011),s=r(3735),o=r(2116),c=r(6054),u=r(2652);const d="twitter_pixel",l="addon:twitter_pixel",f=h;function g(e){return o.K4((()=>{}))}function h(e){const{activationManager:t,addonsLoaded:r,consent:f,initdAddons:g,queryLanguageCohorts:h,permutiveData:p,metrics:m}=e;return(0,s.zG)(c.vP({addonsLoaded:r,consent:f,addonInitd:c.UI((e=>e.has(d)),g)}),o.KD([[e=>{let{consent:t,addonsLoaded:r,addonInitd:n}=e;return!t||r&&!n},o.K4((()=>{}))],[e=>{let{addonsLoaded:t,addonInitd:r}=e;return!t&&!r},o.dQ((e=>{let{previousState:t}=e;return{value:void 0,state:c.a9(t)}}))],o.dQ((e=>{let{previousState:r}=e;const o=e=>{(new Image).src=`https://analytics.twitter.com/i/adsct?txn_id=${e.getConfig().audience_tag_id}&p_id=Twitter`,e.trackImpression()},f=t.getActivations(d),g=(0,s.zG)(f,(e=>e.map((e=>e.getSegmentCode()))),(e=>new Set(e)));return(0,s.zG)(h,c.UI(i.hX((e=>g.has(e)))),c.D8(i.Eh(a.Eq)),c.g_(b(r)?r:(0,s.zG)(p.getData(l),n.ij,n.UI((0,s.ls)(Object.keys,i.UI(Number),(0,u.bw)((()=>m.track({name:"sdk_legacy_addon_data_migrate_count",value:1,labels:{flag:"twitter_pixel"}}))))),n.fS((()=>[]))),((e,t)=>(0,s.zG)(t,i.hX((t=>!e.includes(t))),(0,u.bw)((0,s.ls)((e=>f.filter((t=>e.includes(t.getSegmentCode())))),(e=>e.forEach(o)))),(t=>[...e,...t])))),(e=>({value:void 0,state:e})))}))]),o.UI(s.Q1))}const p=e=>{e.q.push({functionName:"addon",arguments:[d,{}]})};class m{constructor(e){}}const b=e=>Array.isArray(e)&&(0===e.length||e.some((e=>"number"==typeof e)))},1828:(e,t,r)=>{r.d(t,{ap:()=>a,gz:()=>u});var n=r(3735),i=r(9384);function a(e,t){return function(r){return function(n){return e.ap(e.map(n,(function(e){return function(r){return t.ap(e,r)}})),r)}}}function s(e,t,r){return function(n){for(var i=Array(r.length+1),a=0;a<r.length;a++)i[a]=r[a];return i[r.length]=n,0===t?e.apply(null,i):s(e,t-1,i)}}var o={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(r){return[e,t,r]}}},4:function(e){return function(t){return function(r){return function(n){return[e,t,r,n]}}}},5:function(e){return function(t){return function(r){return function(n){return function(i){return[e,t,r,n,i]}}}}}};function c(e){return i.e$.call(o,e)||(o[e]=s(n.bc,e-1,[])),o[e]}function u(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=t.length,i=c(n),a=e.map(t[0],i),s=1;s<n;s++)a=e.ap(a,t[s]);return a}}},1500:(e,t,r)=>{r.d(t,{Ce:()=>d,DY:()=>E,DZ:()=>q,Ew:()=>v,GY:()=>k,KB:()=>f,Qp:()=>_,UI:()=>O,f2:()=>y,fw:()=>B,hX:()=>U,jV:()=>x,ke:()=>h,md:()=>b,oA:()=>j,pR:()=>F,t9:()=>P,tS:()=>C,u4:()=>L,uK:()=>G,vP:()=>K,xH:()=>T,yL:()=>S,zT:()=>m});var n=r(3735),i=(r(7341),r(9384)),a=r(1885),s=r(3328),o=r(4870),c=(r(5605),function(e){return 0===e.length}),u=a.Od,d=a.Ce,l=(a.ws,a.R3),f=(a.Im,function(e,t){return e<=0?[]:a.KB(t)(e)});var g=a.dC,h=(s.P5,s.YM,s.Z$,function(e){return function(t){return g(e,t)?w(t):t.slice(0,e)}});var p=function(e,t){for(var r=e.length,n=0;n<r&&t(e[n]);n++);return n};function m(e){return function(t){var r=D(p(t,e))(t);return{init:r[0],rest:r[1]}}}var b=function(e){return function(t){return e<=0||c(t)?w(t):e>=t.length?[]:t.slice(e,t.length)}};function _(e){return function(t){return t.slice(p(t,e))}}s.cx;function v(e){return s.Ew(e)}var y=s.f2;s.JO,s.qr;var w=function(e){return e.slice()},k=function(e){return c(e)?[]:e.slice().reverse()},E=function(e){return function(t){return t.length<=1?w(t):t.slice().sort(e.compare)}},S=function(e,t,r){for(var n=[],i=Math.min(e.length,t.length),a=0;a<i;a++)n[a]=r(e[a],t[a]);return n};var P=s.t9,D=function(e){return function(t){return e>=1&&u(t)?a.lx(e)(t):c(t)?[w(t),[]]:[[],w(t)]}};function x(e){var t=P(e);return function(r,n){if(void 0===n){var i=x(e);return function(e){return i(e,r)}}return r.filter((function(e){return t(e,n)}))}}var I=function(e,t,r){return(0,n.zG)(e,L(t,r))},M=(s.kp,s.Eq,a.of),O=function(e){return function(t){return t.map((function(t){return e(t)}))}},C=function(e){return function(t){return(0,n.zG)(t,function(e){return function(t){for(var r=[],n=0;n<t.length;n++)r.push.apply(r,e(n,t[n]));return r}}((function(t,r){return e(r)})))}},T=C(n.yR),A=function(e){return function(t){for(var r=[],n=0;n<t.length;n++){var a=e(n,t[n]);i.pC(a)&&r.push(a.value)}return r}},q=function(e){return A((function(t,r){return e(r)}))},j=q(n.yR),U=function(e){return function(t){return t.filter(e)}},G=function(e){return R((function(t,r){return e(r)}))},R=function(e){return function(t){for(var r=[],n=[],i=0;i<t.length;i++){var a=t[i];e(i,a)?n.push(a):r.push(a)}return(0,o.s4)(r,n)}},L=(s.Lx,s.xP,s.u4),z=s.OE,B=(s.nq,s.iw,function(e){var t=N(e);return function(e){return t((function(t,r){return e(r)}))}}),K=function(e){return function(t){return I(t,e.of([]),(function(t,r){return e.ap(e.map(t,(function(e){return function(t){return(0,n.zG)(e,l(t))}})),r)}))}},N=function(e){return function(t){return z(e.of([]),(function(r,i,a){return e.ap(e.map(i,(function(e){return function(t){return(0,n.zG)(e,l(t))}})),t(r,a))}))}},F=(s.ZN,s.Eh,s.pR);s.pJ,s.oR,a.oo,s.yW,s.j0,i.F4,a.w6,a.QI,a.Ss},6862:(e,t,r)=>{function n(e){return function(t,r){return function(n){return e.chain(n,(function(n){return e.map(r(n),(function(e){var r;return Object.assign({},n,((r={})[t]=e,r))}))}))}}}r.d(t,{a:()=>n})},5e3:(e,t,r)=>{r.d(t,{g1:()=>_,G5:()=>b,dO:()=>h,Pd:()=>k,ak:()=>G,tS:()=>y,g_:()=>O,ij:()=>q,DT:()=>P,fS:()=>T,pF:()=>C,nM:()=>D,tO:()=>x,t$:()=>o,UI:()=>g,Vn:()=>E,EQ:()=>M,F2:()=>c,LF:()=>A,i$:()=>U,Y3:()=>j});var n=r(6862),i=r(9384);function a(e){return function(t,r){return function(n){return e.fromEither(t(n)?i.F2(n):i.t$(r(n)))}}}var s=r(3735),o=(r(7341),i.t$),c=i.F2,u=function(e,t){return(0,s.zG)(e,g(t))},d=function(e,t){return(0,s.zG)(e,m(t))},l=function(e,t){return(0,s.zG)(e,y(t))},f="Either",g=function(e){return function(t){return D(t)?t:c(e(t.right))}},h={URI:f,map:u},p=c,m=function(e){return function(t){return D(t)?t:D(e)?e:c(t.right(e.right))}},b={URI:f,map:u,ap:d},_={URI:f,map:u,ap:d,of:p},v=function(e){return function(t){return D(t)?t:e(t.right)}},y=v,w={URI:f,map:u,ap:d,chain:l},k=function(e,t){return function(r){return D(r)?o(e(r.left)):c(t(r.right))}},E=function(e){return function(t){return D(t)?o(e(t.left)):t}},S={URI:f,fromEither:s.yR},P=a(S),D=i.nM,x=i.tO,I=function(e,t){return function(r){return D(r)?e(r.left):t(r.right)}},M=I,O=M,C=function(e){return function(t){return D(t)?e(t.left):t.right}},T=C,A=function(e){return D(e)?c(e.left):o(e.right)},q=function(e){return function(t){return null==t?o(e):c(t)}},j=function(e,t){try{return c(e())}catch(e){return o(t(e))}},U=I(s.yR,s.yR);i.F4;var G=(0,n.a)(w);i.Xl},4268:(e,t,r)=>{r.d(t,{f7:()=>n,n_:()=>i,w4:()=>a});r(3735);var n=function(e){return{equals:function(t,r){return t===r||e(t,r)}}},i=function(e){return n((function(t,r){for(var n in e)if(!e[n].equals(t[n],r[n]))return!1;return!0}))},a={equals:function(e,t){return e===t}};a.equals},7341:(e,t,r)=>{function n(e,t){return function(r){return function(n){return e.map(n,(function(e){return t.map(e,r)}))}}}function i(e){return function(t,r){return function(n){return e.map(n,(function(e){var n;return Object.assign({},e,((n={})[t]=r(e),n))}))}}}r.d(t,{Hr:()=>i,UI:()=>n})},1885:(e,t,r)=>{r.d(t,{Ce:()=>d,Eh:()=>w,Im:()=>l,KB:()=>m,Od:()=>o,QI:()=>E,R3:()=>f,Ss:()=>S,dC:()=>c,lx:()=>y,nI:()=>p,of:()=>v,oo:()=>g,w6:()=>b,ws:()=>u});var n=r(3735),i=(r(7341),r(9384)),a=r(7241),s=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},o=function(e){return e.length>0},c=function(e,t){return e<0||e>=t.length},u=function(e){return function(t){return s([e],t,!0)}},d=u,l=function(e){return function(t){return s(s([],t,!0),[e],!1)}},f=l,g=function(e,t,r){if(o(r)){var n=h(r);return n.splice(e,0,t),n}return[t]},h=i.r1,p=function(e){return o(e)?i.G(e):i.YP},m=function(e){return function(t){for(var r=Math.max(0,Math.floor(t)),n=[e(0)],i=1;i<r;i++)n.push(e(i));return n}},b=function(e,t){return e<=t?m((function(t){return e+t}))(t-e+1):[e]};var _=h,v=function(e){return[e]};a.xP,a.Lx;var y=function(e){return function(t){var r=Math.max(1,e);return r>=t.length?[_(t),[]]:[(0,n.zG)(t.slice(1,r),d(k(t))),t.slice(r)]}},w=(a.u4,a.OE,a.nq,a.iw,a.YM,a.ZN,a.Eh),k=(i.F4,a.YM);a.Z$,a.VV,a.Fp,a.j0;function E(e,t){return void 0===t?d(e):(0,n.zG)(t,d(e))}var S=function(e,t){return(0,n.zG)(e,f(t))};a.ur},6567:(e,t,r)=>{r.d(t,{DT:()=>o,DZ:()=>b,EQ:()=>k,Eh:()=>u,G:()=>s,UI:()=>l,Uo:()=>_,Wi:()=>y,Y3:()=>x,YP:()=>a,fS:()=>S,g_:()=>E,hX:()=>m,ij:()=>D,pC:()=>v,pR:()=>d,tS:()=>g,wp:()=>h,xH:()=>P});var n=r(3735),i=(r(7341),r(9384)),a=(r(6017),r(4870),r(5605),i.YP),s=i.G;function o(e){return function(t){return e(t)?s(t):a}}var c=function(e){return"Left"===e._tag?a:s(e.right)},u=function(e){return{equals:function(t,r){return t===r||(y(t)?y(r):!y(r)&&e.equals(t.value,r.value))}}},d=function(e){return{equals:u(e).equals,compare:function(t,r){return t===r?0:v(t)?v(r)?e.compare(t.value,r.value):1:-1}}},l=function(e){return function(t){return y(t)?a:s(e(t.value))}},f=s,g=function(e){return function(t){return y(t)?a:e(t.value)}},h=function(e){return function(t){return y(t)?e():t}},p=g(n.yR),m=function(e){return function(t){return y(t)?a:e(t.value)?t:a}},b=function(e){return function(t){return y(t)?a:e(t.value)}},_=c,v=i.pC,y=function(e){return"None"===e._tag},w=function(e,t){return function(r){return y(r)?e():t(r.value)}},k=w,E=k,S=function(e){return function(t){return y(t)?e():t.value}},P=p,D=function(e){return null==e?a:s(e)},x=function(e){try{return s(e())}catch(e){return a}};i.F4,i.Xl},7209:(e,t,r)=>{r.d(t,{Fp:()=>f,Uz:()=>o,VV:()=>l,Zt:()=>s,gf:()=>d,gt:()=>u,lt:()=>c,uZ:()=>g});var n=r(4268),i=r(3735),a=function(e){return function(t,r){return t===r||0===e(t,r)}},s=function(e){return{equals:a(e),compare:function(t,r){return t===r?0:e(t,r)}}},o=function(e){return function(t){return s((function(r,n){return t.compare(e(r),e(n))}))}},c=(i.W8,function(e){return function(t,r){return-1===e.compare(t,r)}}),u=function(e){return function(t,r){return 1===e.compare(t,r)}},d=function(e){return function(t,r){return-1!==e.compare(t,r)}},l=function(e){return function(t,r){return t===r||e.compare(t,r)<1?t:r}},f=function(e){return function(t,r){return t===r||e.compare(t,r)>-1?t:r}},g=function(e){var t=l(e),r=f(e);return function(e,n){return function(i){return r(t(i,n),e)}}};n.w4.equals},6017:(e,t,r)=>{r.d(t,{ff:()=>n,xD:()=>i});r(3735);var n=function(e){return function(t){return!e(t)}},i=function(e){return function(t){return function(r){return t(r)&&e(r)}}}},3328:(e,t,r)=>{r.d(t,{DZ:()=>j,Eh:()=>W,Eq:()=>x,Ew:()=>v,JO:()=>w,Lx:()=>z,OE:()=>B,Od:()=>f,P5:()=>p,Su:()=>T,UI:()=>C,YM:()=>m,Z$:()=>b,ZN:()=>F,bj:()=>S,cx:()=>_,f2:()=>y,hX:()=>A,hp:()=>E,iw:()=>N,j0:()=>J,kp:()=>D,nq:()=>K,oR:()=>Y,pJ:()=>Q,pR:()=>$,qr:()=>k,t9:()=>P,u4:()=>L,uK:()=>U,xH:()=>O,xP:()=>R,yW:()=>H});var n=r(4268),i=r(3735),a=(r(7341),r(9384)),s=r(4011),o=r(7209),c=r(7241),u=r(4870),d=(r(5605),function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}),l=function(e){return 0===e.length},f=c.Od;c.Ce,c.ws,c.R3,c.Im;var g=function(e,t){return function(r){return f(r)?t(r):e()}},h=c.dC;function p(e,t){return void 0===t?function(t){return p(e,t)}:h(e,t)?a.YP:a.G(t[e])}var m=function(e){return f(e)?a.G(c.YM(e)):a.YP},b=function(e){return f(e)?a.G(c.Z$(e)):a.YP};var _=function(e){return function(t){for(var r=0;r<t.length;r++)if(e(t[r]))return a.G(r);return a.YP}};function v(e){return function(t){for(var r=0;r<t.length;r++)if(e(t[r]))return a.G(t[r]);return a.YP}}var y=function(e){return function(t){for(var r=0;r<t.length;r++){var n=e(t[r]);if(a.pC(n))return n}return a.YP}};var w=function(e){return function(t){for(var r=t.length-1;r>=0;r--){var n=e(t[r]);if(a.pC(n))return n}return a.YP}},k=function(e){return function(t){for(var r=t.length-1;r>=0;r--)if(e(t[r]))return a.G(r);return a.YP}},E=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"Right"===n._tag&&t.push(n.right)}return t},S=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"Left"===n._tag&&t.push(n.left)}return t};function P(e){return function(t,r){if(void 0===r){var n=P(e);return function(e){return n(t,e)}}for(var i,a=0;a<r.length;a++)if(i=r[a],e.equals(i,t))return!0;return!1}}var D=function(e,t){return(0,i.zG)(e,Q(t))},x=function(e,t){return(0,i.zG)(e,Y(t))},I=c.of,M=function(e){return function(t){return(0,i.zG)(t,function(e){return function(t){if(l(t))return V;for(var r=[],n=0;n<t.length;n++)r.push.apply(r,e(n,t[n]));return r}}((function(t,r){return e(r)})))}},O=M(i.yR),C=function(e){return function(t){return t.map((function(t){return e(t)}))}},T=function(e){return function(t){return t.map((function(t,r){return e(r,t)}))}},A=function(e){return function(t){return t.filter(e)}},q=function(e){return function(t){for(var r=[],n=0;n<t.length;n++){var i=e(n,t[n]);a.pC(i)&&r.push(i.value)}return r}},j=function(e){return q((function(t,r){return e(r)}))},U=(i.yR,function(e){return G((function(t,r){return e(r)}))}),G=function(e){return function(t){for(var r=[],n=[],i=0;i<t.length;i++){var a=t[i];e(i,a)?n.push(a):r.push(a)}return(0,u.s4)(r,n)}},R=function(e){return function(t){return function(r){return r.reduce((function(r,n,i){return e.concat(r,t(i,n))}),e.empty)}}},L=function(e,t){return B(e,(function(e,r,n){return t(r,n)}))},z=function(e){var t=R(e);return function(e){return t((function(t,r){return e(r)}))}},B=function(e,t){return function(r){for(var n=r.length,i=e,a=0;a<n;a++)i=t(a,i,r[a]);return i}},K=function(e,t){return N(e,(function(e,r,n){return t(r,n)}))},N=function(e,t){return function(r){return r.reduceRight((function(e,r,n){return t(n,r,e)}),e)}},F=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},W=function(e){return(0,n.f7)((function(t,r){return t.length===r.length&&t.every((function(t,n){return e.equals(t,r[n])}))}))},$=function(e){return(0,o.Zt)((function(t,r){for(var n=t.length,i=r.length,a=Math.min(n,i),o=0;o<a;o++){var c=e.compare(t[o],r[o]);if(0!==c)return c}return s.Df.compare(n,i)}))},Q=function(e){return function(t){for(var r=d([],e(t),!0),n=[];r.length>0;){var i=r.shift();a.nM(i)?r.unshift.apply(r,e(i.left)):n.push(i.right)}return n}},Y=function(e){return function(t){var r=e(t),n=[],i=[];function s(t){a.nM(t)?e(t.left).forEach((function(e){return n.push(e)})):i.push(t.right)}for(var o=0,c=r;o<c.length;o++){s(c[o])}for(;n.length>0;)s(n.shift());return i}},V=(c.oo,c.cS);function H(e){return function(t){return t.every(e)}}var J=function(e){var t=c.j0(e);return function(r){return g((function(){return e.empty}),t(r))}};a.F4,c.w6,c.QI,c.Ss},7241:(e,t,r)=>{r.d(t,{R3:()=>b,Im:()=>m,ur:()=>L,QI:()=>B,cS:()=>l,Lx:()=>D,xP:()=>M,Eh:()=>A,ZN:()=>T,vM:()=>k,YM:()=>q,j0:()=>z,Od:()=>f,dC:()=>g,Z$:()=>U,Fp:()=>R,VV:()=>G,of:()=>S,Ce:()=>p,ws:()=>h,w6:()=>y,u4:()=>P,nq:()=>x,iw:()=>O,OE:()=>I,Ss:()=>K,oo:()=>_});var n,i=r(4268),a=r(3735),s=(r(7341),r(9384)),o=r(7209),c=function(e){return{concat:o.VV(e)}},u=function(e){return{concat:o.Fp(e)}};n=void 0;var d=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},l=s.Xl,f=s.Od,g=function(e,t){return e<0||e>=t.length},h=function(e){return function(t){return d([e],t,!0)}},p=h,m=function(e){return function(t){return d(d([],t,!0),[e],!1)}},b=m,_=function(e,t,r){if(f(r)){var n=s.r1(r);return n.splice(e,0,t),n}return[t]},v=function(e){return function(t){for(var r=Math.max(0,Math.floor(t)),n=[e(0)],i=1;i<r;i++)n.push(e(i));return n}},y=function(e,t){return e<=t?v((function(t){return e+t}))(t-e+1):[e]};function w(e,t){return t?e.concat(t):function(t){return t.concat(e)}}var k=function(e){return function(t){for(var r={},n=0,i=t;n<i.length;n++){var a=i[n],o=e(a);s.e$.call(r,o)?r[o].push(a):r[o]=[a]}return r}};var E=function(e){return function(t){for(var r=[e,t[0]],n=1;n<t.length;n++)r.push(e,t[n]);return r}},S=s.ri,P=function(e,t){return I(e,(function(e,r,n){return t(r,n)}))},D=function(e){return function(t){return function(r){return r.slice(1).reduce((function(r,n){return e.concat(r,t(n))}),t(r[0]))}}},x=function(e,t){return O(e,(function(e,r,n){return t(r,n)}))},I=function(e,t){return function(r){return r.reduce((function(e,r,n){return t(n,e,r)}),e)}},M=function(e){return function(t){return function(r){return r.slice(1).reduce((function(r,n,i){return e.concat(r,t(i+1,n))}),t(0,r[0]))}}},O=function(e,t){return function(r){return r.reduceRight((function(e,r,n){return t(n,r,e)}),e)}},C=s.YM,T=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},A=function(e){return(0,i.f7)((function(t,r){return t.length===r.length&&t.every((function(t,n){return e.equals(t,r[n])}))}))},q=(s.F4,C),j=s.Gb,U=function(e){return e[e.length-1]},G=function(e){var t=c(e);return function(e){return e.reduce(t.concat)}},R=function(e){var t=u(e);return function(e){return e.reduce(t.concat)}},L=function(e){return function(t){return t.reduce(e.concat)}},z=function(e){var t=L(e);return function(e){return(0,a.ls)(function(e){return function(t){var r=j(t);return f(r)?(0,a.zG)(r,E(e),p(q(t))):t}}(e),t)}};function B(e,t){return void 0===t?p(e):(0,a.zG)(t,p(e))}var K=function(e,t){return(0,a.zG)(e,w([t]))}},4923:(e,t,r)=>{r.d(t,{Bu:()=>m,CC:()=>L,DZ:()=>re,EW:()=>$,Eh:()=>le,G:()=>A,HA:()=>U,I8:()=>B,P5:()=>b,RF:()=>z,RJ:()=>N,SW:()=>Y,Su:()=>v,UI:()=>y,Ub:()=>H,V_:()=>W,XP:()=>l,Yz:()=>O,_Y:()=>F,_r:()=>D,dp:()=>c,dx:()=>h,e$:()=>p,hX:()=>te,jV:()=>j,jt:()=>I,kp:()=>R,mK:()=>Z,mS:()=>K,nn:()=>G,nr:()=>ge,nu:()=>Q,oA:()=>ce,oh:()=>ue,qS:()=>X,ri:()=>S,sq:()=>C,t9:()=>q,tV:()=>ie,uK:()=>ne,uZ:()=>fe,vA:()=>J,vP:()=>P,xb:()=>u,yW:()=>T,z7:()=>M,zV:()=>V});var n=r(4268),i=r(3735),a=r(9384),s=r(4870),o=r(2751),c=(r(5605),function(e){return Object.keys(e).length}),u=function(e){for(var t in e)if(a.e$.call(e,t))return!1;return!0},d=function(e){return function(t){return Object.keys(t).sort(e.compare)}},l=d(o.Df);function f(e){if("function"==typeof e)return f(o.Df)(e);var t=d(e);return function(e){return function(r){for(var n=[],i=0,a=t(r);i<a.length;i++){var s=a[i];n.push(e(s,r[s]))}return n}}}var g=f(o.Df)((function(e,t){return[e,t]}));var h=function(e,t){return function(r){if(a.e$.call(r,e)&&r[e]===t)return r;var n=Object.assign({},r);return n[e]=t,n}},p=function(e,t){return a.e$.call(t,e)};function m(e){return function(t,r){if(void 0===r){var n=m(e);return function(e){return n(e,t)}}for(var i in t)if(!a.e$.call(r,i)||!e.equals(t[i],r[i]))return!1;return!0}}function b(e,t){return void 0===t?function(t){return b(e,t)}:a.e$.call(t,e)?a.G(t[e]):a.YP}var _={};function v(e){return function(t){var r={};for(var n in t)a.e$.call(t,n)&&(r[n]=e(n,t[n]));return r}}function y(e){return v((function(t,r){return e(r)}))}function w(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return w(o.Df).apply(void 0,e);var r=d(e[0]);return function(e,t){return function(n){for(var i=e,a=r(n),s=a.length,o=0;o<s;o++){var c=a[o];i=t(c,i,n[c])}return i}}}function k(e){if("compare"in e){var t=d(e);return function(e){return function(r){return function(n){for(var i=e.empty,a=t(n),s=a.length,o=0;o<s;o++){var c=a[o];i=e.concat(i,r(c,n[c]))}return i}}}}return k(o.Df)(e)}function E(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return E(o.Df).apply(void 0,e);var r=d(e[0]);return function(e,t){return function(n){for(var i=e,a=r(n),s=a.length-1;s>=0;s--){var o=a[s];i=t(o,n[o],i)}return i}}}var S=function(e,t){var r;return(r={})[e]=t,r};function P(e){return Z(o.Df)(e)}function D(e){return function(t){var r={},n={};for(var i in t)if(a.e$.call(t,i)){var o=e(i,t[i]);switch(o._tag){case"Left":r[i]=o.left;break;case"Right":n[i]=o.right}}return(0,s.s4)(r,n)}}function x(e){return function(t){var r={},n={};for(var i in t)if(a.e$.call(t,i)){var o=t[i];e(i,o)?n[i]=o:r[i]=o}return(0,s.s4)(r,n)}}function I(e){return function(t){var r={};for(var n in t)if(a.e$.call(t,n)){var i=e(n,t[n]);a.pC(i)&&(r[n]=i.value)}return r}}function M(e){return function(t){var r={},n=!1;for(var i in t)if(a.e$.call(t,i)){var s=t[i];e(i,s)?r[i]=s:n=!0}return n?r:t}}var O=g,C=function(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r];t[i[0]]=i[1]}return t};function T(e){return function(t){for(var r in t)if(!e(t[r]))return!1;return!0}}function A(e){return function(t){for(var r in t)if(e(t[r]))return!0;return!1}}function q(e){return function(t,r){if(void 0===r){var n=q(e);return function(e){return n(t,e)}}for(var i in r)if(e.equals(r[i],t))return!0;return!1}}var j=function(e){return function(t){return function(r){if(u(r)||u(t))return _;var n={};for(var i in r)p(i,t)&&(n[i]=e.concat(r[i],t[i]));return n}}},U=function(e,t){return(0,i.zG)(e,y(t))},G=function(e,t){return(0,i.zG)(e,v(t))},R=function(e){var t=ae(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},L=function(e){return function(t){var r=se(e)(t);return function(e,t){return(0,i.zG)(e,r(t))}}},z=function(e){var t=oe(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},B=function(e,t){return(0,i.zG)(e,te(t))},K=function(e,t){return(0,i.zG)(e,re(t))},N=function(e,t){return(0,i.zG)(e,ne(t))},F=function(e,t){return(0,i.zG)(e,ie(t))},W=function(e){var t=w(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},$=function(e){var t=k(e);return function(e){var r=t(e);return function(e,t){return(0,i.zG)(e,r(t))}}},Q=function(e){var t=E(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},Y=function(e,t){return(0,i.zG)(e,D(t))},V=function(e,t){return(0,i.zG)(e,x(t))},H=function(e,t){return(0,i.zG)(e,I(t))},J=function(e,t){return(0,i.zG)(e,M(t))},X=function(e){var t=ee(e);return function(e){var r=t(e);return function(e,t){return r(e,(0,i.ls)(i.SK,t))}}},Z=function(e){var t=X(e);return function(e){var r=t(e);return function(e){return r(e,i.yR)}}},ee=function(e){return function(t){var r=d(e);return function(e,n){var i=r(e);if(0===i.length)return t.of(_);for(var a=t.of({}),s=function(r){a=t.ap(t.map(a,(function(e){return function(t){var n;return Object.assign({},e,((n={})[r]=t,n))}})),n(r,e[r]))},o=0,c=i;o<c.length;o++){s(c[o])}return a}}},te=function(e){return M((function(t,r){return e(r)}))},re=function(e){return I((function(t,r){return e(r)}))},ne=function(e){return x((function(t,r){return e(r)}))},ie=function(e){return D((function(t,r){return e(r)}))};function ae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var r=w(e[0]);return function(e,t){return r(e,(function(e,r,n){return t(r,n)}))}}return ae(o.Df).apply(void 0,e)}function se(e){if("compare"in e){var t=k(e);return function(e){var r=t(e);return function(e){return r((function(t,r){return e(r)}))}}}return se(o.Df)(e)}function oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var r=E(e[0]);return function(e,t){return r(e,(function(e,r,n){return t(r,n)}))}}return oe(o.Df).apply(void 0,e)}var ce=function(e){var t={};for(var r in e)if(a.e$.call(e,r)){var n=e[r];a.pC(n)&&(t[r]=n.value)}return t},ue=function(e){var t={},r={};for(var n in e)if(a.e$.call(e,n)){var i=e[n];a.nM(i)?t[n]=i.left:r[n]=i.right}return(0,s.s4)(t,r)},de="ReadonlyRecord";function le(e){var t=m(e);return(0,n.f7)((function(e,r){return t(e)(r)&&t(r)(e)}))}function fe(e){return{concat:function(t,r){if(u(t))return r;if(u(r))return t;var n=Object.assign({},t);for(var i in r)a.e$.call(r,i)&&(n[i]=a.e$.call(t,i)?e.concat(t[i],r[i]):r[i]);return n},empty:_}}o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df;function ge(e,t){return a.e$.call(void 0===t?this:t,e)}o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df},7927:(e,t,r)=>{r.d(t,{UI:()=>u,XP:()=>o,dx:()=>c,hX:()=>w,jV:()=>l,xb:()=>a});var n=r(4923),i=r(2751),a=(r(5605),n.dp,n.xb),s=function(e){return function(t){return Object.keys(t).sort(e.compare)}},o=s(i.Df);var c=n.dx;n.e$;n.Bu,n.P5,n.Su;var u=n.UI;n.ri;function d(e){return n.vP(e)}n._r;n.jt;n.yW,n.G,n.t9;var l=function(e){return function(t){return function(r){return a(r)||a(t)?{}:n.jV(e)(t)(r)}}},f=n.HA,g=(n.nn,n.kp),h=n.CC,p=n.RF,m=(n.I8,n.mS,n.RJ,n._Y,n.V_),b=n.EW,_=n.nu,v=(n.SW,n.zV,n.Ub,n.vA,n.qS),y=(n.mK,function(e){return function(t){var r=s(e);return function(e,n){var i=r(e);if(0===i.length)return t.of({});for(var a=t.of({}),s=function(r){a=t.ap(t.map(a,(function(e){return function(t){return e[r]=t,e}})),n(r,e[r]))},o=0,c=i;o<c.length;o++){s(c[o])}return a}}}),w=n.hX;n.DZ,n.uK,n.tV;n.oA,n.oh;var k="Record";n.Eh,n.uZ,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,n.nr,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df},2197:(e,t,r)=>{r.d(t,{ff:()=>n});var n=function(e){return function(t){return!e(t)}}},4870:(e,t,r)=>{r.d(t,{Pd:()=>i,s4:()=>n});r(3735);var n=function(e,t){return{left:e,right:t}},i=function(e,t){return function(r){return n(e(a(r)),t(s(r)))}},a=function(e){return e.left},s=function(e){return e.right}},5151:(e,t,r)=>{r.d(t,{Hi:()=>m,PM:()=>p,RD:()=>k,UA:()=>b,UI:()=>u,dO:()=>h,oE:()=>S,of:()=>l,pE:()=>E,tD:()=>a,tS:()=>f});var n=r(3735),i=(r(7341),r(9384)),a=function(e){return function(){return Promise.resolve().then(e)}};var s=function(e,t){return(0,n.zG)(e,u(t))},o=function(e,t){return(0,n.zG)(e,d(t))},c=function(e,t){return(0,n.zG)(e,f(t))},u=function(e){return function(t){return function(){return Promise.resolve().then(t).then(e)}}},d=function(e){return function(t){return function(){return Promise.all([Promise.resolve().then(t),Promise.resolve().then(e)]).then((function(e){return(0,e[0])(e[1])}))}}},l=function(e){return function(){return Promise.resolve(e)}},f=function(e){return function(t){return function(){return Promise.resolve().then(t).then((function(t){return e(t)()}))}}},g="Task";var h={URI:g,map:s},p={URI:g,of:l},m={URI:g,map:s,ap:o},b={URI:g,map:s,of:l,ap:o,chain:c},_=n.yR,v=(i.F4,l(i.Xl)),y=function(e){var t=function(e){return function(t){return function(){return Promise.all(t.map((function(t,r){return Promise.resolve().then((function(){return e(r,t)()}))})))}}}(e);return function(e){return i.Od(e)?t(e):v}},w=function(e){var t=function(e){return function(t){return function(){return i.Gb(t).reduce((function(t,r,n){return t.then((function(t){return Promise.resolve().then(e(n+1,r)).then((function(e){return t.push(e),t}))}))}),Promise.resolve().then(e(0,i.YM(t))).then(i.ri))}}}(e);return function(e){return i.Od(e)?t(e):v}},k=function(e){return y((function(t,r){return e(r)}))}(n.yR),E=function(e){return w((function(t,r){return e(r)}))},S={URI:g,map:s,of:l,ap:o,chain:c,fromIO:a,fromTask:_}},6934:(e,t,r)=>{r.d(t,{Do:()=>J,ak:()=>X,tS:()=>Q,g_:()=>L,Uo:()=>G,t$:()=>A,UI:()=>F,Vn:()=>W,F2:()=>q,Y3:()=>z});var n=r(6862),i=r(1828),a=r(5e3),s=r(3735),o=r(7341);function c(e){return(0,s.ls)(a.F2,e.of)}function u(e){return(0,s.ls)(a.t$,e.of)}function d(e){return function(t){return e.map(t,a.F2)}}function l(e){return function(t){return e.map(t,a.t$)}}function f(e){return function(t){return(0,s.ls)(a.ij(t),e.of)}}function g(e){var t=f(e);return function(e){var r=t(e);return function(e){return(0,s.ls)(e,r)}}}function h(e){var t=b(e),r=g(e);return function(e){var n=r(e);return function(e){return t(n(e))}}}function p(e){return(0,o.UI)(e,a.dO)}function m(e){return(0,i.ap)(e,a.G5)}function b(e){return function(t){return function(r){return e.chain(r,(function(r){return a.nM(r)?e.of(r):t(r.right)}))}}}function _(e){return function(t){return function(r){return e.chain(r,(function(r){return a.nM(r)?t():e.of(r)}))}}}function v(e){return function(t,r){return function(n){return e.map(n,a.Pd(t,r))}}}function y(e){return function(t){return function(r){return e.map(r,a.Vn(t))}}}function w(e){return function(t,r){return function(n){return e.map(n,a.EQ(t,r))}}}function k(e){return function(t,r){return function(n){return e.chain(n,a.EQ(t,r))}}}function E(e){return function(t){return function(r){return e.chain(r,a.EQ(t,e.of))}}}function S(e){return function(t){return function(r){return e.chain(r,(function(r){return a.nM(r)?t(r.left):e.of(r)}))}}}function P(e){var t=S(e);return function(r){return t((function(t){return e.map(r(t),(function(e){return a.nM(e)?e:a.t$(t)}))}))}}function D(e){return function(t){return function(r){return e.chain(r,a.EQ((function(r){return e.map(t(r),a.t$)}),(function(t){return e.of(a.F2(t))})))}}}function x(e){return function(t){return e.map(t,a.LF)}}function I(e){return function(t){return e.map(t,a.i$)}}var M=r(9384),O=r(5151),C=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},T=function(e,t){var r,n,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},A=u(O.PM),q=c(O.PM),j=d(O.dO),U=l(O.dO),G=(O.tD,O.tD,O.of),R=(O.tD,O.dO,k(O.UA)),L=R,z=(O.UA,function(e,t){return function(){return C(void 0,void 0,void 0,(function(){var r;return T(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e().then(M.F2)];case 1:return[2,n.sent()];case 2:return r=n.sent(),[2,M.t$(t(r))];case 3:return[2]}}))}))}}),B=(O.dO,O.PM,O.PM,O.UA,O.UA,O.UA,O.UA,O.dO,function(e,t){return(0,s.zG)(e,F(t))}),K=function(e,t){return(0,s.zG)(e,$(t))},N=function(e,t){return(0,s.zG)(e,Q(t))},F=p(O.dO),W=(O.dO,y(O.dO)),$=m(O.Hi),Q=b(O.UA),Y=(O.UA,q),V="TaskEither";var H={URI:V,map:B,ap:K,chain:N};var J=Y(M.F4),X=(0,n.a)(H);M.Xl},5605:(e,t,r)=>{function n(e,t){return function(r){var n=e.traverse(r);return function(e,i){return r.map(n(e,i),t.separate)}}}function i(e,t){return function(r){var n=e.traverse(r);return function(e,i){return r.map(n(e,i),t.compact)}}}r.d(t,{BL:()=>i,Fj:()=>n})},3735:(e,t,r)=>{r.d(t,{MZ:()=>i,Q1:()=>c,SK:()=>f,W8:()=>s,a9:()=>a,bc:()=>d,gn:()=>o,ls:()=>u,yR:()=>n,zG:()=>l});function n(e){return e}var i=n;function a(e){return function(){return e}}var s=a(!0),o=a(null),c=a(void 0);function u(e,t,r,n,i,a,s,o,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return r(t(e.apply(this,arguments)))};case 4:return function(){return n(r(t(e.apply(this,arguments))))};case 5:return function(){return i(n(r(t(e.apply(this,arguments)))))};case 6:return function(){return a(i(n(r(t(e.apply(this,arguments))))))};case 7:return function(){return s(a(i(n(r(t(e.apply(this,arguments)))))))};case 8:return function(){return o(s(a(i(n(r(t(e.apply(this,arguments))))))))};case 9:return function(){return c(o(s(a(i(n(r(t(e.apply(this,arguments)))))))))}}}function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}function l(e,t,r,n,i,a,s,o,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return n(r(t(e)));case 5:return i(n(r(t(e))));case 6:return a(i(n(r(t(e)))));case 7:return s(a(i(n(r(t(e))))));case 8:return o(s(a(i(n(r(t(e)))))));case 9:return c(o(s(a(i(n(r(t(e))))))));default:for(var u=arguments[0],d=1;d<arguments.length;d++)u=arguments[d](u);return u}}var f=function(e,t){return t}},9384:(e,t,r)=>{r.d(t,{F2:()=>d,F4:()=>m,G:()=>s,Gb:()=>h,Od:()=>f,Xl:()=>p,YM:()=>g,YP:()=>a,e$:()=>b,nM:()=>o,pC:()=>i,r1:()=>_,ri:()=>l,t$:()=>u,tO:()=>c});var n=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},i=function(e){return"Some"===e._tag},a={_tag:"None"},s=function(e){return{_tag:"Some",value:e}},o=function(e){return"Left"===e._tag},c=function(e){return"Right"===e._tag},u=function(e){return{_tag:"Left",left:e}},d=function(e){return{_tag:"Right",right:e}},l=function(e){return[e]},f=function(e){return e.length>0},g=function(e){return e[0]},h=function(e){return e.slice(1)},p=[],m={},b=Object.prototype.hasOwnProperty,_=function(e){return n([e[0]],e.slice(1),!0)}},4011:(e,t,r)=>{r.d(t,{Df:()=>i,Eq:()=>n});var n={equals:function(e,t){return e===t}},i={equals:n.equals,compare:function(e,t){return e<t?-1:e>t?1:0}};n.equals,i.compare},2751:(e,t,r)=>{r.d(t,{Df:()=>i,Eq:()=>n,pn:()=>s,xb:()=>a});var n={equals:function(e,t){return e===t}},i={equals:n.equals,compare:function(e,t){return e<t?-1:e>t?1:0}},a=function(e){return 0===e.length},s=function(e,t){return function(r){return r.endsWith(e,t)}}},655:(e,t,r)=>{r.d(t,{_T:()=>n,mG:()=>i});function n(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function i(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))}Object.create;Object.create},4386:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(477),i=r.n(n);function a(){return i()('/*! permutive-javascript-sdk v19.91.0 (web) (built 2023-06-12T13:06:42.868Z) */(()=>{"use strict";function r(r){return r instanceof Error?r:new Error("string"==typeof r?r:JSON.stringify(r))}const e=()=>({kind:"null",value:null}),n=r=>({kind:"string",value:r}),t=r=>({kind:"number",value:r}),i=r=>({kind:"array",value:r}),o=r=>({kind:"object",value:r}),a=r=>r,c=()=>({kind:"bottom"}),s=r=>({kind:"inner",a:r}),u=r=>({kind:"top",error:r}),l=r=>({kind:"unbounded",group:r}),d=(r,e)=>({kind:"windowed",key:e,group:r}),p=(r,e,n)=>({kind:"countLimit",n,limit:e,group:r}),g=(r,e,n)=>({kind:"uniqueLimit",n,limit:e,group:r}),f=r=>({kind:"numberGroup",group:r}),m=r=>({kind:"stringGroup",group:r}),v=r=>({kind:"tuple",tuple:r}),w=r=>({state:r}),h=(r,e)=>({commands:r,payload:e});function y(r){return r}function b(r){return function(){return r}}var k=b(void 0);function q(r,e,n,t,i,o,a,c,s){switch(arguments.length){case 1:return r;case 2:return function(){return e(r.apply(this,arguments))};case 3:return function(){return n(e(r.apply(this,arguments)))};case 4:return function(){return t(n(e(r.apply(this,arguments))))};case 5:return function(){return i(t(n(e(r.apply(this,arguments)))))};case 6:return function(){return o(i(t(n(e(r.apply(this,arguments))))))};case 7:return function(){return a(o(i(t(n(e(r.apply(this,arguments)))))))};case 8:return function(){return c(a(o(i(t(n(e(r.apply(this,arguments))))))))};case 9:return function(){return s(c(a(o(i(t(n(e(r.apply(this,arguments)))))))))}}}function x(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r}function A(r,e,n,t,i,o,a,c,s){switch(arguments.length){case 1:return r;case 2:return e(r);case 3:return n(e(r));case 4:return t(n(e(r)));case 5:return i(t(n(e(r))));case 6:return o(i(t(n(e(r)))));case 7:return a(o(i(t(n(e(r))))));case 8:return c(a(o(i(t(n(e(r)))))));case 9:return s(c(a(o(i(t(n(e(r))))))));default:for(var u=arguments[0],l=1;l<arguments.length;l++)u=arguments[l](u);return u}}var _=function(r){return{equals:function(e,n){return e===n||r(e,n)}}},S=function(r){return _((function(e,n){for(var t in r)if(!r[t].equals(e[t],n[t]))return!1;return!0}))},E=function(r){return function(e,n){return e===n||0===r(e,n)}},C=function(r){return{equals:E(r),compare:function(e,n){return e===n?0:r(e,n)}}},j=function(r){return function(e){return C((function(n,t){return e.compare(r(n),r(t))}))}},z=function(r){return function(e,n){return-1===r.compare(e,n)}},M=function(r){return function(e,n){return 1===r.compare(e,n)}},P=function(r){return function(e,n){return e===n||r.compare(e,n)>-1?e:n}};var O={equals:function(r,e){return r===e}},F={equals:O.equals,compare:function(r,e){return r<e?-1:r>e?1:0}};const N=(r,e)=>{switch(r.kind){case"bottom":return{kind:"bottom"};case"inner":return s(e(r.a));case"top":return u(r.error)}},R=r=>C(((e,n)=>{if("bottom"===e.kind&&"bottom"===n.kind)return 0;if("bottom"===e.kind)return-1;if("bottom"===n.kind)return 1;if("top"===e.kind&&"top"===n.kind)return F.compare(e.error,n.error);if("top"===e.kind)return 1;if("top"===n.kind)return-1;if("inner"===e.kind&&"inner"===n.kind)return r.compare(e.a,n.a);throw new Error("Non exhaustive match in extendedAlgebraOrd")}));var I=function(r,e,n){if(n||2===arguments.length)for(var t,i=0,o=e.length;i<o;i++)!t&&i in e||(t||(t=Array.prototype.slice.call(e,0,i)),t[i]=e[i]);return r.concat(t||Array.prototype.slice.call(e))},T=function(r){return"Some"===r._tag},D={_tag:"None"},L=function(r){return{_tag:"Some",value:r}},H=function(r){return"Left"===r._tag},G=(Object.prototype.hasOwnProperty,function(r){return I([r[0]],r.slice(1),!0)}),B=function(r){return function(e){return!r(e)}};var V=D,U=L;function $(r){return function(e){return r(e)?U(e):V}}var W=function(r){return"Left"===r._tag?V:U(r.right)},J=function(r){return{equals:function(e,n){return e===n||(X(e)?X(n):!X(n)&&r.equals(e.value,n.value))}}},Y=function(r){return{equals:J(r).equals,compare:function(e,n){return e===n?0:K(e)?K(n)?r.compare(e.value,n.value):1:-1}}},Q=function(r){return function(e){return X(e)?V:U(r(e.value))}},Z=W,K=T,X=function(r){return"None"===r._tag},rr=function(r,e){return function(n){return X(n)?r():e(n.value)}},er=rr,nr=er,tr=function(r){return function(e){return X(e)?r():e.value}};var ir;ir=void 0;var or=function(r){return r[0]},ar=or;var cr=function(r,e,n){if(n||2===arguments.length)for(var t,i=0,o=e.length;i<o;i++)!t&&i in e||(t||(t=Array.prototype.slice.call(e,0,i)),t[i]=e[i]);return r.concat(t||Array.prototype.slice.call(e))},sr=function(r){return r.length>0},ur=function(r,e){return r<0||r>=e.length},lr=function(r){return function(e){return cr([r],e,!0)}},dr=lr,pr=function(r){return function(e){return cr(cr([],e,!0),[r],!1)}},gr=pr,fr=G,mr=function(r){return sr(r)?L(r):D},vr=function(r){return function(e){for(var n=Math.max(0,Math.floor(e)),t=[r(0)],i=1;i<n;i++)t.push(r(i));return t}};var wr=fr;var hr=function(r){return function(e){var n=Math.max(1,r);return n>=e.length?[wr(e),[]]:[A(e.slice(1,n),dr(br(e))),e.slice(n)]}},yr=function(r){return _((function(e,n){return e.length===n.length&&e.every((function(e,t){return r.equals(e,n[t])}))}))},br=ar;var kr={equals:function(r,e){return r===e}},qr={equals:kr.equals,compare:function(r,e){return r<e?-1:r>e?1:0}};function xr(r){return function(e,n){if(void 0===n){var t=xr(r);return function(r){return t(e,r)}}for(var i,o=0;o<n.length;o++)if(i=n[o],r.equals(i,e))return!0;return!1}}var Ar=function(r,e){return function(n){for(var t=n.length,i=r,o=0;o<t;o++)i=e(o,i,n[o]);return i}};var _r=function(r){return 0===r.length},Sr=sr,Er=dr,Cr=gr,jr=function(r,e){return r<=0?[]:vr(e)(r)};var zr=ur,Mr=function(r){return function(e){return zr(r,e)?Fr(e):e.slice(0,r)}};var Pr=function(r,e){for(var n=r.length,t=0;t<n&&e(r[t]);t++);return t};var Or=function(r){return function(e){return r<=0||_r(e)?Fr(e):r>=e.length?[]:e.slice(r,e.length)}};var Fr=function(r){return r.slice()},Nr=function(r){return _r(r)?[]:r.slice().reverse()},Rr=function(r){return function(e){return e.length<=1?Fr(e):e.slice().sort(r.compare)}},Ir=function(r,e,n){for(var t=[],i=Math.min(r.length,e.length),o=0;o<i;o++)t[o]=n(r[o],e[o]);return t};var Tr=xr,Dr=function(r){return function(e){return r>=1&&Sr(e)?hr(r)(e):_r(e)?[Fr(e),[]]:[[],Fr(e)]}};function Lr(r){var e=Tr(r);return function(n,t){if(void 0===t){var i=Lr(r);return function(r){return i(r,n)}}return n.filter((function(r){return!e(r,t)}))}}var Hr=function(r){return function(e){return A(e,function(r){return function(e){for(var n=[],t=0;t<e.length;t++)n.push.apply(n,r(t,e[t]));return n}}((function(e,n){return r(n)})))}},Gr=function(r){return function(e){for(var n=[],t=0;t<e.length;t++){var i=r(t,e[t]);T(i)&&n.push(i.value)}return n}},Br=function(r){return Gr((function(e,n){return r(n)}))},Vr=Br(y),Ur=Ar,$r=function(r){var e=Wr(r);return function(r){return e((function(e,n){return r(n)}))}},Wr=function(r){return function(e){return Ur(r.of([]),(function(n,t,i){return r.ap(r.map(t,(function(r){return function(e){return A(r,Cr(e))}})),e(n,i))}))}},Jr=function(r){return C((function(e,n){for(var t=e.length,i=n.length,o=Math.min(t,i),a=0;a<o;a++){var c=r.compare(e[a],n[a]);if(0!==c)return c}return qr.compare(t,i)}))},Yr=function(r){return{_tag:"Left",left:r}},Qr=function(r){return{_tag:"Right",right:r}},Zr=function(r,e){return A(r,re(e))},Kr=function(r,e){return A(r,ne(e))},Xr="Either",re=function(r){return function(e){return ie(e)?e:Qr(r(e.right))}},ee=Qr,ne=function(r){return function(e){return ie(e)?e:ie(r)?r:Qr(e.right(r.right))}},te={URI:Xr,map:Zr,ap:Kr,of:ee},ie=H,oe=function(r){return function(e){return ie(e)?r(e.left):e.right}},ae=oe,ce=function(r,e){try{return Qr(r())}catch(r){return Yr(e(r))}};var se=function(r){return-1===r?1:1===r?-1:0};function ue(r,e){return Vr(r.map(e))}function le(r,e,n,t){const i=(r,e)=>{if(0===r.length)return Vr(e.map((r=>U({1:r[1],2:n(V,U(r[2]))}))));if(0===e.length)return Vr(r.map((r=>U({1:r[1],2:n(U(r[2]),V)}))));if(r.length>0&&e.length>0&&z(t)(r[0][1],e[0][1])){const[t,...o]=r,a=t[1],c=t[2];return Er({1:a,2:n(U(c),V)})(i(o,e))}if(r.length>0&&e.length>0&&M(t)(r[0][1],e[0][1])){const[t,...o]=e,a=t[1],c=t[2];return Er({1:a,2:n(V,U(c))})(i(r,o))}if(r.length>0&&e.length>0){const[t,...o]=r,[a,...c]=e,s=t[1],u=t[2],l=a[2];return Er({1:s,2:n(U(u),U(l))})(i(o,c))}throw new Error("Non exhaustive match in mapOption2")},o=j((r=>r[1]))(t),a=(r=>{const e=ue(r,(r=>K(r[2])?U({1:r[1],2:r[2].value}):V));return 0===e.length?V:U(e)})(i(Rr(o)([...r].map((r=>({1:r[0],2:r[1]})))),Rr(o)([...e].map((r=>({1:r[0],2:r[1]}))))));return Q((r=>new Map(r.map((r=>[r[1],r[2]])))))(a)}function de(r,e,n,t){const i=j((r=>r[0]))(t),o=Rr(i)([...e]).reduceRight(((r,e)=>{if(ie(r)){const t=n(e[1],r.left);return K(t)?Yr(t.value):Qr(e[0])}return r}),Yr(r));return Z(o)}function pe(r,e){return new Map([...r].map(e))}function ge(r,e){return new Map([...r].filter(e))}function fe(r){return JSON.stringify(me(r))}function me(r){switch(r.kind){case"null":return he.encode(r);case"string":return ye.encode(r);case"number":return be.encode(r);case"array":return ke.encode(r);case"object":return qe.encode(r)}}function ve(r){return null===r?he.decode(r):"number"==typeof r?be.decode(r):"string"==typeof r?ye.decode(r):Array.isArray(r)?ke.decode(r):qe.decode(r)}const we=(r,e)=>Yr(`Failed to decode. Input was ${JSON.stringify(r)}. Codec type was ${e}`),he={encode:r=>null,decode:r=>null===r?Qr({kind:"null",value:null}):we(r,"SimpleNull")},ye={encode:r=>r.value,decode:r=>"string"==typeof r?Qr(n(r)):we(r,"SimpleString")},be={encode:r=>r.value,decode:r=>"number"==typeof r?Qr(t(r)):we(r,"SimpleNumber")},ke={encode:r=>r.value.map(me),decode:r=>{if(Array.isArray(r)){const e=$r(te)(ve)(r);return re(i)(e)}return we(r,"SimpleArray")}},qe={encode:r=>{const e=[...r.value.entries()];return Object.assign({},...Array.from(e,(([r,e])=>({[r]:me(e)}))))},decode:r=>{if(r&&r.constructor===Object){const e=$r(te)((([r,e])=>A(ve(e),re((e=>x(r,e))))))(Object.entries(r));return re((r=>o(new Map([...r]))))(e)}return we(r,"SimpleObject")}};function xe(r){return A(r,_e,Q(fe),tr((()=>"<encode error>")))}function Ae(r){return Q(Me)(function(r){switch(r.state.kind){case"top":return U(n(r.state.error));case"bottom":return V;case"inner":return _e(r.state.a)}}(r))}function _e(r){return function(r){switch(r.kind){case"numberGroup":case"stringGroup":return Se(r.group);case"tuple":return r.tuple.length>0}}(r.payload)?U(i(function(r,e){const n=Q((r=>Er(r)(e)))(r);return tr((()=>e))(n)}(Q((r=>n(function(r){const e=r=>{switch(r){case"add":return"p";case"mul":return"m";case"max":return"v";case"min":return"n"}},n=r=>1===r[2]?e(r[1]):e(r[1])+JSON.stringify(r[2]);return r.map(n).join("")}(r))))(r.commands),function(r){const e=r=>{switch(r.kind){case"bottom":return{kind:"null",value:null};case"top":return n(r.error);case"inner":return t(r.a)}},i=r=>ue([Ee,Ce,r=>A(r,ze,o,U)],(e=>e(r))),a=r=>ue([Ee,je,r=>A(r,ze,(r=>pe(r,(([r,e])=>[JSON.stringify(r),e]))),o,U)],(e=>e(r)));switch(r.kind){case"tuple":return r.tuple.map(e);case"stringGroup":return i(r.group);case"numberGroup":return a(r.group)}}(r.payload)))):V}function Se(r){switch(r.kind){case"unbounded":return r.group.size>0;case"windowed":return r.group.size>0||K(r.key);case"countLimit":case"uniqueLimit":return r.group.size>0||K(r.limit)}}function Ee(r){switch(r.kind){case"unbounded":return V;case"windowed":return U(n("w"));case"countLimit":return U(n(1===r.n?"x":`x${r.n}`));case"uniqueLimit":return U(n(1===r.n?"u":`u${r.n}`))}}function Ce(r){switch(r.kind){case"unbounded":return V;case"windowed":return U(n(K(r.key)?r.key.value:""));case"countLimit":case"uniqueLimit":return U(n(K(r.limit)?r.limit.value:""))}}function je(r){switch(r.kind){case"unbounded":return V;case"windowed":return K(r.key)?U(t(r.key.value)):U({kind:"null",value:null});case"countLimit":case"uniqueLimit":return K(r.limit)?U(t(r.limit.value)):U({kind:"null",value:null})}}function ze(r){switch(r.kind){case"unbounded":case"windowed":case"countLimit":case"uniqueLimit":return r.group}}function Me(r){switch(r.kind){case"array":return 0===r.value.length?{kind:"null",value:null}:1===r.value.length?Me(r.value[0]):i(r.value.map(Me));case"object":return A(ge(r.value,(([r,e])=>"null"!==e.kind)),(r=>pe(r,(r=>[r[0],Me(r[1])]))),o);default:return r}}function Pe(r){const e=r=>{if(0===r.length)return{kind:"bottom"};const e=(r=>{if(4!==r.length)return V;const[e,n,t,i]=r;if("string"===e.kind&&"string"===n.kind&&"object"===i.kind){const r=$((r=>Oe(r[1].value)&&Fe(r[2].value)))({1:e,2:n});return Q((r=>({prim:r[1].value,grp:r[2].value,cutoff:t,m:i.value})))(r)}return V})(r);if(K(e)){const{prim:r,grp:n,cutoff:t,m:i}=e.value,o=Ne(t,i,Re(n));return"string"==typeof o?u(o):s(h(Ie(r),o))}const n=(r=>{if(3!==r.length)return V;const[e,n,t]=r;if("string"===e.kind&&"object"===t.kind){const r=$((r=>Fe(r.value)))(e);return Q((r=>({grp:r.value,cutoff:n,m:t.value})))(r)}return V})(r);if(K(n)){const{grp:r,cutoff:e,m:t}=n.value,i=Ne(e,t,Re(r));return"string"==typeof i?u(i):s(h(V,i))}const t=(r=>{if(2!==r.length)return V;const[e,n]=r;if("string"===e.kind&&"object"===n.kind){const r=$((r=>Oe(r.value)))(e);return Q((r=>({prim:r.value,m:n.value})))(r)}return V})(r);if(K(t)){const{prim:r,m:e}=t.value;return s(h(Ie(r),m(l(e))))}const i=(r=>{if(1!==r.length)return V;const[e]=r;return"object"===e.kind?U({m:e.value}):V})(r);if(K(i)){const{m:r}=i.value;return s(h(V,m(l(r))))}const o=(r=>{if(r.length<1)return V;const[e,...n]=r;if("string"===e.kind){const r=$((r=>Oe(r.value)))(e);return Q((r=>({prim:r.value,rest:n})))(r)}return V})(r);if(K(o)){const{prim:r,rest:e}=o.value;return s(h(Ie(r),De(e)))}return s(h(V,De(r)))},n=r=>"array"===r.kind?Hr(n)(r.value):[r];return"null"===r.kind?w({kind:"bottom"}):w(e(n(r)))}function Oe(r){const e=r.split("");if(!0==(0===e.length))return!1;{const[r,...n]=e;return-1!=="pmvn".indexOf(r)&&n.every((r=>-1!=="pmvn0123456789".indexOf(r)))}}function Fe(r){const e=r.split("");switch(!0){case 0===e.length:return!1;case"w"===e[0]&&void 0===e[1]:return!0;default:{const[r,...n]=e;return-1!=="ux".indexOf(r)&&-1===n.map((r=>!isNaN(parseInt(r)))).indexOf(!1)}}}function Ne(r,e,n){switch(r.kind){case"string":return m(n({1:U(r.value),2:e}));case"number":case"null":return f(n({1:"null"===r.kind?V:U(r.value),2:ge(pe(e,(([r,e])=>[Number(r),e])),(r=>!isNaN(r[0])))}));default:return"{bad cutoff}"}}function Re(r){const e=r=>e=>g(e[2],e[1],r),n=r=>e=>p(e[2],e[1],r),t=r.split("");switch(!0){case"w"===t[0]&&void 0===t[1]:return r=>d(r[2],r[1]);case"u"===t[0]&&void 0===t[1]:return e(1);case"u"===t[0]&&void 0!==t[1]:return e(parseInt(t.slice(1).join("")));case"x"===t[0]&&void 0===t[1]:return n(1);case"x"===t[0]&&void 0!==t[1]:return n(parseInt(t.slice(1).join("")));default:throw new Error("This should never happen if you use isGroupCommand")}}function Ie(r){return Q(a)(mr(Te(r,(r=>{const e=r.split("");if(0===e.length)return V;const[n,...t]=e,i=(r=>{switch(r){case"p":return U("add");case"m":return U("mul");case"v":return U("max");case"n":return U("min");default:return V}})(n);return Q((r=>{const{init:e,rest:n}=(i=r=>{return"number"==typeof(e=parseInt(r))&&isFinite(e)&&Math.floor(e)===e;var e},function(r){var e=Dr(Pr(r,i))(r);return{init:e[0],rest:e[1]}})(t);var i;return{1:{1:r,2:0===e.length?1:parseInt(e.join(""))},2:n.join("")}}))(i)}))))}function Te(r,e){const n=e(r);return tr((()=>[]))(Q((r=>[r[1]].concat(Te(r[2],e))))(n))}function De(r){return v(r.map(Le))}function Le(r){switch(r.kind){case"number":return s(r.value);case"string":return u(r.value);case"null":return{kind:"bottom"};case"object":return u("{object}");case"array":return u("{array}")}}const He={strategy:(r,e,n)=>t=>{if(X(n))return e;if("delta"===r&&X(e))return V;if(X(e))return n;if(K(e)&&K(n))return t(e.value,n.value);throw new Error("Non exhaustive match in combineCommand.strategy")},operation:(r,e,n,t,i,o)=>{const a=Jr(R(o));if("append"===r&&"add"===e)return Ir(n,t,Ye("append",i.plus));if("append"===r&&"mul"===e)return Ir(n,t,Ye("append",i.times));if("append"===r&&"max"===e)return P(a)(n,t);if("join"===r&&"add"===e)return Ir(n,t,Ye("join",P(o)));if("join"===r&&"mul"===e)return Ir(n,t,Ye("join",P(o)));if("join"===r&&"max"===e)return P(a)(n,t);if("min"===e)return He.operation(r,"max",n,t,i,function(r){return C(((e,n)=>se(r.compare(e,n))))}(o));if("delta"===r&&"max"===e)return M(a)(n,t)?n:t.map(c);if("delta"===r)return Ir(n,t,((r,e)=>M(R(o))(r,e)?r:{kind:"bottom"}));throw new Error("Non exhaustive match in combineCommand.operation")},extend:(r,e,n,t)=>{if("delta"===r&&"top"===n.kind&&"top"===t.kind)return M(F)(n.error,t.error)?u(n.error):{kind:"bottom"};if("delta"===r&&"bottom"===t.kind)return n;if("delta"===r&&"bottom"===n.kind)return{kind:"bottom"};if("top"===n.kind&&"top"===t.kind)return u(P(F)(n.error,t.error));if("top"===n.kind)return n;if("top"===t.kind)return t;if("inner"===n.kind&&"inner"===t.kind)return e(n.a,t.a);if("bottom"===n.kind)return t;if("bottom"===t.kind)return n;throw new Error("Non exhaustive match in extend")}},Ge={plus:(r,e)=>r+e,times:(r,e)=>r*e};function Be(r,e,n,t){if("unbounded"===r.kind&&"unbounded"===e.kind){const i=r.group,o=e.group;return tr(c)(Q((r=>s(l(r))))(le(i,o,n,t)))}if("windowed"===r.kind&&"windowed"===e.kind){const i=r.key,o=r.group,a=e.key,u=e.group,l=P(Y(t))(i,a);return tr(c)(Q((r=>s(d(r,l))))(le(o,u,n,t)))}if("countLimit"===r.kind&&"countLimit"===e.kind){const i=r.n,o=e.n;if(i===o){const o=r.limit,a=r.group,u=e.limit,l=e.group,d=P(Y(t))(o,u);return tr(c)(Q((r=>s(p(r,d,i))))(le(a,l,n,t)))}return u("Non matching counts")}if("uniqueLimit"===r.kind&&"uniqueLimit"===e.kind){const i=r.n,o=e.n;if(i===o){const o=r.limit,a=r.group,u=e.limit,l=e.group,d=P(Y(t))(o,u);return tr(c)(Q((r=>s(g(r,d,i))))(le(a,l,n,t)))}return u("Non matching counts")}return u("Non matching group types")}function Ve(r,e,n,t,i,o){const a=(r,e)=>({1:Mr(r)(e).concat(jr(Math.max(0,r-e.length),c)),2:Or(r)(e)}),s=(e,n,t)=>{if(0===e.length)return He.operation(r,"max",n,t,i,o);if(e.length>0){const[c,...u]=e,l=a(c[2],n),d=l[1],p=l[2],g=a(c[2],t),f=g[1],m=g[2];return He.operation(r,c[1],d,f,i,o).concat(s(u,p,m))}throw new Error("Non exhaustive match in recurse")};return Nr((u=r=>"bottom"===r.kind,function(r){return r.slice(Pr(r,u))})(Nr(s(e,n,t))));var u}function Ue(r,n,t){return tr(e)($e(r,V)(n,t))}function $e(r,e){const n=e=>(n,t)=>He.strategy(r,n,t)($e(r,e)),t=(t,i)=>{if(J(yr(S({1:O,2:kr}))).equals(t.commands,i.commands)){const o=((e,t,i)=>{if("stringGroup"===t.kind&&"stringGroup"===i.kind){const r=Be(t.group,i.group,n(e),F);return N(r,(r=>m(Je(r,F))))}if("numberGroup"===t.kind&&"numberGroup"===i.kind){const r=Be(t.group,i.group,n(e),qr);return N(r,(r=>f(Je(r,qr))))}if("tuple"===t.kind&&"tuple"===i.kind){const n=K(e)?e.value:[];return s(v(Ve(r,n,t.tuple,i.tuple,Ge,qr)))}throw new Error(`Non matching payload. Got ${t.kind} and ${i.kind}`)})(X(t.commands)?e:t.commands,t.payload,i.payload);return N(o,(r=>h(t.commands,r)))}throw new Error(`Non matching primitive strings. Got ${xe(t)} and ${xe(i)}`)};return(e,n)=>Ae(w(He.extend(r,t,Pe(e).state,Pe(n).state)))}function We(r,e,n){const t=Q((e=>ge(r,(([r,t])=>function(r){return function(e,n){return-1!==r.compare(e,n)}}(n)(r,e)))))(e);return tr((()=>r))(t)}function Je(r,e){switch(r.kind){case"unbounded":return r;case"windowed":return X(r.key)?r:d(We(r.group,r.key,e),r.key);case"countLimit":{const n=r.limit,t=r.n,i=r.group,o=(r,e)=>e<=1?V:U(e-1),a=de(t,i,o,e),c=P(Y(e))(n,a);return p(We(i,c,e),c,t)}case"uniqueLimit":{const n=r.limit,t=r.n,i=r.group,o=(r,e)=>{if("object"===r.kind){const n=[...r.value.keys(),...e.keys()],i=new Set(n);return i.size>=t?V:U(i)}return V},a=de(new Set,i,o,e),c=P(Y(e))(n,a);return g(We(i,c,e),c,t)}}}function Ye(r,e){return(n,t)=>He.extend(r,((r,n)=>s(e(r,n))),n,t)}function Qe(r,e){return Ue("append",r,e)}function Ze(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return e.reduce(((r,e)=>Object.assign(Object.assign({},r),e)),{})}B((function(r){return 0===r.length}));function Ke(r,e){const n=Object.keys(r),t=n.length,i={};for(let o=0;o<t;o++){const t=n[o],a=e(t,r[t]);K(a)&&(i[t]=a.value)}return i}const Xe=r=>e=>{if("number"==typeof e)return e;if("string"==typeof e){const n=r(e);return Number.isNaN(n)?void 0:n}};Xe(parseInt),Xe(parseFloat);function rn(r){var e;return["SegmentEntry","SegmentExit"].includes(r.name)&&void 0!==(null===(e=r.properties)||void 0===e?void 0:e.segment_number)}const en="process";let nn=!1,tn=[],on=!1;const an={};let cn={getCurrentTime:()=>new Date,getCurrentSession:()=>"",getCurrentView:()=>"",getSegments:()=>({}),get1PSegments:()=>({}),get3PSegments:()=>({}),getSegmentsArray:()=>({}),getLookalikeModels:()=>({}),setSegmentActivation:()=>{}};const sn=()=>{const r=mn.concat(cn.get1PSegments(),cn.get3PSegments()),e=fn(r);cn.getSegments=()=>r,cn.getSegmentsArray=()=>e};function un(r,e,n,t,i,o,a){nn=!1,tn=[],on=!1;const c=A(t.thirdPartydata,er((()=>t.segments),(r=>mn.concat(t.segments,r)))),s=fn(c);cn={getCurrentTime:()=>new Date,getCurrentSession:()=>t.sessionId,getCurrentView:()=>t.viewId,get1PSegments:()=>t.segments,get3PSegments:()=>A(t.thirdPartydata,tr((()=>({})))),getSegments:()=>c,getSegmentsArray:()=>s,getLookalikeModels:()=>A(t.lookalikeModels,tr((()=>({})))),setSegmentActivation:(r,e)=>{}},on=K(t.lookalikeModels),nn=K(t.thirdPartydata);const u=Ke(e,((e,n)=>{var t;return(null===(t=r[e])||void 0===t?void 0:t.checksum)===n?V:U(((r,e)=>{const n=o[r].interpret(null,cn);return Object.assign({checksum:e},!1===n.result?{}:{result:n})})(e,n))}));if(0===i.length)return{diff:Object.assign(Object.assign({},r),u),errors:[]};if(0===Object.keys(u).length)return{diff:r,errors:[]};{const t=dn(u,e,n,i,"bootstrap",o,a);return{diff:Object.assign(Object.assign({},r),t.diff),errors:t.errors}}}function ln(r,e,n,t,i,o){(r=>{const e=Object.assign({},r);delete e["1p"],cn.get3PSegments=()=>e})(t),sn(),cn.setSegmentActivation=gn(r,e),nn=!0;const a=dn(r,e,n,tn.length>0?tn:[an],"updateTPD",i,o);return tn=[],a}function dn(r,e,n,t,i,o,a){let c={diff:{},errors:[]};const s=t.length,u=()=>t.filter((r=>{return e=a["!UpdateLookalikeModels"]||[],rn(n=r)&&e.includes(n.properties.segment_number.toString());var e,n})).length===t.length?"lookalikeTransition":"transition",l=(r,e,n)=>"transition"===r?n===e-1?u():"event":r;for(let u=0;u<s;u++){const d=t[u],p=l(i,s,u),g=pn(Object.assign(Object.assign({},r),c.diff),e,n,d,p,o,a);c={diff:Object.assign(Object.assign({},c.diff),g.diff),errors:c.errors.concat(g.errors)}}return c}function pn(n,t,i,o,a,c,s){var u;"bootstrap"!==a&&(cn.setSegmentActivation=gn(n,t));const l=e,d=(e,n)=>{const t=c[e],a=t.lift(o,cn),s=q(ve,ae(l)),u=s(n.state||null),d=s(a),p=A(ce((()=>Qe(u,d)),r),oe((e=>{throw r(`Failed to append lifted event ${fe(d)} to internal state ${fe(u)}. Got ${e}`)}))),g=A(i[e],$(Boolean),Q(s)),[f,m]=A(g,nr((()=>x(p,!1)),(r=>A(ce((()=>x(Qe(p,r),!1)),k),ae((()=>x(p,!0))))))),v=me(p),w=t.interpret(me(f),cn),h=n.activations||{};return Object.assign(Object.assign(Object.assign(Object.assign({checksum:n.checksum},null===v?{}:{state:v}),!1===w.result?{}:{result:w}),0===Object.keys(h).length?{}:{activations:h}),!1===m?{}:{dropExternalState:m})},p={diff:{},errors:[]},g=function(r,e,n,t,i){switch(r){case"event":const r=(null==i?void 0:i[t.name])||[];if(nn)return r;{tn.push(t);const e=[...i["!UpdateSecondPartyData"]||[],...i["!UpdateThirdPartyData"]||[]];return Lr(O)(r,e)}case"lookalikeTransition":return(null==i?void 0:i[t.name])||[];case"transition":const o=(null==i?void 0:i[t.name])||[];if(on){const r=i["!UpdateLookalikeModels"]||[];return o.concat(r)}return o;case"bootstrap":const a=((null==i?void 0:i[t.name])||[]).filter((r=>void 0!==e[r]));return Lr(O)(a,[...nn?[]:(i["!UpdateSecondPartyData"]||[]).concat(i["!UpdateThirdPartyData"]||[]),...on?[]:i["!UpdateLookalikeModels"]||[]]);case"updateExternalState":return Object.keys(n);case"updateLAL":return i["!UpdateLookalikeModels"]||[];case"updateTPD":return[...i["!UpdateSecondPartyData"]||[],...i["!UpdateThirdPartyData"]||[]];default:return[]}}(a,n,i,o,s),f=g.length;!function(r){rn(r)&&((r=>{const e=cn.get1PSegments(),n={"1p":Object.assign(Object.assign({},e["1p"]),r["1p"])};cn.get1PSegments=()=>n})({"1p":{[r.properties.segment_number]:"SegmentEntry"===r.name}}),sn())}(o);for(let r=0;r<f;r++){const e=g[r],i=n[e]||{checksum:t[e]};let o=i;try{o=d(e,i)}catch(r){p.errors.push(`Failed to interpret query ${e}. Got ${r}`)}o.dropExternalState&&(null!==(u=p.externalStateToDrop)&&void 0!==u||(p.externalStateToDrop={}),p.externalStateToDrop[e]=!0),p.diff[e]=o}return p}function gn(r,e){return(n,t,i)=>{if(!(i in r)){const n=e[i];if(void 0===n)throw new Error("Checksum not in internalStateMap");r[i]={checksum:n}}"activations"in r[i]||(r[i].activations={});const o=r[i].activations;n in o||(o[n]=[]);const a=o[n];a.includes(t)||(o[n]=[...a,t])}}function fn(r){return Object.keys(r).reduce(((e,n)=>{const t=Object.keys(r[n]),i=[];return t.forEach((e=>{!0===r[n][e]&&i.push(e)})),e[n]=i,e}),{})}const mn={empty:{},concat:(r,e)=>{const n=Object.assign({},r);for(const[r,t]of Object.entries(e))n[r]?n[r]=Ze(n[r],t):n[r]=t;return n}};const vn=(r,e)=>{const n=function(r){for(var n=arguments.length,t=new Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];return[r.stateMap,...r.payload,...t,e.rawQueries,e.queriesByEvent]};return"bootstrap"===r.type?un(...n(r)):"updateLAL"===r.type?function(r,e,n,t,i,o){return cn.getLookalikeModels=()=>t,on=!0,pn(r,e,n,an,"updateLAL",i,o)}(...n(r)):"updateTPD"===r.type?ln(...n(r)):"updateExternalState"===r.type?function(r,e,n,t,i){return pn(r,e,n,an,"updateExternalState",t,i)}(...n(r)):r.type===en?dn(...n(r,"event")):"processTransitions"===r.type?function(r,e,n,t,i,o){return dn(r,e,n,t,"transition",i,o)}(...n(r)):{diff:{},errors:[]}};const wn=function(){var r=this&&this.__assign||function(){return r=Object.assign||function(r){for(var e,n=1,t=arguments.length;n<t;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r},r.apply(this,arguments)},e=this&&this.__values||function(r){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&r[e],t=0;if(n)return n.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&t>=r.length&&(r=void 0),{value:r&&r[t++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},n=this&&this.__read||function(r,e){var n="function"==typeof Symbol&&r[Symbol.iterator];if(!n)return r;var t,i,o=n.call(r),a=[];try{for(;(void 0===e||e-- >0)&&!(t=o.next()).done;)a.push(t.value)}catch(r){i={error:r}}finally{try{t&&!t.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},t=this&&this.__spreadArray||function(r,e,n){if(n||2===arguments.length)for(var t,i=0,o=e.length;i<o;i++)!t&&i in e||(t||(t=Array.prototype.slice.call(e,0,i)),t[i]=e[i]);return r.concat(t||Array.prototype.slice.call(e))},i=function(){function i(r){return"number"==typeof r?o[r]:r}function d(r){return"number"==typeof r?a[r]:r}function p(r){return"number"==typeof r?c[r]:r}function g(r){switch(r.length){case 0:return null;case 1:return r[0];default:return r}}function f(r,e,n){void 0===n&&(n=w);var t=p(e).reduce((function(r,e){return r&&null!=r[e]?r[e]:null}),r);return null===t?null:n(t)}function m(r,e){var n=p(e).slice();return n.unshift(r),n}function v(r,e,n){return void 0===n&&(n=w),f(r,m("properties",e),n)}var w=function(r){return r},h=function(r){return!0};function y(r,e){return function(n){for(var t=0;t<r.length;t++){if((r[t](n)||!1)===e)return e}return!e}}var b=function(r){return function(e){return!r(e)}},k=function(r,e){return function(n){return n>=r&&n<=e}},q=function(r){return new Date(r).getTime()},x=function(r){return f(r,["time"],q)},A=function(r,e){return f(e,r,q)},_=function(r,e,n,t,i,o){return function(a){var c=f(a,r,(function(r){return r.filter(t).map((function(r){return f(r,e)})).reduce(i,o)}));return n(null===c?o:c)}};function S(r,n,t,i){var o,a;try{for(var c=e(r),s=c.next();!s.done;s=c.next()){var u=s.value;if(t(u)&&n(u)===i)return i}}catch(r){o={error:r}}finally{try{s&&!s.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return!i}var E=function(r){return function(e){return("string"==typeof r||"number"==typeof r)&&"string"==typeof e&&e.toLowerCase().indexOf(d(r).toLowerCase())>-1}},C=function(r){return function(e){return null!=e&&Array.isArray(e)&&e.indexOf(r)>=0}};function j(r,e,n,t,i){var o=f(r.getSegments(),[e,n])||!1;return i&&(t||o)&&r.setSegmentActivation(e,n,i),o}function z(r,e,n){return f(r.getSegments(),[e,n])||!1}function M(r,e,t){return void 0===t&&(t=18e5),function(i){return{a:{m:function(r,e){return[e[0],i.a.m(null!=r[0]&&r[0][0]===e[0][0]?r[1]:i.a.z,e[1])]},z:[[],i.a.z]},p:function(n,t){return[[r(n)],f(t,e)===r(n)?i.p(n,t):i.a.z]},r:function(e,n){return i.r(e,0!==n[0].length&&n[0][0]===r(e)?n[1]:i.a.z)},d:i.d.sq||{l:function(o,a){var c=f(o,e),s=r(a);if(c!==s)return null;var u=i.d.l(o,a);if(!(Array.isArray(u)&&u.length>1))return null;var l=n(u),d=l[0],p=l.slice(1),g=+(x(o)||a.getCurrentTime()),m=Math.floor(g/t),v={};return v[m]={},v[m][s]=1===p.length?p[0]:p,[d,"u",null,v]},i:function(e,n){if(!Array.isArray(e)||"object"!=typeof e[3])return[[],i.a.z];var t=r(n),o=e[3];return[[t],Object.keys(o).map((function(r){return o[r][t]})).filter((function(r){return r})).map((function(r){return i.d.i([e[0]].concat(r))})).reduce(i.a.m,i.a.z)]}}}}}var P=M((function(r){return r.getCurrentSession()}),["session_id"],18e5),O=M((function(r){return r.getCurrentView()}),["view_id"],3e5);function F(r,e,o,a){return void 0===a&&(a=1),{a:{m:function(r,e){return r.concat(e).slice(-o)},z:[]},p:function(n,t){return f(t,["name"])===i(e)?[r.p(n,t)]:[]},r:function(e,n){return r.r(e,n.reduce((function(e,n){return r.a.m(e,n)}),r.a.z))},d:r.d.ftn||{l:function(e,n){var t,i=r.d.l(e,n),c=f(e,["time"],q)*a;return i&&[i[0],"x"+o,null,(t={},t[c]=2==i.length?i[1]:i.slice(1),t)]},i:function(e,i){return e?Object.keys(e[3]||{}).sort().reverse().map((function(r){return Array.isArray(r)?t([e[0]],n(e[3][r]),!1):[e[0],e[3][r]]})).map((function(e){return r.d.i(e,i)})):[]}}}}var N=function(r,e){return null===r?null==e?null:{b:e}:null==e?{a:r}:{a:r,b:e}},R=function(r,e){return r&&e?r(e):null},I=function(r,e,n){if(n&&n.result&&Array.isArray(n.result)){var t=R(r.d&&r.d.m,{result:n.result[0]}),i=R(e.d&&e.d.m,{result:n.result[1]});return N(t,i)}return null};function T(r,e){var n=s[r];if(!e||!n)return!1;if(!n.length)return!0;for(var t=0,i=!1,o=function(r){for(var e=[],n=0;n<r.length;++n){var t=r.charCodeAt(n);if(t>=55296&&t<=56319){var i=r.charCodeAt(n+1);if(i>=56320&&i<=57343){e.push(r.slice(n,n+2)),++n;continue}}e.push(r.charAt(n))}return e}(e.toLowerCase()),a=0;a<o.length;a++){for(var c=o[a];t>0&&!n[t][c];)t=n[t].su?n[t].su:0;if(n[t][c]&&(i=!!n[t=n[t][c]].te))break}return i}return{q:function(r){return{lift:function(e,n){return r.d.l(e,n)},interpret:function(e,n){return function(e,n){return{result:r.r(e,n)}}(n,r.d.i(e,n))},migrate:function(e){return e&&r.d.m?r.d.m(e):null},m:r.a.m,z:r.a.z,p:r.p,r:r.r,i:r.d.i}},a:function(r){return y(r,!1)},acq:function(r,e){return{p:function(n,t){return[r.p(n,t),e.p(n,t)]},r:function(n,t){return r.r(n,t[0])&&e.r(n,t[1])},a:{z:[r.a.z,e.a.z],m:function(n,t){return[r.a.m(n[0],t[0]),e.a.m(n[1],t[1])]}},d:{l:function(n,t){return N(r.d.l(n,t),e.d.l(n,t))},i:function(n,t){return n?[r.d.i(n.a||null,t),e.d.i(n.b||null,t)]:[r.a.z,e.a.z]},m:function(n){return I(r,e,n)}}}},acs:T,acs_:function(r,e){return function(n){return T(e,f(n,r))}},af_i:function(r,e,n){return void 0===n&&(n=h),function(t){return f(t,r,(function(r){return S(r,e,n,!1)}))&&!0}},af_l:function(r,e,n){return void 0===n&&(n=h),function(t){var i=f(t,r,(function(r){return r.filter(n).length}));return e(null===i?0:i)}},af_m:function(r,e,n,t){return void 0===t&&(t=h),function(i){var o=f(i,r,(function(r){return r.filter(t)}));return null===o||0===o.length?n(0):n(o.map((function(r){return f(r,e)})).reduce((function(r,e){return r+e}),0)/o.length)}},af_n:function(r,e,n,t){return void 0===t&&(t=h),_(r,e,n,t,(function(r,e){return Math.min(r,e)}),Number.POSITIVE_INFINITY)},af_p:function(r,e,n,t){return void 0===t&&(t=h),_(r,e,n,t,(function(r,e){return r*e}),1)},af_s:function(r,e,n,t){return void 0===t&&(t=h),_(r,e,n,t,(function(r,e){return r+e}),0)},af_u:function(r,e,n){return void 0===n&&(n=h),function(t){return f(t,r,(function(r){return S(r,e,n,!0)}))||!1}},af_x:function(r,e,n,t){return void 0===t&&(t=h),_(r,e,n,t,(function(r,e){return Math.max(r,e)}),Number.NEGATIVE_INFINITY)},as:function(r,e,n){var t=m("properties",e);return function(e){for(var i=f(e,t),o=n.length,a=!0,c=0;c<o;c++){var s=n[c];if(!(a=r(s)(i)))break}return a}},c:C,c_:function(r,e){return function(n){return C(e)(f(n,r))}},cl_:function(r,e){return function(n){return C(d(e))(f(n,r))}},cx:function(r){return function(e){return C(d(r))(e)}},ctu:function(r,e,n,t){return{a:t?{m:function(r,e){return r.filter((function(r){return-1===e.indexOf(r)})).concat(e).slice(-t)},z:[]}:{m:function(r,e){return r.filter((function(r){return-1===e.indexOf(r)})).concat(e)},z:[]},p:function(t,o){return f(o,["name"])===i(r)&&e(o)?f(o,n):[]},r:function(r,e){return e},d:{l:function(){return null},i:function(){return[]}}}},ctv:function(e,n,t,o){function a(r,e){var n,t=function(r){return{k:r.k,c:1+r.c}},i={arr:[],add:{k:e,c:1}};return e?(n=r.reduce((function(r,e){return r.add.k===e.k?{arr:r.arr,add:t(e)}:{arr:r.arr.concat(e),add:r.add}}),i)).arr.concat(n.add):r}return{a:o?{m:function(r,e){return a(r,e).slice(-o)},z:[]}:{m:function(r,e){return a(r,e)},z:[]},p:function(r,o){return f(o,["name"])===i(e)&&n(o)?f(o,t):null},r:function(e,n){return n.reduce((function(e,n){var t;return r(r({},e),((t={})[n.k]=n.c,t))}),{})},d:{l:function(r){return null},i:function(r){return[]}}}},ctw:function(r,e,n,t){return{a:t?{m:function(r,e){return r.concat(e).slice(-t)},z:[]}:{m:function(r,e){return r.concat(e)},z:[]},p:function(t,o){return f(o,["name"])===i(r)&&e(o)?f(o,n):[]},r:function(r,e){return e},d:{l:function(){return null},i:function(){return[]}}}},cw:function(r,e,n){return void 0===n&&(n=w),{a:{m:function(r,e){return r+e},z:0},p:function(n,t){return f(t,["name"])===i(r)&&e(t)?1:0},r:function(r,e){return n(e)},d:{l:function(n){return f(n,["name"])===i(r)&&e(n)?["p",1]:null},i:function(r){return r?Array.isArray(r)?r.slice(-1)[0]:r:0},m:function(r){return r&&r.result?["p",r.result]:null}}}},e:function(r){return function(e){return e===r}},e_:function(r,e){return function(n){return f(n,r)===e}},fm:function(r,e){return{p:e.p,r:function(n,t){return r(e.r(n,t))},a:e.a,d:e.d}},ftn:function(r,e,n){return{a:{m:function(r,e){return r.concat(e.slice(0,n-r.length))},z:[]},p:function(n,t){return f(t,["name"])===i(e)?[r.p(n,t)]:[]},r:function(e,n){return r.r(e,n.reduce((function(e,n){return r.a.m(e,n)}),r.a.z))},d:F(r,e,n,-1).d}},fw:function(r,e,n,t){return void 0===t&&(t=w),{a:{m:function(r,e){return null===r?e:r},z:null},p:function(t,o){return f(o,["name"])===i(r)&&e(o)?f(o,n):null},r:function(r,e){return e},d:{l:function(n){return f(n,["name"])===i(r)&&e(n)?["p",1]:null},i:function(r){return r?Array.isArray(r)?r.slice(-1)[0]:r:0},m:function(r){return r&&r.result?["p",r.result]:null}}}},g:function(r){return function(e){return e>r}},g_:function(r,e){return function(n){return f(n,r)>e}},gb:function(r,e,n){return{a:{m:function(n,t){var i=Object.keys(n).concat(Object.keys(t)).filter((function(r,e,n){return n.indexOf(r)===e})).sort((function(r,e){return Math.max(f(n,[e,1]),f(t,[e,1]))-Math.max(f(n,[r,1]),f(t,[r,1]))})).slice(0,e).reduce((function(e,i){var o=r.a.m(f(n,[i,0])||r.a.z,f(t,[i,0])||r.a.z);return e[i]=[o,Math.max(f(n,[i,1]),f(t,[i,1]))],e}),{});return i},z:{}},p:function(e,t){var i,o,a=f(t,m("properties",n)),c=r.p(e,t);return null==a||(null==(o=c)||"object"==typeof o&&0===Object.keys(o).length||o===r.a.z)?{}:((i={})[a]=[c,f(t,["time"],q)],i)},r:function(e,n){var t={};return Object.keys(n).forEach((function(i){return t[i]=r.r(e,n[i][0])})),t},d:{l:function(){return null},i:function(){return{}}}}},ge:function(r){return function(e){return e>=r}},ge_:function(r,e){return function(n){return f(n,r)>=e}},i_:w,ifp:function(r){return{a:{m:function(r,e){return e},z:null},p:function(r){return null},r:function(e,n){return function(e){return z(e,"1p",r)}(e)},d:{l:function(r,e){return null},i:function(r){return null}}}},isp:function(r,e,n,t){return{a:{m:function(r,e){return e},z:!1},p:function(n,t){return z(n,r,e)},r:function(i,o){return j(i,r,e,n,t)},d:{l:function(r,e){return null},i:function(r){return Array.isArray(r)&&(!!+r[2]||!1)}}}},itp:function(r,e,n,t){return{a:{m:function(r,e){return e},z:!1},p:function(n,t){return z(n,r,e)},r:function(i,o){return j(i,r,e,n,t)},d:{l:function(r,e){return null},i:function(r){return Array.isArray(r)&&(!!+r[2]||!1)}}}},k:f,l:function(r){return function(e){return e<r}},l_:function(r,e){return function(n){var t=f(n,r);return null!==t&&t<e}},le:function(r){return function(e){return e<=r}},le_:function(r,e){return function(n){var t=f(n,r);return null!==t&&t<=e}},lm:function(r,e){var n=function(e){return function(r,e,n){if(void 0===e[n])return NaN;var t=r||{};if(0==(t["1p"]||[]).length)return NaN;var i,o=e[n]||{},a=(o["1p"]||{}).const||0;return Object.keys(t).forEach((function(r){t[r].forEach((function(e){var n=(o[r]||{})[e]||0;a+=n}))})),i=a,1/(1+Math.pow(Math.E,-i))}(e.getSegmentsArray(),e.getLookalikeModels(),r)};return{a:{m:function(r,e){return e},z:null},p:function(r){return null},r:function(r,t){return e(n(r))},d:{l:function(r,e){return null},i:function(r){return null}}}},ltn:F,mnw:function(r,e,n,t){void 0===t&&(t=w);var o=Number.POSITIVE_INFINITY;return{a:{m:function(r,e){return r<e?r:e},z:o},p:function(t,a){return f(a,["name"])===i(r)&&e(a)?f(a,n):o},r:function(r,e){return t(e)},d:{l:function(t){return f(t,["name"])===i(r)&&e(t)?["n",f(t,n)]:null},i:function(r){return r?Array.isArray(r)?r.slice(-1)[0]:r:o}}}},mxw:function(r,e,n,t){void 0===t&&(t=w);var o=Number.NEGATIVE_INFINITY;return{a:{m:function(r,e){return r>e?r:e},z:o},p:function(t,a){return f(a,["name"])===i(r)&&e(a)?f(a,n):o},r:function(r,e){return t(e)},d:{l:function(t){return f(t,["name"])===i(r)&&e(t)?["v",f(t,n)]:null},i:function(r){return r?Array.isArray(r)?r.slice(-1)[0]:r:o}}}},n0:b(w),n:function(r){return function(e){return e!==r}},nt:b,n_:function(r,e){return function(n){return f(n,r)!==e}},o:function(r){return y(r,!0)},ocq:function(r,e){return{p:function(n,t){return[r.p(n,t),e.p(n,t)]},r:function(n,t){return r.r(n,t[0])||e.r(n,t[1])},a:{z:[r.a.z,e.a.z],m:function(n,t){return[r.a.m(n[0],t[0]),e.a.m(n[1],t[1])]}},d:{l:function(n,t){return N(r.d.l(n,t),e.d.l(n,t))},i:function(n,t){return n?[r.d.i(n.a||null,t),e.d.i(n.b||null,t)]:[r.a.z,e.a.z]},m:function(n){return I(r,e,n)}}}},oe:function(r){for(var e=Object.keys(r),n=e.length,t=new Array(n);n--;)t[n]=[e[n],r[e[n]]];return t},os:function(r,e,n){var t=m("properties",e);return function(e){for(var i=f(e,t),o=n.length,a=!1,c=0;c<o;c++){var s=n[c];if(a=r(s)(i))break}return a}},pacs:function(r,e){return function(n){return T(e,v(n,r))}},pb:function(r,e,n){return function(t){return k(e,n)(v(t,r))}},pc:function(r,e){return function(n){var t=v(n,r);return null!=t&&Array.isArray(t)&&t.indexOf(e)>=0}},pc_:function(r,e){return function(n){var t=v(n,r),i=d(e);return null!=t&&Array.isArray(t)&&t.indexOf(i)>=0}},pe:function(r,e){return function(n){return v(n,r)===e}},pg:function(r,e){return function(n){return v(n,r)>e}},pge:function(r,e){return function(n){return v(n,r)>=e}},pl:function(r,e){return function(n){var t=v(n,r);return null!==t&&t<e}},ple:function(r,e){return function(n){var t=v(n,r);return null!==t&&t<=e}},pn:function(r,e){return function(n){return v(n,r)!==e}},ps:function(r,e){return function(n){return E(e)(v(n,r))}},pw:function(r,e,n,t){return void 0===t&&(t=w),{a:{m:function(r,e){return r*e},z:1},p:function(t,o){return f(o,["name"])===i(r)&&e(o)?f(o,n):1},r:function(r,e){return t(e)},d:{l:function(t){return f(t,["name"])===i(r)&&e(t)?(o=f(t,n))>=1?["m2p",o]:o>0?["m2p",null,1/o]:0==o?["m2p",0]:o>-1?["m2p",null,1/o,1]:["m2p",o,null,1]:null;var o},i:function(r){return r?Array.isArray(r)?0===(e=r.slice(1))[0]?0:Math.pow(-1,e[2]||0)*(e[0]||1)/(e[1]||1):r:1;var e}}}},r:function(r){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return l[r].apply(l,t([],n(e),!1))},ref:function(r){return function(e){return u[r](e)}},s:E,s_:function(r,e){return function(n){return E(e)(f(n,r))}},scq:function(r,e,n){return void 0===n&&(n=w),{p:function(n,t){return[r.p(n,t),e.p(n,t)]},r:function(t,i){return n(r.r(t,i[0])+e.r(t,i[1]))},a:{z:[r.a.z,e.a.z],m:function(n,t){return[r.a.m(n[0],t[0]),e.a.m(n[1],t[1])]}},d:{l:function(n,t){return N(r.d.l(n,t),e.d.l(n,t))},i:function(n,t){return n?[r.d.i(n.a||null,t),e.d.i(n.b||null,t)]:[r.a.z,e.a.z]},m:function(n){return I(r,e,n)}}}},sq:P,dscq:function(e,n,t,o){var a="x".concat(o),c=function(r){return r?2===r.length?["p",a,"",r[1]]:r:null},s=function(r){var t,o=function(r){return f(r,["session_id"])}(r);return o&&f(r,["name"])===i(e)&&n(r)?["p",a,"",(t={},t[o]=1,t)]:null};return{a:{m:function(e,n){var t=c(e),i=c(n);return t?i?["p",a,"",r(r({},t[3]),i[3])]:t:i},z:null},p:function(r,e){return s(e)},r:function(r,e){var n=e&&e[3]&&"object"==typeof e[3]?Object.keys(e[3]).length:0;return t(n)},d:{l:function(r,e){return s(r)},i:function(r,e){return c(r)}}}},sw:function(r,e,n,t){return void 0===t&&(t=w),{a:{m:function(r,e){return r+e},z:0},p:function(t,o){return f(o,["name"])===i(r)&&e(o)?f(o,n):0},r:function(r,e){return t(e)},d:{l:function(t){return function(n){return f(n,["name"])===i(r)&&e(n)}(t)?(o=f(t,n))<0?["p2",null,-o]:["p2",o]:null;var o},i:function(r){return r?Array.isArray(r)?((e="p2"===r[0]?r.slice(1):r)[0]||0)-(e[1]||0):r:0;var e}}}},t:h,tb:function(r,e){return function(n){return k(r,e)(x(n))}},te:function(r){return function(e){return x(e)===r}},te_:function(r,e){return function(n){return A(r,n)===e}},tg:function(r){return function(e){return x(e)>r}},tg_:function(r,e){return function(n){return A(r,n)>e}},tge:function(r){return function(e){return x(e)>=r}},tge_:function(r,e){return function(n){return A(r,n)>=e}},ti:q,tl:function(r){return function(e){return x(e)<r}},tl_:function(r,e){return function(n){return A(r,n)<e}},tle:function(r){return function(e){return x(e)<r}},tle_:function(r,e){return function(n){return A(r,n)<e}},tn:function(r){return function(e){return x(e)!==r}},tn_:function(r,e){return function(n){return A(r,n)!==e}},tw:function(r,e,i){var o=i||100,a=Math.ceil(e/o),c=function(r){return Math.floor(r/a)},s=function(r,n,t){var i;return[c(r.getTime()-e),(i={},i[c(n)]=t,i)]},u=function(e,n){var t=Math.max(e[0],n[0]),i=Object.keys(e[1]).filter((function(r){return r>=t})).concat(Object.keys(n[1]).filter((function(r){return r>=t}))).filter((function(r,e,n){return n.indexOf(r)===e})).reduce((function(t,i){var o=r.a.m(e[1][i]||r.a.z,n[1][i]||r.a.z);return o!==r.a.z&&(t[i]=o),t}),{});return[t,i]},l=[Number.NEGATIVE_INFINITY,{}],d=function(r){var e=function(e){return e.map((function(e){var t=n(e,3),i=t[0],o=(t[1],t[2]);return s(r.t,o,i)})).reduce(u,l)};return u(e(r.in),e(r.out))},p=function(e){if(void 0!==e.result)return p(e.result);if(void 0!==e.w)return p(d(e));var t=n(e,2),i=(t[0],t[1]),o=null,a={};for(var c in i){var s=r.d.m({result:i[c]});s&&Array.isArray(s)&&(o=s[0],a[c]=g(s.slice(1)))}return o&&[o,"w",e[0],a]};return{a:{m:function(r,e){var n=r.w?d(r):r;return u(n,e)},z:l},p:function(e,n){return s(e.getCurrentTime(),f(n,["time"],q),r.p(e,n))},r:function(e,n){var t=(n.w?d(n):n)[1];return r.r(e,Object.keys(t).reduce((function(e,n){return r.a.m(e,t[n])}),r.a.z))},d:r.d.tw||{l:function(e,i){var o=r.d.l(e,i),a=r.d.i(o,i);return o&&t([o[0],"w"],n(s(i.getCurrentTime(),f(e,["time"],q),a)),!1)},i:function(r,n){var t=Array.isArray(r)?r:[],i=n.getCurrentTime(),o=c(i.getTime()-e);return[t[2]||null,Object.keys(t[3]||{}).map((function(r){var e;return(e={})[r]=t[3][r],e})).reduce((function(r,e){return Object.keys(e).filter((function(r){return parseInt(r)>=o})).forEach((function(n){return r[n]=e[n]})),r}),{})]},m:r.d.m&&p}}},vgw:function(r,e,n,t){void 0===t&&(t=w);var o={v:0,k:0};return{a:{m:function(r,e){var n=r.k+e.k;return{v:n?r.v+e.k*(e.v-r.v)/n:0,k:n}},z:o},p:function(t,a){return f(a,["name"])===i(r)&&e(a)?{v:f(a,n),k:1}:o},r:function(r,e){return t(e.v)},d:{l:function(t){return f(t,["name"])===i(r)&&e(t)?0==(o=f(t,n))?["p3",1]:o<0?["p3",1,null,-o]:["p3",1,o]:null;var o},i:function(r){return r?Array.isArray(r)?{v:(((e=r.slice(1))[1]||0)-(e[2]||0))/(e[0]||1),k:e[0]||0}:void 0:o;var e}}}},vq:O,w:function(r){return function(e){return e===d(r)}},x:function(r){return function(e){return e!==d(r)}},y:function(r,e){return function(n){return v(n,r)===a[e]}},y_:function(r,e){return function(n){return f(n,r)===a[e]}},z:function(r,e){return function(n){return v(n,r)!==a[e]}},z_:function(r,e){return function(n){return f(n,r)!==a[e]}}}}(),o=["PageviewComplete","PageviewEngagement","SegmentEntry","Pageview","SlotClicked","SlotViewable","SurveyResponse"],a=["www.marca.com","www.elmundo.es","www.expansion.com","www.telva.com","BusinessAndFinance~Industries","NewsAndPolitics~Politics","PersonalFinance~ConsumerBanking","MedicalHealth~DiseasesAndConditions","NewsAndPolitics~Crime","Technology&amp;Computing~ConsumerElectronics","Food&amp;Drink~DessertsAndBaking","Education~SecondaryEducation","FamilyAndRelationships~Parenting","MedicalHealth~PharmaceuticalDrugs","Science~Physics","Sports~Cycling","PersonalFinance~PersonalInvesting","BusinessAndFinance~Business","MedicalHealth~Vaccines","Travel~TravelType","newsandpolitics~politics","Hobbies&amp;Interests~ArtsAndCrafts","Television~FactualTV","Television","Food&amp;Drink~Cooking","personalfinance~consumerbanking","Automotive~CarCulture","Automotive~Motorcycles","EventsAndAttractions~Bars&amp;Restaurants","EventsAndAttractions~National&amp;CivicHolidays","EventsAndAttractions~PersonalCelebrations&amp;LifeEvents","Food&amp;Drink","Food&amp;Drink~DiningOut","Religion&amp;Spirituality~Christianity","Sports~Soccer","Technology&amp;Computing~Computing","Travel~TravelLocations","style&amp;fashion~beauty","technology&amp;computing~consumerelectronics","BooksAndLiterature","BusinessAndFinance","Education","FineArt","Home&amp;Garden","MedicalHealth","Movies","MusicAndAudio","PopCulture","Shopping","Style&amp;Fashion","Food&amp;Drink~AlcoholicBeverages","HealthyLiving~FitnessAndExercise","PopCulture~CelebrityStyle","RealEstate~Apartments","Style&amp;Fashion~Beauty","Style&amp;Fashion~HighFashion","food&amp;drink~dessertsandbaking","Automotive~AutoType","FamilyAndRelationships~MarriageAndCivilUnions","Home&amp;Garden~HomeAppliances","Science~Chemistry","Sports~ExtremeSports","Sports~Golf","automotive~carculture","android","ios","Television~SportsTV","personalfinance~personalinvesting","MedicalHealth~Surgery","NewsAndPolitics~Weather","PersonalFinance","Pets~Dogs","Sports~AutoRacing","Sports~Basketball","Sports~Tennis","Technology&Computing~ConsumerElectronics","businessandfinance~business","businessandfinance~industries","food&amp;drink","medicalhealth~diseasesandconditions","medicalhealth~vaccines","newsandpolitics~crime","realestate~apartments","travel~traveltype","Automotive","Careers","Careers~JobSearch","EventsAndAttractions","FineArt~Theater","Home&amp;Garden~Gardening","Sports","Sports~Rugby","Sports~Sailing","Technology&amp;Computing","businessandfinance","hobbies&amp;interests~collecting","home&amp;garden","medicalhealth","movies","musicandaudio","shopping","style&amp;fashion","VideoGaming~ConsoleGames","style&amp;fashion~highfashion","Automotive~AutoBodyStyles","EventsAndAttractions~Concerts&amp;MusicEvents","HealthyLiving","Hobbies&amp;Interests~GamesAndPuzzles","PopCulture~CelebrityRelationships","PopCulture~HumorAndSatire","Religion&amp;Spirituality~Islam","Science~SpaceAndAstronomy","Sports~Boxing","Sports~OlympicSports","Style&amp;Fashion~PersonalCare","automotive~motorcycles","education~secondaryeducation","eventsandattractions~bars&amp;restaurants","eventsandattractions~casinos&amp;gambling","eventsandattractions~national&amp;civicholidays","eventsandattractions~personalcelebrations&amp;lifeevents","familyandrelationships~parenting","food&amp;drink~alcoholicbeverages","food&amp;drink~cooking","food&amp;drink~diningout","home&amp;garden~homeappliances","medicalhealth~pharmaceuticaldrugs","newsandpolitics~weather","religion&amp;spirituality~christianity","science~spaceandastronomy","sports~basketball","sports~cycling","sports~soccer","technology&amp;computing~computing","travel~travellocations","HealthyLiving~WomensHealth","healthyliving~fitnessandexercise","marca.com","television","EventsAndAttractions~Bars&Restaurants","EventsAndAttractions~Nightclubs","EventsAndAttractions~PersonalCelebrations&LifeEvents","Food&Drink~DessertsAndBaking","Food&Drink~DiningOut","Food&amp;Drink~WorldCuisines","Médico","PersonalFinance~Insurance","Religion&Spirituality~Christianity","VideoGaming","food&amp;drink~worldcuisines","personalfinance","Automotive~AutoBuyingAndSelling","BooksAndLiterature~ComicsAndGraphicNovels","BooksAndLiterature~Poetry","BusinessAndFinance~Economy","Careers~Apprenticeships","Careers~RemoteWorking","Education~HomeworkAndStudy","FineArt~Dance","FineArt~Opera","Hobbies&amp;Interests~Collecting","Hobbies&amp;Interests~MagicAndIllusion","MedicalHealth~MedicalTests","Movies~ComedyMovies","Movies~RomanceMovies","NewsAndPolitics","NewsAndPolitics~Disasters","Pets~LargeAnimals","RealEstate","Science","Shopping~SalesAndPromotions","Technology&amp;Computing~ArtificialIntelligence","Travel","automotive","automotive~autobodystyles","automotive~autorepair","automotive~autotype","booksandliterature","businessandfinance~economy","careers","careers~apprenticeships","careers~jobsearch","careers~remoteworking","education","eventsandattractions","familyandrelationships~marriageandcivilunions","fineart","fineart~design","home&amp;garden~remodeling&amp;construction","medicalhealth~medicaltests","popculture","science","shopping~salesandpromotions","sports","sports~golf","style&amp;fashion~personalcare","technology&amp;computing","technology&amp;computing~artificialintelligence","technology&amp;computing~virtualreality","travel","HealthyLiving~Nutrition","healthyliving","television~factualtv","television~sportstv","EventsAndAttractions~Malls&amp;ShoppingCenters","EventsAndAttractions~National&CivicHolidays","FineArt~Design","Food&Drink~AlcoholicBeverages","Food&Drink~BarbecuesAndGrilling","Food&amp;Drink~BarbecuesAndGrilling","Hobbies&Interests~ArtsAndCrafts","MIR","MusicAndAudio~HipHopMusic","Pets~Cats","PopCulture~CelebrityDeaths","Religion&Spirituality~Islam","Science~Environment","Sports~Skiing","Technology&Computing~Computing","Television~RealityTV","eventsandattractions~concerts&amp;musicevents","eventsandattractions~nightclubs","hobbies&amp;interests~gamesandpuzzles","medicalhealth~surgery","pets~cats","pets~dogs","popculture~celebritydeaths","popculture~celebritystyle","science~environment","science~physics","sports~autoracing","sports~tennis","HealthyLiving~WeightLoss","healthyliving~menshealth","Food&Drink~Cooking","Food&amp;Drink~HealthyCookingAndEating","PersonalFinance~FinancialPlanning","PersonalFinance~RetirementPlanning","Style&Fashion~Beauty","Style&Fashion~HighFashion","en","mx","television~dramatv","television~realitytv","us","videogaming","videogaming~consolegames","/technology and computing/consumer electronics/tv and video equipment","Automotive~AutoRepair","Automotive~AutoTechnology","Automotive~Scooters","Careers~CareerPlanning","Education~Homeschooling","Education~LanguageLearning","Education~PrimaryEducation","EventsAndAttractions~AmusementAndThemeParks","EventsAndAttractions~CinemasAndEvents","EventsAndAttractions~Museums&amp;Galleries","EventsAndAttractions~OutdoorActivities","EventsAndAttractions~Parks&amp;Nature","EventsAndAttractions~Zoos&amp;Aquariums","FamilyAndRelationships","FamilyAndRelationships~Eldercare","FineArt~DigitalArts","Food&Drink","Food&Drink~NonAlcoholicBeverages","Food&amp;Drink~NonAlcoholicBeverages","Food&amp;Drink~VeganDiets","Food&amp;Drink~VegetarianDiets","Hobbies&Interests~Collecting","Hobbies&Interests~MagicAndIllusion","Hobbies&amp;Interests~Birdwatching","Hobbies&amp;Interests~Cigars","Hobbies&amp;Interests~ModelToys","Home&Garden","Home&Garden~Gardening","Home&amp;Garden~HomeImprovement","Home&amp;Garden~Remodeling&amp;Construction","MedicalHealth~CosmeticMedicalServices","Movies~HorrorMovies","MusicAndAudio~DanceAndElectronicMusic","MusicAndAudio~RockMusic","MusicAndAudio~SoundtracksTVAndShowtunes","Pets~Reptiles","RealEstate~DevelopmentalSites","RealEstate~RealEstateBuyingAndSelling","Religion&amp;Spirituality","Religion&amp;Spirituality~Astrology","Religion&amp;Spirituality~Hinduism","Religion&amp;Spirituality~Spirituality","Science~BiologicalSciences","Science~Genetics","Science~Geography","Sports~IceHockey","Sports~MartialArts","Sports~SportsEquipment","Sports~Swimming","Sports~TrackAndField","Sports~Walking","Sports~Wrestling","Style&Fashion","Style&amp;Fashion~StreetStyle","Technology&amp;Computing~Robotics","Television~ComedyTV","automotive~autobuyingandselling","automotive~autoparts","automotive~autosafety","automotive~scooters","booksandliterature~comicsandgraphicnovels","booksandliterature~poetry","careers~careerplanning","education~earlychildhoodeducation","education~homeworkandstudy","education~languagelearning","education~onlineeducation","eventsandattractions~awardsshows","eventsandattractions~malls&amp;shoppingcenters","eventsandattractions~museums&amp;galleries","eventsandattractions~outdooractivities","eventsandattractions~zoos&amp;aquariums","familyandrelationships","familyandrelationships~eldercare","fineart~dance","fineart~theater","food&amp;drink~healthycookingandeating","food&amp;drink~nonalcoholicbeverages","food&amp;drink~vegetariandiets","hobbies&amp;interests~artsandcrafts","hobbies&amp;interests~magicandillusion","home&amp;garden~gardening","home&amp;garden~homesecurity","medicalhealth~cosmeticmedicalservices","movies~actionandadventuremovies","movies~dramamovies","musicandaudio~danceandelectronicmusic","musicandaudio~hiphopmusic","musicandaudio~worldinternationalmusic","newsandpolitics","personalfinance~insurance","personalfinance~personaldebt","personalfinance~retirementplanning","pets~largeanimals","pets~reptiles","pets~veterinarymedicine","popculture~celebrityrelationships","realestate","realestate~realestatebuyingandselling","religion&amp;spirituality~astrology","religion&amp;spirituality~islam","religion&amp;spirituality~judaism","science~biologicalsciences","science~chemistry","science~geography","science~geology","sports~baseball","sports~boxing","sports~extremesports","sports~gymnastics","sports~huntingandshooting","sports~martialarts","sports~rugby","sports~sailing","sports~trackandfield","sports~walking","HealthyLiving~SeniorHealth","futbol","healthyliving~nutrition","healthyliving~seniorhealth","healthyliving~weightloss","healthyliving~womenshealth","Automotive~AutoParts","EventsAndAttractions~Casinos&Gambling","EventsAndAttractions~Casinos&amp;Gambling","EventsAndAttractions~Malls&ShoppingCenters","HealthyLiving~MensHealth","Hobbies&amp;Interests~MusicalInstruments","Home&Garden~HomeAppliances","MusicAndAudio~WorldInternationalMusic","Religion&Spirituality~Judaism","Religion&amp;Spirituality~Judaism","Style&Fashion~BodyArt","Style&Fashion~PersonalCare","Style&amp;Fashion~BodyArt","elmundo.es","expansion.com","https://cuidateplus.marca.com","medico","telva.com","/art and entertainment/movies and tv/comedies","/art and entertainment/movies and tv/romantic comedies","/art and entertainment/music/music genres/classical music","/art and entertainment/music/music genres/opera","/art and entertainment/music/music genres/pop music","/food and drink/healthy eating","/food and drink/vegetarian","EIR","Enfermería","SIGNED","disney plus","/art and entertainment/books and literature","/art and entertainment/books and literature/poetry","/art and entertainment/comics and animation","/art and entertainment/dance","/art and entertainment/movies and tv","/art and entertainment/movies and tv/animated","/art and entertainment/movies and tv/children\'s","/art and entertainment/movies and tv/documentaries","/art and entertainment/movies and tv/reality","/art and entertainment/movies and tv/television","/art and entertainment/music/music genres/soundtracks","/art and entertainment/shows and events/classical concert","/art and entertainment/theatre","/automotive and vehicles/cars/luxury","/automotive and vehicles/motorcycles","/business and industrial","/business and industrial/fashion industry","/education/adult education","/education/language learning","/family and parenting","/finance/accounting and auditing/tax preparation and planning","/finance/financial news","/food and drink/dining out","/food and drink/food/fruits and vegetables","/food and drink/food/salads","/food and drink/vegan","/health and fitness","/hobbies and interests/arts and crafts/photography","/hobbies and interests/birdwatching","/home and garden/gardening and landscaping","/home and garden/home improvement and repair","/pets/birds","/pets/large animals","/society/crime","/society/dating","/sports/diving","/sports/horse racing","/sports/horses","/sports/olympics/paralympic games","/sports/skiing","/sports/volleyball/beach volleyball","/style and fashion/beauty/cosmetics","101 Dálmatas","Bambi","Blancanieves","Cenicienta","Dermatología","Disney","Dumbo","El Rey León","FIR","Farmacéutico","H","M","Medicina Familiar y Comunitaria","Oncología","Pediatría","Toy Story","apuestas-deportivas","atletico","atletismo","balonmano","barcelona","disney","futbol-femenino","futbol-sala","mma","médico","oncologia","real-madrid","www.expansion.com/directivos"],c=[["client","domain"],["article","iab_taxonomy"],["segment_number"],["classifications_watson","taxonomy_labels"],["client","url"],["content","section"],["user","age"],["user","category"],["content","domain"],["user","profesion"],["content","subsection1"],["client","type"],["article","keywords"],["campaign_id"],["line_item_id"],["isp_info","isp"],["user","gender"],["user","type"],["answer","text"],["isp_info","autonomous_system_organization"],["article","newsid"],["question","text"]],s=[],u=[i.os(i.cx,1,[83,134,36,199,19]),i.os(i.cx,1,[50,122,207]),i.os(i.cx,1,[55,103]),i.os(i.cx,1,[20,5,8]),i.os(i.cx,1,[44,13,68,18,7,162]),i.os(i.cx,1,[77,17,154,4,94,76,178,40]),i.os(i.cx,1,[52,47]),i.os(i.cx,1,[53,345,82,168]),i.os(i.cx,1,[51,136,200,366,201,232,233,135,369,364,367,106,368]),i.os(i.cx,1,[97,7,44,13]),i.os(i.cx,1,[19,36]),i.os(i.cx,1,[71,343,225,213,342,167,283,224,341]),i.os(i.cx,1,[59,277,330,125,276,43,96,188,89]),i.os(i.cx,1,[54,37,238]),i.os(i.cx,1,[83,19]),i.os(i.cx,1,[183,11,116,311,41]),i.os(i.cx,1,[72,230]),i.os(i.cx,1,[187,42,88]),i.os(i.cx,1,[287,33,349,347,286,288,289,128,110,348]),i.os(i.cx,1,[59,125,376]),i.os(i.cx,1,[170,192,48,100]),i.os(i.cx,12,[441,456,447,448,442,444,443,398,446,462]),i.os(i.cx,1,[218,35]),i.os(i.cx,1,[54,37]),i.os(i.cx,1,[133,35]),i.os(i.cx,1,[120,30]),i.os(i.cx,1,[159,187,186,42]),i.os(i.cx,1,[75,9,93,218,35]),i.os(i.cx,1,[25,6]),i.os(i.w,8,[2,384]),i.os(i.cx,1,[23,22]),i.os(i.cx,1,[23,66,202,203,242,22,138,243]),i.os(i.cx,1,[19,83]),i.os(i.cx,1,[5,20,127,81,8,165,69,337,166]),i.os(i.cx,1,[26,84,104,27,57,151]),i.os(i.cx,1,[32,143]),i.os(i.cx,1,[229,14]),i.os(i.w,8,[1,383]),i.os(i.cx,1,[205,29,28,141,139,87,30]),i.os(i.w,8,[0,137]),i.os(i.cx,1,[63,26]),i.os(i.cx,1,[206,88,323,159,186,263,158,322,42]),i.os(i.cx,1,[154,77,94,4,76,17,40,178]),i.os(i.cx,1,[14,60]),i.os(i.cx,1,[195,101,49,37]),i.os(i.cx,1,[100,48,192,170]),i.os(i.cx,1,[24,234]),i.as(i.x,5,[240,244,241]),i.os(i.cx,1,[29,119,184,118,28,87,117,204,105]),i.os(i.cx,1,[132,62,131,92,194,61,193,34,130,361,91,15,90]),i.os(i.cx,1,[10,31,265,142,208,264,50,32,209,207,143,266]),i.os(i.cx,1,[88,42,158]),i.os(i.cx,1,[126,7,13,97,278,79,44,18,80,331,223,68,162,189]),i.os(i.cx,1,[6,25]),i.os(i.cx,1,[111,129]),i.os(i.cx,1,[30,141,120]),i.os(i.cx,1,[290,291,14,351,111,129,216,353,169,228,60,229,350,191]),i.os(i.cx,1,[36,134]),i.os(i.cx,1,[138,23,22]),i.os(i.s,8,[137]),i.os(i.cx,1,[33,128]),i.os(i.cx,1,[147,33]),i.os(i.cx,1,[66,23,303,219]),i.os(i.cx,1,[22,202]),i.os(i.cx,1,[85,155,181,156,251,86,179,180,182]),i.os(i.cx,1,[59,188,96,43,329,125]),i.os(i.cx,1,[140,221]),i.os(i.cx,1,[10,56,142]),i.os(i.cx,1,[185,12,121,58]),i.os(i.cx,1,[19,36,172,134,83,199]),i.os(i.cx,1,[115,27]),i.os(i.cx,1,[17,76]),i.os(i.cx,1,[33,147,128]),i.os(i.cx,1,[13,126]),i.os(i.cx,1,[9,198,35,171,38,196,197,133,93]),i.os(i.cx,1,[69,127]),i.os(i.cx,1,[15,131]),i.os(i.cx,1,[7,79]),i.os(i.cx,1,[51,106,135,200]),i.os(i.cx,1,[94,40,4]),i.os(i.cx,1,[52,227]),i.os(i.cx,1,[73,130]),i.os(i.cx,1,[20,5]),i.os(i.cx,1,[220,105]),i.os(i.cx,1,[67,16]),i.os(i.cx,1,[54,103,114,101,195,49,37,301,55]),i.os(i.cx,1,[51,136]),i.os(i.cx,1,[237,236,70,16,25,67,6,150,146]),i.os(i.cx,1,[190,47]),i.os(i.cx,1,[46,99,336,280,212,335,334,282]),i.os(i.w,11,[64,65]),i.os(i.cx,1,[132,34]),i.os(i.cx,1,[28,87,119,117,319,29,257,184,140,30,220,260,258,317,316,105,256,118,315,221,255,120,259,318]),i.os(i.cx,1,[374,233]),i.os(i.cx,1,[86,85]),i.os(i.cx,1,[177,39]),i.os(i.cx,1,[66,203]),i.os(i.cx,1,[73,34,92,61,294,62,112,15,74,293,72,91,217,113,90]),i.os(i.cx,1,[18,80]),i.os(i.cx,1,[70,16,6]),i.os(i.e,14,[196421776,196421557,196421770]),i.os(i.cx,1,[11,312,116,183,313,41,157,314,254,252,253]),i.os(i.cx,1,[21,95]),i.os(i.cx,1,[204,373]),i.os(i.cx,1,[142,10]),i.os(i.cx,1,[24,234,123]),i.os(i.cx,1,[209,208]),i.os(i.cx,1,[102,148]),i.os(i.cx,1,[9,38,75]),i.os(i.cx,1,[11,41]),i.os(i.cx,1,[8,20,127,81,5,165]),i.os(i.cx,1,[58,12]),i.os(i.cx,1,[153,39]),i.os(i.cx,1,[8,81]),i.os(i.cx,1,[215,110]),i.os(i.cx,1,[11,116]),i.os(i.cx,1,[45,332,98,163,279,164,333]),i.os(i.cx,1,[69,5,166,8]),i.os(i.cx,1,[96,43,89,59]),i.os(i.cx,1,[71,167]),i.os(i.cx,1,[227,108,47,109,52,190,344,226,214]),i.os(i.cx,1,[107,222]),i.os(i.cx,1,[114,55,49,37,101,54,103]),i.os(i.cx,1,[55,49,300,239]),i.os(i.cx,1,[235,10,50,56,149,24,144,31,78]),i.os(i.cx,1,[29,119]),i.os(i.cx,1,[95,271,328,161,327,160,222,21,272,107]),i.os(i.cx,1,[79,7]),i.os(i.cx,1,[28,117,139]),i.os(i.cx,1,[118,371,372]),i.os(i.cx,1,[98,45]),i.os(i.cx,1,[38,9,75]),i.os(i.cx,1,[45,98]),i.os(i.cx,1,[102,245,246]),i.os(i.cx,1,[109,108,47]),i.os(i.cx,1,[30,141]),i.os(i.cx,1,[33,215,147,110]),i.os(i.cx,1,[133,9,93,35,196,171,302,197,38,198]),i.os(i.w,11,[65,64]),i.os(i.cx,1,[292,14,129,191,352]),i.os(i.cx,1,[82,53]),i.os(i.cx,1,[74,132,299,72,15,112,194,92,355,90,130,91,297,131,358,113,296,354,34,73,298,61,231,193,360,363,62,362,357,230,356]),i.os(i.cx,1,[214,226]),i.os(i.cx,1,[9,75]),i.os(i.cx,1,[111,169,60,14]),i.os(i.cx,1,[32,143,124]),i.os(i.cx,1,[163,164,45]),i.os(i.cx,1,[307,27,63,175,57,115,173,250,176,26,304,84,174]),i.os(i.cx,1,[25,339,150,67,16,6,338,70,146,340]),i.os(i.cx,1,[85,182,86,155,179,180,310,156]),i.os(i.cx,1,[12,121,185,58,321,262,261,320]),i.os(i.cx,1,[53,82]),i.os(i.cx,1,[54,238]),i.os(i.cx,1,[89,274,275,43]),i.os(i.cx,1,[4,40,17]),i.os(i.cx,1,[13,80,18,79,7,126,97,189,44]),i.os(i.cx,1,[100,48]),i.os(i.cx,1,[39,152]),i.os(i.cx,1,[29,205]),i.os(i.cx,1,[174,57,249,104,84,306,115,26,176,173,63,305,175,151,27,248]),i.os(i.cx,1,[12,121]),i.os(i.cx,1,[99,46]),i.os(i.w,9,[395,396]),i.os(i.cx,1,[53,284,346,285,168,82]),i.os(i.cx,1,[228,216]),i.os(i.cx,1,[68,223]),i.os(i.cx,1,[309,177,39,153,152,308]),i.os(i.cx,1,[71,225]),i.os(i.cx,1,[4,77]),i.os(i.cx,1,[114,381]),i.os(i.cx,1,[295,15,359]),i.os(i.cx,1,[378,379]),i.os(i.cx,1,[273,95,107,21]),i.os(i.cx,1,[38,9]),i.os(i.cx,1,[21,210]),i.os(i.cx,1,[106,136,201]),i.os(i.cx,1,[99,46,281]),i.os(i.cx,1,[5,20]),i.os(i.cx,1,[74,231]),i.os(i.cx,1,[11,41,157]),i.os(i.cx,1,[213,224]),i.os(i.cx,1,[123,78,31,32,10,124,122,24,56]),i.os(i.cx,1,[161,269,21,210,270,160]),i.os(i.cx,1,[32,78,124,268,10,325,149,50,144,56,123,31,267,122,24,324,326]),i.os(i.w,9,[449,450]),i.os(i.cx,1,[139,28]),i.os(i.w,9,[211,145]),i.os(i.cx,1,[382,380])],l=[(r,e,n,t,o,a,c,s)=>i.q(i.acq(i.scq(i.tw(i.sw(0,i.a([i.y(0,t),i.ref(c)]),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),i.vq(i.sw(1,i.a([i.y(0,o),i.ref(s)]),["properties","engaged_time"])),i.g(r)),i.vq(i.mxw(1,i.a([i.y(0,n),i.ref(a)]),["properties","completion"],i.g(e))))),(r,e,n,t,o,a,c,s)=>i.q(i.acq(i.scq(i.tw(i.sw(0,i.a([i.y(0,t),i.pc_(1,c)]),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),i.vq(i.sw(1,i.a([i.y(0,o),i.pc_(1,s)]),["properties","engaged_time"])),i.g(r)),i.vq(i.mxw(1,i.a([i.y(0,n),i.pc_(1,a)]),["properties","completion"],i.g(e))))),(r,e,n,t,o,a,c)=>i.q(i.acq(i.tw(i.cw(3,n,t),r),i.tw(i.cw(o,a,c),e))),(r,e,n,t,o,a)=>i.q(i.acq(i.tw(i.cw(3,i.a([i.ref(n),i.ref(t)]),i.ge(r)),6048e5),i.tw(i.cw(3,i.a([i.ref(o),i.ref(a)]),i.le(e)),6048e5))),(r,e,n,t,o,a)=>i.q(i.acq(i.tw(i.cw(3,i.a([i.y(5,n),i.ref(59),i.ref(t)]),i.ge(r)),2592e6),i.tw(i.cw(3,i.a([i.y(5,o),i.ref(59),i.ref(a)]),i.le(e)),2592e6))),(r,e)=>i.q(i.cw(r,e,i.ge(1))),(r,e,n)=>i.q(i.cw(r,i.os(i.e,e,n),i.ge(1))),(r,e,n)=>i.q(i.cw(r,i.pe(e,n),i.ge(1))),r=>i.q(i.cw(r,i.t,i.ge(1))),(r,e,n)=>i.q(i.cw(3,i.a([r,i.os(i.w,e,n)]),i.ge(1))),(r,e,n,t,o)=>i.q(i.cw(3,i.a([i.os(n,t,o),i.os(i.w,r,e)]),i.ge(1))),(r,e)=>i.q(i.cw(3,i.a([i.os(i.w,7,e),i.ref(r)]),i.ge(1))),r=>i.q(i.cw(3,i.a([i.ref(186),i.os(i.w,7,r)]),i.ge(1))),(r,e)=>i.q(i.cw(3,i.a([i.y(7,e),i.ref(r)]),i.ge(1))),r=>i.q(i.cw(3,i.a([i.pe(7,r),i.y(9,145)]),i.ge(1))),(r,e)=>i.q(i.cw(3,i.a([i.pe(7,e),i.ref(r)]),i.ge(1))),(r,e)=>i.q(i.cw(3,i.os(i.cx,r,e),i.ge(1))),(r,e)=>i.q(i.cw(3,i.os(i.s,r,e),i.ge(1))),r=>i.q(i.cw(3,i.pc_(12,r),i.ge(1))),(r,e)=>i.q(i.cw(3,i.y(r,e),i.ge(1))),(r,e)=>i.q(i.cw(3,i.ps(r,e),i.ge(1))),r=>i.q(i.cw(6,i.os(i.w,18,r),i.ge(1))),(r,e,n)=>i.q(i.ocq(i.cw(r,i.ref(100),i.ge(1)),i.cw(e,i.os(i.e,13,n),i.ge(1)))),(r,e,n,t)=>i.q(i.ocq(i.cw(3,i.a([i.pge(6,r),i.ple(6,e)]),i.ge(1)),i.cw(3,i.a([i.pge(6,n),i.ple(6,t)]),i.ge(1)))),(r,e,n)=>i.q(i.ocq(i.cw(3,i.ps(4,n),i.ge(1)),i.isp("unidad_ue_users",r,!1,e))),(r,e,n,t)=>i.q(i.ocq(i.ocq(r,i.tw(i.cw(3,i.pc_(3,n),i.ge(t)),2592e6)),i.tw(i.cw(3,i.pc_(3,e),i.ge(3)),2592e6))),(r,e)=>i.q(i.ocq(i.ocq(r,i.tw(i.cw(3,i.pc_(3,440),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,e),i.ge(3)),2592e6))),(r,e,n,t,o,a,c,s,u,l,d,p,g)=>i.q(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(u,i.cw(p,g,i.ge(1))),i.cw(l,d,i.ge(1))),i.cw(c,s,i.ge(1))),i.cw(o,a,i.ge(1))),i.cw(n,t,i.ge(1))),i.cw(r,e,i.ge(1)))),(r,e,n,t,o,a,c,s,u,l,d,p)=>i.q(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.scq(i.cw(0,i.pc(["aggregations","SegmentEntry"],u)),i.cw(2,i.pe(2,l)),i.ge(1)),i.scq(i.cw(0,i.pc(["aggregations","SegmentEntry"],d)),i.cw(2,i.pe(2,p)),i.ge(1))),i.scq(i.cw(0,i.pc(["aggregations","SegmentEntry"],c)),i.cw(2,i.pe(2,s)),i.ge(1))),i.scq(i.cw(0,i.pc(["aggregations","SegmentEntry"],o)),i.cw(2,i.pe(2,a)),i.ge(1))),i.scq(i.cw(0,i.pc(["aggregations","SegmentEntry"],n)),i.cw(2,i.pe(2,t)),i.ge(1))),i.scq(i.cw(0,i.pc(["aggregations","SegmentEntry"],r)),i.cw(2,i.pe(2,e)),i.ge(1)))),(r,e,n,t,o,a,c,s)=>i.q(i.ocq(i.ocq(i.ocq(i.scq(i.cw(0,i.pc(["aggregations","SegmentEntry"],c)),i.cw(2,i.pe(2,s)),i.ge(1)),i.scq(i.cw(0,i.pc(["aggregations","SegmentEntry"],o)),i.cw(2,i.pe(2,a)),i.ge(1))),i.scq(i.cw(0,i.pc(["aggregations","SegmentEntry"],n)),i.cw(2,i.pe(2,t)),i.ge(1))),i.scq(i.cw(0,i.pc(["aggregations","SegmentEntry"],r)),i.cw(2,i.pe(2,e)),i.ge(1)))),(r,e,n,t,o,a)=>i.q(i.ocq(i.ocq(i.scq(i.cw(0,i.pc(["aggregations","SegmentEntry"],o)),i.cw(2,i.pe(2,a)),i.ge(1)),i.scq(i.cw(0,i.pc(["aggregations","SegmentEntry"],n)),i.cw(2,i.pe(2,t)),i.ge(1))),i.scq(i.cw(0,i.pc(["aggregations","SegmentEntry"],r)),i.cw(2,i.pe(2,e)),i.ge(1)))),(r,e,n,t)=>i.q(i.ocq(i.scq(i.cw(0,i.pc(["aggregations","SegmentEntry"],r)),i.cw(2,i.pe(2,e)),i.ge(1)),i.scq(i.cw(0,i.pc(["aggregations","SegmentEntry"],n)),i.cw(2,i.pe(2,t)),i.ge(1)))),(r,e,n,t,o,a,c,s)=>i.q(i.ocq(i.scq(i.tw(i.sw(0,i.a([i.y(0,o),i.ref(a)]),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),i.vq(i.sw(1,i.a([i.y(0,c),i.ref(s)]),["properties","engaged_time"])),i.g(r)),i.vq(i.mxw(1,i.a([i.y(0,n),i.ref(t)]),["properties","completion"],i.g(e))))),(r,e)=>i.q(i.ocq(i.tw(i.cw(3,i.pc_(3,r),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,e),i.ge(3)),2592e6))),r=>i.q(i.ocq(i.tw(i.cw(3,i.pc_(3,388),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,r),i.ge(3)),2592e6))),r=>i.q(i.ocq(i.tw(i.cw(3,i.pc_(3,399),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,r),i.ge(3)),2592e6))),(r,e,n,t,o,a,c,s)=>i.q(i.ocq(i.vq(i.mxw(1,i.a([i.y(0,n),i.ref(t)]),["properties","completion"],i.g(e))),i.scq(i.tw(i.sw(0,i.a([i.y(0,o),i.ref(a)]),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),i.vq(i.sw(1,i.a([i.y(0,c),i.ref(s)]),["properties","engaged_time"])),i.g(r)))),(r,e)=>i.q(i.isp("unidad_ue_users",r,!1,e)),(r,e)=>i.q(i.isp("zeotap_unidad",r,!1,e)),(r,e)=>i.q(i.scq(i.cw(0,i.pc(["aggregations","SegmentEntry"],r)),i.cw(2,i.pe(2,e)),i.ge(1))),(r,e,n,t)=>i.q(i.scq(i.tw(i.sw(0,n,["properties","aggregations","PageviewEngagement","engaged_time"]),r),i.vq(i.sw(1,t,["properties","engaged_time"])),i.g(e))),(r,e,n,t,o)=>i.q(i.scq(i.tw(i.sw(0,i.a([i.y(0,e),i.ref(t)]),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),i.vq(i.sw(1,i.a([i.y(0,n),i.ref(o)]),["properties","engaged_time"])),i.g(r))),(r,e,n,t,o)=>i.q(i.scq(i.tw(i.sw(0,i.a([i.y(0,e),i.pc_(1,t)]),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),i.vq(i.sw(1,i.a([i.y(0,n),i.pc_(1,o)]),["properties","engaged_time"])),i.g(r))),(r,e,n)=>i.q(i.scq(i.tw(i.sw(0,i.a([i.y(5,365),i.y(10,e)]),["properties","aggregations","PageviewEngagement","engaged_time"]),7776e6),i.vq(i.sw(1,i.a([i.y(5,365),i.y(10,n)]),["properties","engaged_time"])),i.g(r))),(r,e,n,t,o)=>i.q(i.scq(i.tw(i.sw(0,i.y(e,n),["properties","aggregations","PageviewEngagement","engaged_time"]),24192e5),i.vq(i.sw(1,i.y(t,o),["properties","engaged_time"])),i.g(r))),(r,e)=>i.q(i.tw(i.cw(3,r,i.ge(e)),2592e6)),(r,e,n)=>i.q(i.tw(i.cw(3,i.a([i.os(i.w,8,e),i.ref(n)]),i.ge(r)),6048e5)),(r,e)=>i.q(i.tw(i.cw(3,i.a([i.ref(e),i.ref(138)]),i.le(r)),6048e5)),(r,e,n)=>i.q(i.tw(i.cw(3,i.a([i.y(5,e),i.ref(59),i.ref(n)]),i.ge(r)),2592e6)),(r,e)=>i.q(i.tw(i.cw(3,i.a([i.y(5,e),i.ref(59),i.ref(138)]),i.le(r)),2592e6)),r=>i.q(i.tw(i.cw(3,i.pc_(3,r),i.ge(3)),2592e6)),()=>i.q(i.tw(i.cw(3,i.pc_(3,409),i.ge(3)),2592e6)),()=>i.q(i.tw(i.cw(3,i.pc_(3,428),i.ge(3)),2592e6)),r=>i.q(i.tw(i.cw(3,i.pe(10,r),i.ge(2)),24192e5)),r=>i.q(i.vq(i.mxw(1,i.t,["properties","completion"],i.g(r))))];return{rawQueries:{1e7:i.r(33,"/education/graduate school","/science"),10000001:i.r(50,"/automotive and vehicles"),10000002:i.r(35,401),10000003:i.r(33,414,"/finance"),10000004:i.r(33,"/careers",416),10000005:i.r(50,"/education"),10000006:i.r(25,i.tw(i.cw(3,i.pc_(3,418),i.ge(3)),2592e6),"/society/social institution/marriage",433,3),10000007:i.r(25,i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.tw(i.cw(3,i.pc_(3,400),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,402),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,390),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,391),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,410),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,411),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/art and entertainment/visual art and design/art museums and galleries"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/art and entertainment/visual art and design/arts education"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/art and entertainment/visual art and design/performance art"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/art and entertainment/visual art and design/restoration"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/art and entertainment/visual art and design/sculpture"),i.ge(3)),2592e6)),426,"/education/art history",3),10000008:i.r(25,i.tw(i.cw(3,i.pc_(3,"/business and industrial/food industry"),i.ge(3)),2592e6),"/food and drink/food and grocery retailers","/food and drink",3),10000010:i.r(33,393,425),10000011:i.r(50,"/hobbies and interests"),10000012:i.r(50,"/home and garden"),10000013:i.r(33,"/art and entertainment/movies",403),10000014:i.r(50,"/art and entertainment/music"),10000015:i.r(25,i.ocq(i.ocq(i.ocq(i.ocq(i.tw(i.cw(3,i.pc_(3,"/business and industrial/business news"),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,420),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/law, govt and politics"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/news"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,432),i.ge(3)),2592e6)),"/technology and computing/tech news","/sports/sports news",3),10000016:i.r(25,i.tw(i.cw(3,i.pc_(3,"/finance/bank"),i.ge(3)),2592e6),"/finance/personal finance",420,3),10000017:i.r(50,"/pets"),10000018:i.r(25,i.ocq(i.tw(i.cw(3,i.pc_(3,"/art and entertainment/celebrity fan and gossip"),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,407),i.ge(3)),2592e6)),392,408,3),10000019:i.r(50,"/real estate"),10000020:i.r(50,"/shopping"),10000021:i.r(33,425,"/sports"),10000022:i.r(33,415,"/style and fashion"),10000023:i.r(25,i.tw(i.cw(3,i.pc_(3,"/business and industrial/automation"),i.ge(3)),2592e6),"/technology and computing","/science/computer science",3),10000024:i.r(25,i.ocq(i.tw(i.cw(3,i.pc_(3,"/art and entertainment/movies and tv/movies/reviews"),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,408),i.ge(3)),2592e6)),247,"/art and entertainment/tv",3),10000025:i.r(50,"/travel"),10000026:i.r(33,"/hobbies and interests/games/video and computer games","/technology and computing/consumer electronics/game systems and consoles"),10000035:i.r(33,"/science/engineering","/science/physics"),10000036:i.r(50,"/automotive and vehicles/buying and selling cars"),10000037:i.r(50,"/automotive and vehicles/motor shows"),10000038:i.r(33,"/automotive and vehicles/cars/hybrid","/automotive and vehicles/electric vehicles"),10000039:i.r(50,413),10000040:i.r(50,"/automotive and vehicles/cars/performance vehicles"),10000041:i.r(33,401,"/art and entertainment/comics and animation/comics"),10000042:i.r(50,"/business and industrial/business operations"),10000043:i.r(50,433),10000044:i.r(50,418),10000045:i.r(50,402),10000046:i.r(50,"/art and entertainment/visual art and design"),10000047:i.r(50,"/food and drink/beverages/alcoholic beverages"),10000048:i.r(50,"/food and drink/barbecues and grilling"),10000049:i.r(33,"/food and drink/desserts and baking","/food and drink/food and grocery retailers/bakeries"),10000050:i.r(33,421,"/food and drink/food/fast food"),10000051:i.r(50,"/food and drink/food allergies"),10000052:i.r(25,i.ocq(i.tw(i.cw(3,i.pc_(3,422),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,423),i.ge(3)),2592e6)),393,"/food and drink/health and lowfat cooking",3),10000053:i.r(50,394),10000054:i.r(33,"/health and fitness/exercise","/health and fitness/sports medicine"),10000055:i.r(50,"/health and fitness/men\'s health"),10000056:i.r(50,"/health and fitness/nutrition"),10000057:i.r(50,"/health and fitness/women\'s health"),10000058:i.r(52),10000059:i.r(50,"/art and entertainment/movies and tv/action"),10000060:i.r(50,404),10000061:i.r(50,405),10000062:i.r(50,"/art and entertainment/movies and tv/horror"),10000063:i.r(50,432),10000064:i.r(33,"/law, govt and politics/law enforcement","/law, govt and politics/legal issues"),10000065:i.r(50,"/news/national news"),10000066:i.r(33,"/law, govt and politics/government","/law, govt and politics/politics"),10000067:i.r(50,"/science/weather"),10000068:i.r(50,430),10000069:i.r(50,"/pets/cats"),10000070:i.r(50,"/pets/dogs"),10000071:i.r(50,431),10000072:i.r(50,"/pets/reptiles"),10000073:i.r(50,"/sports/football"),10000074:i.r(50,"/sports/baseball"),10000075:i.r(50,"/sports/basketball"),10000076:i.r(50,"/sports/bodybuilding"),10000077:i.r(50,"/sports/bowling"),10000078:i.r(50,"/sports/boxing"),10000079:i.r(50,"/sports/bicycling"),10000080:i.r(50,"/sports/fishing"),10000081:i.r(50,"/sports/golf"),10000082:i.r(50,"/sports/hunting and shooting"),10000083:i.r(50,"/sports/rugby"),10000084:i.r(50,438),10000085:i.r(50,"/sports/tennis"),10000086:i.r(50,"/sports/walking"),10000087:i.r(26,i.ocq(i.tw(i.cw(3,i.pc_(3,"/business and industrial/tanning"),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,"/style and fashion/beauty"),i.ge(3)),2592e6)),"/style and fashion/beauty/cosmetology and beauty professionals"),10000088:i.r(33,"/style and fashion/beauty/tattoos","/style and fashion/body art"),10000089:i.r(50,"/style and fashion/men \'s fashion"),10000090:i.r(50,"/technology and computing/consumer electronics"),10000324:i.r(50,414),10000325:i.r(25,i.ocq(i.ocq(i.tw(i.cw(3,i.pc_(3,"/business and industrial/company/annual report"),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,"/business and industrial/company/bankruptcy"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/business and industrial/company/earnings"),i.ge(3)),2592e6)),"/business and industrial/company/merger and acquisition","/business and industrial/company/joint venture",3),10000327:i.r(50,"/finance/personal finance/debt management"),10000328:i.r(50,"/finance/personal finance/insurance"),10000329:i.r(25,i.tw(i.cw(3,i.pc_(3,"/finance/accounting and auditing/billing and invoicing"),i.ge(3)),2592e6),419,"/finance/accounting and auditing/bookkeeping",3),10000330:i.r(50,"/finance/investing"),10000687:i.r(50,"/science/social science"),10000688:i.r(50,417),10000689:i.r(33,413,"/automotive and vehicles/scooters and mopeds"),10000690:i.r(25,i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.tw(i.cw(3,i.pc_(3,"/automotive and vehicles/vehicle brands/fiat"),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,"/automotive and vehicles/vehicle brands/ford"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/automotive and vehicles/vehicle brands/honda"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/automotive and vehicles/vehicle brands/hyundai"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/automotive and vehicles/vehicle brands/nissan"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/automotive and vehicles/vehicle brands/peugeot"),i.ge(3)),2592e6)),"/automotive and vehicles/vehicle brands/suzuki","/automotive and vehicles/vehicle brands/subaru",3),10000691:i.r(25,i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.tw(i.cw(3,i.pc_(3,412),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,"/automotive and vehicles/vehicle brands/audi"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/automotive and vehicles/vehicle brands/bentley"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/automotive and vehicles/vehicle brands/ferrari"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/automotive and vehicles/vehicle brands/lamborghini"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/automotive and vehicles/vehicle brands/land rover"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/automotive and vehicles/vehicle brands/maserati"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/automotive and vehicles/vehicle brands/mercedes-benz"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/automotive and vehicles/vehicle brands/porsche"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/automotive and vehicles/vehicle brands/rolls-royce"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/automotive and vehicles/vehicle brands/toyota"),i.ge(3)),2592e6)),"/automotive and vehicles/vehicle brands/volvo","/automotive and vehicles/vehicle brands/volkswagen",3),10000692:i.r(50,"/automotive and vehicles/cars/coupe"),10000693:i.r(33,"/automotive and vehicles/auto parts","/automotive and vehicles/auto repair"),10000694:i.r(50,"/automotive and vehicles/cars"),10000695:i.r(50,"/automotive and vehicles/cars/sedan"),10000696:i.r(50,"/art and entertainment/books and literature/children\'s books"),10000697:i.r(50,400),10000698:i.r(33,"/careers/career advice","/careers/resume writing and advice"),10000699:i.r(50,"/careers/telecommuting"),10000700:i.r(50,"/careers/career planning"),10000701:i.r(33,"/careers/job fairs","/careers/job search"),10000702:i.r(50,416),10000703:i.r(50,"/education/distance learning"),10000704:i.r(50,"/education/special education"),10000705:i.r(35,417),10000706:i.r(25,i.tw(i.cw(3,i.pc_(3,"/education/homework and study tips"),i.ge(3)),2592e6),"/education/teaching and classroom resources/school supplies","/education/teaching and classroom resources/lesson plans",3),10000707:i.r(50,426),10000708:i.r(50,411),10000709:i.r(50,391),10000710:i.r(25,i.ocq(i.tw(i.cw(3,i.pc_(3,393),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,424),i.ge(3)),2592e6)),"/pets/animal welfare",394,3),10000711:i.r(50,"/food and drink/beverages/non alcoholic beverages"),10000712:i.r(25,i.tw(i.cw(3,i.pc_(3,"/food and drink/kosher food"),i.ge(3)),2592e6),394,424,3),10000713:i.r(50,"/food and drink/cuisines"),10000714:i.r(25,i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.tw(i.cw(3,i.pc_(3,"/food and drink/food/condiments and dressings"),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,"/food and drink/food/frozen food"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,422),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/food and drink/food/grains and pasta"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/food and drink/food/herbs and spices"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,423),i.ge(3)),2592e6)),"/food and drink/gastronomy/slow food","/food and drink/food/snack foods",3),10000715:i.r(50,"/health and fitness/aging"),10000716:i.r(50,"/health and fitness/weight loss"),10000717:i.r(50,"/hobbies and interests/arts and crafts"),10000718:i.r(33,"/hobbies and interests/collecting","/hobbies and interests/collecting/stamps and coins"),10000719:i.r(50,"/hobbies and interests/games/board games and puzzles"),10000720:i.r(50,"/hobbies and interests/magic and illusion"),10000721:i.r(50,"/art and entertainment/music/musical instruments"),10000722:i.r(33,427,430),10000723:i.r(33,"/art and entertainment/radio","/technology and computing/consumer electronics/radios"),10000724:i.r(33,"/art and entertainment/books and literature/fan fiction","/art and entertainment/books and literature/science fiction"),10000725:i.r(50,"/home and garden/appliances"),10000726:i.r(50,429),10000727:i.r(25,i.ocq(i.ocq(i.ocq(i.tw(i.cw(3,i.pc_(3,"/art and entertainment/visual art and design/design/interior design"),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,"/art and entertainment/visual art and design/drawing"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/art and entertainment/visual art and design/painting"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/hobbies and interests/arts and crafts/woodworking"),i.ge(3)),2592e6)),"/home and garden/remodeling and construction",429,3),10000728:i.r(52),10000729:i.r(25,i.ocq(i.ocq(i.tw(i.cw(3,i.pc_(3,"/home and garden/bed and bath/bathroom"),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,"/home and garden/bed and bath/bedroom"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/home and garden/home furnishings"),i.ge(3)),2592e6)),"/home and garden/interior decorating","/home and garden/home furnishings/lamps and lighting",3),10000730:i.r(50,"/art and entertainment/movies and tv/independent"),10000731:i.r(50,406),10000732:i.r(50,"/art and entertainment/movies and tv/dramas"),10000733:i.r(50,389),10000734:i.r(34,389),10000735:i.r(51),10000736:i.r(51),10000737:i.r(50,"/art and entertainment/music/music genres/jazz"),10000738:i.r(50,390),10000739:i.r(50,"/art and entertainment/music/music genres/blues"),10000740:i.r(50,"/art and entertainment/music/music genres/country music"),10000741:i.r(50,"/art and entertainment/music/music genres/hip hop"),10000742:i.r(50,392),10000743:i.r(33,"/art and entertainment/music/music genres/electronic music",392),10000744:i.r(25,i.tw(i.cw(3,i.pc_(3,390),i.ge(3)),2592e6),410,391,3),10000745:i.r(50,"/news/local news"),10000746:i.r(50,"/news/international news"),10000747:i.r(50,"/finance/personal finance/financial planning/retirement and pension"),10000748:i.r(33,419,"/finance/personal finance/financial planning"),10000749:i.r(33,435,436),10000750:i.r(50,"/pets/aquariums"),10000751:i.r(34,389),10000752:i.r(50,"/real estate/architects"),10000753:i.r(50,"/real estate/apartments"),10000754:i.r(25,i.ocq(i.tw(i.cw(3,i.pc_(3,"/business and industrial/agriculture and forestry"),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,"/business and industrial/agriculture and forestry/organic farming"),i.ge(3)),2592e6)),431,427,3),10000755:i.r(50,"/real estate/buying and selling homes"),10000756:i.r(50,439),10000757:i.r(50,"/sports/water polo"),10000758:i.r(50,"/sports/table tennis and ping-pong"),10000759:i.r(50,"/sports/softball"),10000760:i.r(33,"/sports/volleyball",439),10000761:i.r(50,437),10000762:i.r(50,"/sports/rowing"),10000763:i.r(50,"/sports/badminton"),10000764:i.r(50,"/sports/sailing"),10000765:i.r(25,i.tw(i.cw(3,i.pc_(3,435),i.ge(3)),2592e6),"/sports/polo",436,3),10000766:i.r(50,"/sports/skating/figure skating"),10000767:i.r(50,"/sports/cheerleading"),10000768:i.r(50,"/sports/auto racing"),10000769:i.r(50,"/sports/weightlifting"),10000770:i.r(50,"/sports/gymnastics"),10000771:i.r(50,"/sports/swimming"),10000772:i.r(50,"/sports/running and jogging"),10000773:i.r(33,"/sports/hockey","/sports/hockey/field hockey"),10000774:i.r(50,434),10000775:i.r(25,i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.tw(i.cw(3,i.pc_(3,"/sports/bicycling/mountain biking"),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,"/sports/canoeing and kayaking"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/sports/climbing"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,434),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/sports/go kart"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/sports/parachuting"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/sports/scuba diving"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/sports/skating"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,438),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/sports/skiing/waterskiing"),i.ge(3)),2592e6)),"/sports/surfing and bodyboarding","/sports/snowboarding",3),10000776:i.r(50,"/sports/wrestling"),10000777:i.r(33,"/sports/olympics",437),10000778:i.r(50,"/sports/martial arts"),10000779:i.r(50,"/sports/cricket"),10000780:i.r(50,"/sports/soccer"),10000781:i.r(25,i.ocq(i.ocq(i.ocq(i.ocq(i.tw(i.cw(3,i.pc_(3,"/art and entertainment/shows and events"),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,412),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,415),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,421),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/home and garden/luxury homes"),i.ge(3)),2592e6)),"/style and fashion/luxury goods","/style and fashion/fashion designers",3),10000782:i.r(50,"/style and fashion/beauty/hair care"),10000783:i.r(26,i.tw(i.cw(3,i.pc_(3,"/style and fashion/accessories"),i.ge(3)),2592e6),"/style and fashion/jewelry"),10000784:i.r(50,"/style and fashion/clothing"),10000785:i.r(50,"/business and industrial/automation/robotics"),10000786:i.r(50,"/science/computer science/artificial intelligence"),10000787:i.r(33,406,247),10000788:i.r(33,407,247),10000789:i.r(34,247),10000790:i.r(33,403,247),10000791:i.r(33,404,247),10000792:i.r(33,405,247),10000793:i.r(50,"/travel/tourist destinations/seaside resort"),10000794:i.r(50,"/travel/tourist destinations/africa"),10000795:i.r(50,"/travel/tourist facilities/camping"),10000796:i.r(50,"/travel/tourist destinations/south america"),10000797:i.r(50,"/travel/transports/road travel/road accident"),10000798:i.r(50,"/travel/tourist destinations/japan"),10000799:i.r(50,"/travel/tourist destinations/australia and new zealand"),10000800:i.r(25,i.ocq(i.ocq(i.tw(i.cw(3,i.pc_(3,"/travel/tourist destinations/eastern europe"),i.ge(3)),2592e6),i.tw(i.cw(3,i.pc_(3,"/travel/tourist destinations/europe"),i.ge(3)),2592e6)),i.tw(i.cw(3,i.pc_(3,"/travel/tourist destinations/france"),i.ge(3)),2592e6)),"/travel/tourist destinations/italy","/travel/tourist destinations/greece",3),10000801:i.r(50,"/travel/specialty travel/adventure travel"),10000802:i.r(50,"/travel/business travel"),10000803:i.r(50,"/travel/traveling with kids"),101097:i.r(20,4,"cuando-homer-conocio-a-bender"),101929:i.r(15,186,"Endocrinología"),101931:i.r(15,186,"Anatomía Patológica"),101937:i.r(13,186,454),101938:i.r(15,186,"Neumología"),101940:i.r(13,162,455),103274:i.r(7,3,15,"Recoletos Compania Editorial"),103671:i.r(20,4,"nominadas-para-los-oscars-que-ya-puedes-disfrutar"),103866:i.q(i.cw(3,i.a([i.pc_(12,"CancerMama"),i.ps(8,"diariomedico.com"),i.os(i.s,7,[467,"oncología"])]),i.ge(1))),103867:i.r(9,i.pc_(12,"CancerPulmon"),7,[454,467]),103868:i.r(10,0,[2,"www.diariomedico.com","cuidateplus.marca.com",1],i.cx,12,["Ciencia y Salud,ciencia","ciencia y salud","Ciencia y Salud","ciencia-y-salud","ciencia","Sanidad","sanidad","medicina","salud - investigacion medica","investigacion","investigador","salud - pacientes","directivos","Directivos","administracion"]),104041:i.r(20,4,"el-uso-del-movil-al-volante-multiplica-por-4-el-riesgo-de-sufrir-un-accidente"),104124:i.r(7,3,9,"administracion/gestion"),104860:i.r(20,4,"pam-y-tommy-la-verdadera-historia-de-uno-de-los-mayores-escandalos-de-los-90"),104863:i.r(11,162,["enfermería familiar y comunitaria","Enfermería Familiar y Comunitaria","enfermeria familiar y comunitaria"]),104864:i.r(10,9,[386,211,145],i.w,7,["medicina interna","Medicina Interna"]),105126:i.r(20,4,"expansion.com/uestudio/2022/04/11/6254444f468aeb52428b45b3.html"),105732:i.r(20,4,"4-documentales-imprescindibles-para-celebrar-y-comprometerse-con-el-dia-de-la-tierra"),105807:i.r(20,4,"usar-el-movil-conduciendo-signo-de-adiccion-o-de-falta-de-concienciacion"),106291:i.r(20,4,"elmundo.es/uestudio/2022/04/25/62666325fdddffa8748b4583.html"),107478:i.r(20,4,"como-conoci-a-tu-padre-las-kardashian-y-the-dropout-3-series-con-protagonistas-que-estan-dando-mucho-que-hablar"),108682:i.r(20,4,"628b498522601d7b798b4588.html"),109284:i.r(20,4,"native.elmundo.es/2022/05/31tel/index.html"),110675:i.r(27,4,i.pe(14,6169161528),4,i.pe(14,6151587283),4,i.pe(14,6143144290),4,i.pe(14,6092516805),i.cw(4,i.pe(14,6042459582),i.ge(1)),4,i.pe(14,6092469771),4,i.pe(14,6045548287)),113217:i.r(20,4,"native.marca.com/2022/06/24tel/index.html"),113218:i.r(20,4,"native.expansion.com/2022/06/21tel/index.html"),114267:i.r(20,4,"como-mejorar-nuestra-relacion-con-la-tecnologia-a-cualquier-edad"),114299:i.r(20,4,"ser-mas-autonomos-una-de-las-principales-motivaciones-para-vencer-la-brecha-digital"),114499:i.r(18,"toros"),115581:i.r(12,["pediatria",455]),115678:i.r(20,4,"uestudio/2022/07/21/62d8ff9f21efa097618b4584.html"),120929:i.r(20,4,"uestudio/2022/08/31/630f16b0268e3eca328b456d.html"),122441:i.r(16,12,["vitamina","sistema linfatico e inmunitario","Sistema linfático e inmunitario","sistema educativo","salud y alimentacion","Salud y Alimentación","lacteos","hierro","Desayuno saludable","desayuno saludable","Aparato cardiovascular","aparato cardiovascular","alimentacion saludable","Alimentación Saludable"]),122876:i.r(16,12,["energia","ENERGY SOLAR TECH","panel solar","energy solar tech","economia-sostenible","sostenibilidad"]),122884:i.q(i.acq(i.cw(3,i.os(i.cx,12,["Neurología","Demencia con cuerpos de Lewy","demencia con cuerpos de lewy","Alzheimer","alzheimer","demencia","Demencia","Demencia senil","Neurológicas","Neurologicas","neurologicas","perdida memoria"]),i.ge(1)),i.cw(3,i.os(i.cx,12,["Salud","salud"]),i.ge(1)))),122989:i.r(22,4,4,[3097169706,3095867953,3095979776,3090650520,3090624663,3089075180,3089419916]),122990:i.r(22,5,5,[3095867953,3095979776,3097169706,3089419916,3089075180,3090624663,3090650520]),123341:i.r(20,4,"uestudio/2022/09/28/63343780e4d4d88b5a8b45cf.html"),123342:i.r(20,4,"uestudio/2022/09/29/6335b612468aeb19428b4618.html"),123501:i.q(i.cw(6,i.a([i.pe(18,"y"),i.pe(21,"ron-qualifio-changemobile")]),i.ge(1))),123908:i.r(6,4,13,[3033320148,3082098607]),123923:i.r(28,72049,72049,72057,72057,71965,71965,71966,71966,71974,71974,72055,72055),124682:i.r(20,4,"sara-socas-yo-tambien-pedi-ayuda-profesional-para-sobrellevar-el-ciberbullying"),124688:i.r(20,4,"uno-de-cada-cuatro-alumnos-reconoce-haber-participado-en-un-caso-de-acoso-escolar-sin-darse-cuenta"),124692:i.r(7,4,13,3097175491),125228:i.r(20,4,"whatsapp-instagram-y-tiktok-las-3-plataformas-donde-mas-se-practica-ciberbullying-a-menores"),127374:i.r(7,4,14,6142625448),128686:i.r(7,4,14,6153576424),128824:i.r(7,4,13,3104782453),128825:i.r(7,5,13,3107670465),129606:i.q(i.ocq(i.cw(4,i.pe(13,3109059002),i.ge(1)),i.cw(4,i.pe(13,3084040958),i.ge(1)))),129720:i.r(46,286,[383,1],90),129722:i.r(47,125,37),129723:i.r(3,126,285,37,90,37,90),129767:i.q(i.tw(i.cw(3,i.a([i.as(i.x,5,[244,240,241]),i.ref(39),i.ref(90)]),i.ge(773)),6048e5)),129768:i.q(i.tw(i.cw(3,i.a([i.as(i.x,5,[244,241,240]),i.ref(39),i.ref(90)]),i.le(222)),6048e5)),129770:i.q(i.acq(i.tw(i.cw(3,i.a([i.ref(47),i.ref(39),i.ref(90)]),i.ge(223)),6048e5),i.tw(i.cw(3,i.a([i.ref(47),i.ref(39),i.ref(90)]),i.le(772)),6048e5))),130380:i.r(27,3,i.ps(4,"tecnologia/2023/04/19/64405e0921efa0cd068b45b2"),3,i.ps(4,"tecnologia/2023/04/10/64344a3afdddff4d998b459d"),3,i.ps(4,"tecnologia/2023/04/20/6440f21ae2704ed06f8b45cf"),3,i.ps(4,"2023/03/26/64203b25e2704eb17e8b4588"),i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.ocq(i.cw(3,i.ps(4,"www.telva.com/estilo-vida/2022/11/22/637c9b6001a2f19a268b4605"),i.ge(1)),i.cw(3,i.ps(4,"elmundo.es/economia/2022/11/06/63668f0ffdddff9d268b45cd"),i.ge(1))),i.cw(3,i.ps(4,"marca.com/tecnologia/2022/11/15/6373cace268e3e55368b45f4"),i.ge(1))),i.cw(3,i.ps(4,"elmundo.es/yodona/lifestyle/2022/11/23/637b7f7f21efa05e2f8b45c6"),i.ge(1))),i.cw(3,i.ps(4,"marca.com/tecnologia/2022/11/23/637b683cca4741a3088b459f"),i.ge(1))),i.cw(3,i.ps(4,"elmundo.es/tecnologia/2022/11/24/637e80ec21efa0ff298b45f"),i.ge(1))),i.cw(3,i.ps(4,"expansion.com/fueradeserie/tecno/2022/11/24/637df86fe5fdea1b0b8b4670"),i.ge(1))),i.cw(3,i.ps(4,"telva.com/estilo-vida/2022/11/29/638607ab02136e9ea78b458c"),i.ge(1))),i.cw(3,i.ps(4,"expansion.com/fueradeserie/tecno/2022/11/30/637df029e5fdea63688b465e"),i.ge(1))),i.cw(3,i.ps(4,"album/yodona/lifestyle/2022/12/02/6389f8f4fdddff58a48b45fa"),i.ge(1))),i.cw(3,i.ps(4,"expansion.com/economia-digital/companias/2022/12/07/6390d98f468aeb91548b45a5"),i.ge(1))),i.cw(3,i.ps(4,"tecnologia/2022/12/19/63a011af22601dda648b4591"),i.ge(1))),i.cw(3,i.ps(4,"yodona/lifestyle/2022/12/19/639b475fe4d4d8547e8b4595"),i.ge(1))),i.cw(3,i.ps(4,"telva.com/navidad/regalos/album/2022/12/15/6398a7ed01a2f182458b45b4"),i.ge(1))),i.cw(3,i.ps(4,"telva.com/navidad/regalos/album/2022/12/21/63a01b1f01a2f180568b45a4"),i.ge(1))),i.cw(3,i.ps(4,"marca.com/tecnologia/2022/12/29/63ad5e3946163f5ea48b45a3"),i.ge(1))),i.cw(3,i.ps(4,"tecnologia/2022/12/07/63905c2321efa03b4c8b459b"),i.ge(1))),i.cw(3,i.ps(4,"cultura/2022/12/19/639d9e86fc6c836f0a8b4588"),i.ge(1))),i.cw(3,i.ps(4,"economia/ahorro-y-consumo/2022/12/30/63adb2bee4d4d8c32f8b458c"),i.ge(1))),i.cw(3,i.ps(4,"marca.com/tecnologia/2023/01/13/63c15de9e2704e44338b459b"),i.ge(1))),i.cw(3,i.ps(4,"telva.com/estilo-vida/2023/01/24/63cff0f401a2f124378b4639"),i.ge(1))),i.cw(3,i.ps(4,"album/yodona/lifestyle/2023/01/27/63c93578fc6c833c218b4570"),i.ge(1))),i.cw(3,i.ps(4,"tecnologia/gadgets/2023/01/27/63d2bda7fc6c83f60d8b457c"),i.ge(1))),i.cw(3,i.ps(4,"estilo-vida/album/2023/02/07/63e012a801a2f16f838b45d4"),i.ge(1))),i.cw(3,i.ps(4,"tecnologia/2023/02/15/63ed01a7268e3e9a3c8b45e0"),i.ge(1))),i.cw(3,i.ps(4,"estilo-vida/album/2023/03/13/6409a84002136e44208b45db"),i.ge(1))),3,i.ps(4,"estilo-vida/2023/03/23/641c173c02136eed518b464e"),3,i.ps(4,"album/yodona/lifestyle/2023/03/17/641438cee4d4d8fb7c8b45e4")),131415:i.r(7,4,13,3104956040),131596:i.r(7,5,13,3116471759),131890:i.r(7,5,14,6169174470),131891:i.r(6,5,14,[6264854151,6210391897]),131993:i.r(7,4,13,3117998056),134452:i.r(40,2592e6,21,i.ps(4,469),i.ps(4,469)),134599:i.r(20,4,"mibebeyyo.elmundo.es"),136198:i.r(37,"ueReg0011","136198"),136199:i.r(37,"ueReg0012","136199"),136200:i.r(37,"ueReg0010","136200"),136201:i.r(37,"ueReg0005","136201"),136202:i.r(37,"ueReg0006","136202"),136203:i.r(37,"ueReg0002","136203"),136204:i.r(37,"ueReg0008","136204"),136205:i.r(37,"ueReg0009","136205"),136207:i.r(37,"ueReg0004","136207"),136208:i.r(37,"ueReg0003","136208"),136209:i.r(37,"ueReg0001","136209"),136561:i.r(37,"ueReg0013","136561"),136562:i.r(37,"ueReg0014","136562"),136563:i.r(37,"ueReg0015","136563"),136564:i.r(37,"ueReg0016","136564"),136565:i.r(37,"ueReg0017","136565"),136566:i.r(37,"ueReg0018","136566"),136567:i.r(37,"ueReg0019","136567"),136568:i.r(37,"ueReg0020","136568"),136570:i.r(37,"ueReg0021","136570"),137319:i.r(20,4,"las-zonas-seguras-llegan-al-mundo-del-videojuego"),137549:i.r(17,9,[386,466]),137550:i.r(17,9,["farmaceutico","farmacéutico"]),137905:i.r(20,4,"el-37-por-100-de-los-jovenes-que-sufren-ciberbullying-lo-experimentan-a-traves-de-los-videojuegos"),139347:i.r(20,4,"en-los-casos-mas-graves-el-acoso-empieza-en-el-videojuego-pero-luego-transciende-a-otras-areas"),140869:i.r(7,3,15,"Yoigo"),140871:i.r(7,3,15,"Jazztel"),140872:i.r(17,15,["digi"]),140873:i.r(17,19,["movistar"]),141557:i.r(23,18,20,2003,2005),141558:i.r(23,21,24,1999,2002),141559:i.r(23,25,29,1994,1998),141560:i.r(23,30,34,1989,1993),141561:i.r(23,35,39,1984,1988),141562:i.r(23,40,44,1979,1983),141563:i.r(23,45,49,1974,1978),141564:i.r(23,50,54,1969,1973),141565:i.r(23,55,59,1964,1968),141566:i.r(23,60,63,1959,1960),141567:i.r(23,65,69,1954,1958),141569:i.r(23,70,74,1949,1953),141571:i.r(23,75,85,1937,1948),141574:i.r(20,4,"mibebeyyo.elmundo.es/embarazo"),141575:i.r(20,4,"mibebeyyo.elmundo.es/bebes"),141576:i.r(20,4,"mibebeyyo.elmundo.es/ninos"),142332:i.r(20,4,"asi-es-yellow-la-apuesta-por-la-robotica-para-la-seguridad-de-los-grandes-eventos"),142968:i.r(20,4,"6408622a268e3e49198b45c8"),143082:i.r(46,190,[384,2],138),143085:i.r(3,76,189,29,138,29,138),143086:i.r(47,75,29),143088:i.q(i.tw(i.cw(3,i.y(8,387),i.le(4)),2592e6)),143089:i.r(2,2592e6,2592e6,i.y(8,387),i.ge(5),3,i.y(8,387),i.le(26)),143091:i.r(45,i.y(8,387),27),143094:i.q(i.tw(i.cw(3,i.ps(4,385),i.e(1)),2592e6)),143096:i.r(45,i.ps(4,385),7),143105:i.r(2,2592e6,2592e6,i.ps(4,385),i.ge(2),3,i.ps(4,385),i.le(6)),145717:i.r(20,4,"ciberseguridad-claves-para-abordar-los-riesgos-que-plantea-la-digitalizacion"),146605:i.r(16,12,["real oviedo,segunda division","real-oviedo","oviedo","real oviedo"]),146607:i.r(16,12,["sporting-de-gijon","ud las palmas,sporting de gijon,segunda division","sporting de gijon,segunda division,futbol","sporting de gijon"]),146608:i.q(i.ocq(i.ocq(i.ocq(i.cw(3,i.ps(4,"uestudio/2023/02/13/63ea249a21efa070178b4592"),i.ge(1)),i.cw(3,i.ps(4,"uestudio/2022/09/09/631aff21fc6c83091b8b4579"),i.ge(1))),i.cw(3,i.ps(4,"uestudio/2022/03/04/6221d9b6e2704ec40e8b463b"),i.ge(1))),i.isp("unidad_ue_users","perID0001",!1,"146608"))),146741:i.r(49,193,240),146742:i.r(4,194,678,240,138,240,138),146743:i.r(48,679,240,90),146746:i.r(49,25,241),146747:i.r(4,26,79,241,138,241,138),146748:i.r(48,80,241,138),146749:i.r(49,166,244),146750:i.r(4,167,427,244,90,244,90),146751:i.r(48,428,244,90),146887:i.r(20,4,"64084c7f02136e46198b4579"),147113:i.r(20,4,"asi-estan-impactando-la-hiperautomatizacion-y-la-robotica-en-el-mercado-laboral"),147300:i.r(37,"perID0002","147300"),148108:i.r(20,4,"blockchain-y-la-nueva-normativa-que-cambiara-el-panorama-crypto"),148169:i.r(6,5,14,[6275319035,5932071319]),148259:i.r(7,5,13,3189683472),148892:i.q(i.cw(3,i.a([i.os(i.s,7,["medico joven","médico joven"]),i.os(i.s,9,[386,"mir",466])]),i.ge(1))),148893:i.r(16,12,[445,"Derma","dermatologicas","Dermatológicas"]),148894:i.r(11,184,["farmacia comunitaria","medicina familiar y comunitaria",453,"Farmacia Comunitaria"]),148895:i.r(12,["Geriatría","geriatria"]),148897:i.r(5,3,i.ref(162)),149176:i.r(20,4,"el-gran-reto-de-los-mayores-ante-un-mundo-cada-vez-mas-digitalizado"),149237:i.r(37,"ueReg0022","149237"),149684:i.r(20,4,"como-aprender-a-usar-la-tecnologia-de-forma-segura-para-evitar-ser-victima-de-un-ciberdelito"),150328:i.r(6,5,14,[5932071319,6275327174]),150456:i.r(20,4,"asi-ha-mejorado-la-videovigilancia-gracias-a-la-inteligencia-artificial"),153453:i.r(7,5,13,3201299941),153456:i.r(16,12,["ud las palmas,segunda division","ud-las-palmas","ud las palmas","las-palmas","las palmas"]),153651:i.r(20,4,"la-inteligencia-artificial-puede-hacer-del-mundo-un-lugar-mas-seguro-pero-como"),154087:i.r(6,5,14,[6308571791,6210391897]),154088:i.r(6,5,14,[5932071319,6274750273]),155425:i.r(19,16,452),155426:i.r(19,16,451),155797:i.r(28,147113,147113,142332,142332,145717,145717,153651,153651,148108,148108,150456,150456),60219:i.r(8,3),61780:i.r(19,16,451),61825:i.r(19,16,452),62698:i.r(8,4),64821:i.r(16,1,[103,55,239]),65455:i.r(41,90,1,1,131,131),65456:i.r(0,55,.71,1,1,1,131,131,131),65457:i.r(41,55,1,1,131,131),65464:i.r(41,50,1,1,159,159),65465:i.r(41,25,2,2,147,147),65466:i.r(41,55,0,0,34,34),65467:i.r(42,25,3,3,63,63),65468:i.r(41,30,1,1,166,166),65469:i.r(41,55,2,2,95,95),65470:i.r(41,25,0,0,157,157),65471:i.r(41,50,3,3,112,112),65472:i.r(41,30,1,1,5,5),65473:i.r(41,30,2,2,42,42),65474:i.r(41,45,0,0,154,154),65475:i.r(41,40,3,3,79,79),65476:i.r(41,40,1,1,149,149),65477:i.r(41,15,2,2,64,64),65478:i.r(41,30,0,0,94,94),65479:i.r(42,47,3,3,181,181),65480:i.r(41,30,1,1,101,101),65481:i.r(41,15,2,2,15,15),65482:i.r(41,40,0,0,179,179),65483:i.r(41,35,3,3,109,109),65484:i.r(41,45,1,1,92,92),65485:i.r(41,15,2,2,48,48),65486:i.r(41,35,0,0,38,38),65487:i.r(41,50,3,3,25,25),65488:i.r(41,55,1,1,150,150),65489:i.r(41,20,2,2,68,68),65490:i.r(42,40,0,0,12,12),65491:i.r(41,45,3,3,111,111),65492:i.r(41,30,1,1,41,41),65493:i.r(41,40,2,2,26,26),65494:i.r(41,40,0,0,51,51),65495:i.r(41,65,3,3,17,17),65496:i.r(41,60,1,1,183,183),65497:i.r(41,25,2,2,181,181),65498:i.r(41,50,0,0,50,50),65499:i.r(41,35,3,3,124,124),65500:i.r(41,75,1,1,8,8),65501:i.r(41,45,2,2,175,175),65502:i.r(42,36,0,0,51,51),65503:i.r(41,50,3,3,78,78),65504:i.r(41,35,1,1,126,126),65505:i.r(41,30,2,2,172,172),65506:i.r(41,35,0,0,182,182),65507:i.r(41,65,3,3,102,102),65508:i.r(41,40,1,1,12,12),65509:i.r(41,15,2,2,65,65),65510:i.r(41,55,0,0,153,153),65511:i.r(41,50,3,3,118,118),65512:i.r(41,55,1,1,52,52),65513:i.r(41,25,2,2,155,155),65514:i.r(41,40,0,0,4,4),65515:i.r(41,35,3,3,9,9),65516:i.r(41,45,1,1,116,116),65517:i.r(41,25,2,2,130,130),65518:i.r(41,45,0,0,146,146),65519:i.r(41,40,3,3,132,132),65520:i.r(41,70,1,1,89,89),65521:i.r(41,45,2,2,161,161),65522:i.r(42,30,0,0,46,46),65523:i.r(41,30,3,3,176,176),65524:i.r(41,60,1,1,33,33),65525:i.r(41,30,2,2,110,110),65526:i.r(41,55,0,0,117,117),65527:i.r(41,45,3,3,3,3),65528:i.r(41,55,1,1,87,87),65529:i.r(41,20,2,2,148,148),65530:i.r(41,35,0,0,99,99),65531:i.r(41,25,3,3,28,28),65532:i.r(41,55,1,1,11,11),65533:i.r(41,45,0,0,119,119),65534:i.r(41,60,1,1,120,120),65535:i.r(41,25,2,2,88,88),65536:i.r(41,35,0,0,134,134),65537:i.r(41,35,3,3,6,6),65538:i.r(41,25,1,1,7,7),65539:i.r(41,45,2,2,163,163),65540:i.r(41,35,1,1,18,18),65541:i.r(41,35,2,2,60,60),65542:i.r(41,40,0,0,136,136),65543:i.r(41,35,1,1,56,56),65544:i.r(41,35,2,2,139,139),65545:i.r(41,20,0,0,144,144),65546:i.r(41,55,3,3,43,43),65547:i.r(41,55,1,1,20,20),65548:i.r(41,20,2,2,45,45),65549:i.r(42,40,0,0,48,48),65550:i.r(41,35,3,3,156,156),65551:i.r(41,45,1,1,141,141),65552:i.r(41,20,2,2,49,49),65553:i.r(41,70,0,0,97,97),65554:i.r(41,15,3,3,170,170),65555:i.r(41,35,1,1,85,85),65556:i.r(41,20,2,2,44,44),65557:i.r(41,40,0,0,123,123),65558:i.r(41,40,3,3,122,122),65559:i.r(41,40,1,1,74,74),65560:i.r(41,20,2,2,137,137),65561:i.r(41,45,0,0,27,27),65562:i.r(32,60,.59,1,31,1,31,1,31),65563:i.r(32,40,.63,2,58,2,58,2,58),65564:i.r(41,45,0,0,62,62),65565:i.r(32,40,.65,3,30,3,30,3,30),65566:i.r(41,40,1,1,69,69),65567:i.r(41,30,2,2,0,0),65568:i.r(41,40,0,0,10,10),65569:i.r(42,60,3,3,172,172),65570:i.r(36,62,.2,1,133,1,133,1,133),65571:i.r(36,57,.4,0,107,0,107,0,107),65572:i.r(42,18,3,3,148,148),65573:i.r(0,50,.67,1,1,1,159,159,159),65574:i.r(0,20,.46,2,2,2,147,147,147),65575:i.r(0,50,.57,0,0,0,34,34,34),65576:i.r(1,30,.67,3,3,3,63,63,63),65577:i.r(0,30,.63,1,1,1,166,166,166),65578:i.r(0,55,.69,2,2,2,95,95,95),65579:i.r(0,25,.51,0,0,0,157,157,157),65580:i.r(0,50,.51,3,3,3,112,112,112),65581:i.r(0,30,.63,1,1,1,5,5,5),65582:i.r(0,30,.47,2,2,2,42,42,42),65583:i.r(0,45,.6,0,0,0,154,154,154),65584:i.r(0,25,.64,3,3,3,79,79,79),65585:i.r(0,40,.65,1,1,1,149,149,149),65586:i.r(0,15,.42,2,2,2,64,64,64),65587:i.r(0,30,.53,0,0,0,94,94,94),65588:i.r(1,47,.77,3,3,3,181,181,181),65589:i.r(0,30,.62,1,1,1,101,101,101),65590:i.r(0,15,.41,2,2,2,15,15,15),65591:i.r(0,40,.64,0,0,0,179,179,179),65592:i.r(0,35,.51,3,3,3,109,109,109),65593:i.r(0,45,.64,1,1,1,92,92,92),65594:i.r(0,15,.44,2,2,2,48,48,48),65595:i.r(0,35,.64,0,0,0,38,38,38),65596:i.r(0,50,.75,3,3,3,25,25,25),65597:i.r(0,55,.68,1,1,1,150,150,150),65598:i.r(0,20,.47,2,2,2,68,68,68),65599:i.r(1,40,.58,0,0,0,12,12,12),65600:i.r(0,45,.7,3,3,3,111,111,111),65601:i.r(0,30,.67,1,1,1,41,41,41),65602:i.r(0,40,.56,2,2,2,26,26,26),65603:i.r(0,40,.56,0,0,0,51,51,51),65604:i.r(0,65,.65,3,3,3,17,17,17),65605:i.r(0,60,.64,1,1,1,183,183,183),65606:i.r(0,25,.52,2,2,2,181,181,181),65607:i.r(0,50,.69,0,0,0,50,50,50),65608:i.r(0,35,.58,3,3,3,124,124,124),65609:i.r(41,75,1,1,8,8),65610:i.r(41,45,2,2,175,175),65611:i.r(42,36,0,0,51,51),65612:i.r(41,50,3,3,78,78),65613:i.r(0,35,.61,1,1,1,126,126,126),65614:i.r(0,30,.52,2,2,2,172,172,172),65615:i.r(0,35,.66,0,0,0,182,182,182),65616:i.r(0,65,.72,3,3,3,102,102,102),65617:i.r(0,40,.66,1,1,1,12,12,12),65618:i.r(0,15,.42,2,2,2,65,65,65),65619:i.r(0,55,.29,0,0,0,153,153,153),65620:i.r(0,50,.73,3,3,3,118,118,118),65621:i.r(0,55,.58,1,1,1,52,52,52),65622:i.r(0,25,.46,2,2,2,155,155,155),65623:i.r(0,40,.54,0,0,0,4,4,4),65624:i.r(0,35,.63,3,3,3,9,9,9),65625:i.r(0,45,.66,1,1,1,116,116,116),65626:i.r(0,25,.53,2,2,2,130,130,130),65627:i.r(0,45,.7,0,0,0,146,146,146),65628:i.r(0,40,.65,3,3,3,132,132,132),65629:i.r(0,70,.66,1,1,1,89,89,89),65630:i.r(0,45,.7,2,2,2,161,161,161),65631:i.r(1,30,.64,0,0,0,46,46,46),65632:i.r(0,30,.66,3,3,3,176,176,176),65633:i.r(0,60,.55,1,1,1,33,33,33),65634:i.r(0,30,.47,2,2,2,110,110,110),65635:i.r(0,55,.64,0,0,0,117,117,117),65636:i.r(0,45,.64,3,3,3,3,3,3),65637:i.r(0,55,.66,1,1,1,87,87,87),65638:i.r(0,20,.43,2,2,2,148,148,148),65639:i.r(0,30,.56,0,0,0,99,99,99),65640:i.r(0,15,.57,3,3,3,28,28,28),65641:i.r(0,55,.6,1,1,1,11,11,11),65642:i.r(0,45,.72,0,0,0,119,119,119),65643:i.r(0,60,.63,1,1,1,120,120,120),65644:i.r(0,25,.47,2,2,2,88,88,88),65645:i.r(0,35,.61,0,0,0,134,134,134),65646:i.r(0,35,.64,3,3,3,6,6,6),65647:i.r(0,25,.63,1,1,1,7,7,7),65648:i.r(0,45,.48,2,2,2,163,163,163),65649:i.r(0,35,.67,1,1,1,18,18,18),65650:i.r(0,35,.57,2,2,2,60,60,60),65651:i.r(0,40,.66,0,0,0,136,136,136),65652:i.r(0,35,.61,1,1,1,56,56,56),65653:i.r(0,35,.54,2,2,2,139,139,139),65654:i.r(0,20,.54,0,0,0,144,144,144),65655:i.r(0,55,.58,3,3,3,43,43,43),65656:i.r(0,55,.66,1,1,1,20,20,20),65657:i.r(0,20,.46,2,2,2,45,45,45),65658:i.r(1,40,.64,0,0,0,48,48,48),65659:i.r(0,35,.67,3,3,3,156,156,156),65660:i.r(0,45,.62,1,1,1,141,141,141),65661:i.r(0,20,.48,2,2,2,49,49,49),65662:i.r(0,70,.55,0,0,0,97,97,97),65663:i.r(0,15,.65,3,3,3,170,170,170),65664:i.r(0,35,.65,1,1,1,85,85,85),65665:i.r(0,20,.47,2,2,2,44,44,44),65666:i.r(0,40,.65,0,0,0,123,123,123),65667:i.r(0,40,.66,3,3,3,122,122,122),65668:i.r(0,40,.67,1,1,1,74,74,74),65669:i.r(0,20,.48,2,2,2,137,137,137),65670:i.r(0,45,.66,0,0,0,27,27,27),65671:i.r(0,60,.59,1,1,1,31,31,31),65672:i.r(0,40,.63,2,2,2,58,58,58),65673:i.r(0,45,.66,0,0,0,62,62,62),65674:i.r(0,40,.65,3,3,3,30,30,30),65675:i.r(0,40,.66,1,1,1,69,69,69),65676:i.r(0,20,.46,2,2,2,0,0,0),65677:i.r(0,20,.61,0,0,0,10,10,10),65678:i.r(1,60,.72,3,3,3,172,172,172),65679:i.r(0,20,.62,1,1,1,133,133,133),65680:i.r(0,40,.57,0,0,0,107,107,107),65681:i.r(1,75,.18,3,3,3,148,148,148),65682:i.r(41,100,1,1,159,159),65683:i.r(41,65,2,2,147,147),65684:i.r(41,100,0,0,34,34),65685:i.r(42,40,3,3,63,63),65686:i.r(41,85,1,1,166,166),65687:i.r(41,100,2,2,95,95),65688:i.r(41,50,0,0,157,157),65689:i.r(41,120,3,3,112,112),65690:i.r(41,70,1,1,5,5),65691:i.r(41,75,2,2,42,42),65692:i.r(41,75,0,0,154,154),65693:i.r(41,50,3,3,79,79),65694:i.r(41,80,1,1,149,149),65695:i.r(41,30,2,2,64,64),65696:i.r(41,65,0,0,94,94),65697:i.r(42,80,3,3,181,181),65698:i.r(41,70,1,1,101,101),65699:i.r(41,30,2,2,15,15),65700:i.r(41,65,0,0,179,179),65701:i.r(41,80,3,3,109,109),65702:i.r(41,90,1,1,92,92),65703:i.r(41,35,2,2,48,48),65704:i.r(41,60,0,0,38,38),65705:i.r(41,80,3,3,25,25),65706:i.r(41,110,1,1,150,150),65707:i.r(41,50,2,2,68,68),65708:i.r(42,65,0,0,12,12),65709:i.r(41,70,3,3,111,111),65710:i.r(41,65,1,1,41,41),65711:i.r(41,80,2,2,26,26),65712:i.r(41,75,0,0,51,51),65713:i.r(41,125,3,3,17,17),65714:i.r(41,115,1,1,183,183),65715:i.r(41,65,2,2,181,181),65716:i.r(41,85,0,0,50,50),65717:i.r(0,70,.77,3,3,3,124,124,124),65718:i.r(41,135,1,1,8,8),65719:i.r(41,100,2,2,175,175),65720:i.r(42,65,0,0,51,51),65721:i.r(41,95,3,3,78,78),65722:i.r(41,75,1,1,126,126),65723:i.r(41,80,2,2,172,172),65724:i.r(41,80,0,0,182,182),65725:i.r(41,115,3,3,102,102),65726:i.r(41,90,1,1,12,12),65727:i.r(41,30,2,2,65,65),65728:i.r(41,125,0,0,153,153),65729:i.r(41,87,3,3,118,118),65730:i.r(41,120,1,1,52,52),65731:i.r(41,55,2,2,155,155),65732:i.r(41,85,0,0,4,4),65733:i.r(41,80,3,3,9,9),65734:i.r(41,95,1,1,116,116),65735:i.r(41,55,2,2,130,130),65736:i.r(41,90,0,0,146,146),65737:i.r(41,80,3,3,132,132),65738:i.r(41,135,1,1,89,89),65739:i.r(41,90,2,2,161,161),65740:i.r(42,55,0,0,46,46),65741:i.r(41,70,3,3,176,176),65742:i.r(41,155,1,1,33,33),65743:i.r(41,70,2,2,110,110),65744:i.r(41,95,0,0,117,117),65745:i.r(41,105,3,3,3,3),65746:i.r(0,125,.8,1,1,1,87,87,87),65747:i.r(41,45,2,2,148,148),65748:i.r(41,55,0,0,99,99),65749:i.r(41,30,3,3,28,28),65750:i.r(41,130,1,1,11,11),65751:i.r(41,70,0,0,119,119),65752:i.r(41,120,1,1,120,120),65753:i.r(41,50,2,2,88,88),65754:i.r(41,65,0,0,134,134),65755:i.r(41,65,3,3,6,6),65756:i.r(41,55,1,1,7,7),65757:i.r(41,95,2,2,163,163),65758:i.r(41,70,1,1,18,18),65759:i.r(41,70,2,2,60,60),65760:i.r(41,65,0,0,136,136),65761:i.r(41,70,1,1,56,56),65762:i.r(41,65,2,2,139,139),65763:i.r(41,50,0,0,144,144),65764:i.r(41,130,3,3,43,43),65765:i.r(41,120,1,1,20,20),65766:i.r(41,55,2,2,45,45),65767:i.r(42,60,0,0,48,48),65768:i.r(41,70,3,3,156,156),65769:i.r(41,100,1,1,141,141),65770:i.r(41,50,2,2,49,49),65771:i.r(41,175,0,0,97,97),65772:i.r(41,30,3,3,170,170),65773:i.r(41,85,1,1,85,85),65774:i.r(41,50,2,2,44,44),65775:i.r(41,100,0,0,123,123),65776:i.r(41,85,3,3,122,122),65777:i.r(41,75,1,1,74,74),65778:i.r(41,45,2,2,137,137),65779:i.r(41,75,0,0,27,27),65780:i.r(41,115,1,1,31,31),65781:i.r(41,75,2,2,58,58),65782:i.r(41,80,0,0,62,62),65783:i.r(41,70,3,3,30,30),65784:i.r(41,75,1,1,69,69),65785:i.r(41,60,2,2,0,0),65786:i.r(41,40,0,0,10,10),65787:i.r(42,85,3,3,172,172),65788:i.r(41,35,1,1,133,133),65789:i.r(41,80,0,0,107,107),65790:i.r(42,110,3,3,148,148),65965:i.r(29,65467,65467,65466,65466,65465,65465,65464,65464),65966:i.r(29,65471,65471,65470,65470,65469,65469,65468,65468),65967:i.r(29,65475,65475,65474,65474,65473,65473,65472,65472),65968:i.r(29,65479,65479,65478,65478,65477,65477,65476,65476),65969:i.r(29,65483,65483,65482,65482,65481,65481,65480,65480),65970:i.r(29,65487,65487,65486,65486,65485,65485,65484,65484),65971:i.r(29,65491,65491,65490,65490,65489,65489,65488,65488),65972:i.r(29,65495,65495,65494,65494,65493,65493,65492,65492),65973:i.r(29,65499,65499,65498,65498,65497,65497,65496,65496),65974:i.r(29,65503,65503,65502,65502,65501,65501,65500,65500),65975:i.r(29,65507,65507,65506,65506,65505,65505,65504,65504),65976:i.r(29,65511,65511,65510,65510,65509,65509,65508,65508),65977:i.r(29,65515,65515,65514,65514,65513,65513,65512,65512),65978:i.r(29,65519,65519,65518,65518,65517,65517,65516,65516),65979:i.r(29,65523,65523,65522,65522,65521,65521,65520,65520),65980:i.r(29,65527,65527,65526,65526,65525,65525,65524,65524),65981:i.r(29,65531,65531,65530,65530,65529,65529,65528,65528),65982:i.r(31,65532,65532,65533,65533),65983:i.r(29,65537,65537,65536,65536,65535,65535,65534,65534),65984:i.r(31,65538,65538,65539,65539),65985:i.r(30,65542,65542,65541,65541,65540,65540),65986:i.r(29,65546,65546,65545,65545,65544,65544,65543,65543),65987:i.r(29,65550,65550,65549,65549,65548,65548,65547,65547),65988:i.r(29,65554,65554,65553,65553,65552,65552,65551,65551),65989:i.r(29,65558,65558,65557,65557,65556,65556,65555,65555),65990:i.r(30,65561,65561,65560,65560,65559,65559),65991:i.r(29,65565,65565,65564,65564,65563,65563,65562,65562),65992:i.r(29,65569,65569,65568,65568,65567,65567,65566,65566),65993:i.r(30,65572,65572,65571,65571,65570,65570),65994:i.r(29,65576,65576,65575,65575,65574,65574,65573,65573),65995:i.r(29,65580,65580,65579,65579,65578,65578,65577,65577),65996:i.r(29,65584,65584,65583,65583,65582,65582,65581,65581),65997:i.r(29,65588,65588,65587,65587,65586,65586,65585,65585),65998:i.r(29,65592,65592,65591,65591,65590,65590,65589,65589),65999:i.r(29,65596,65596,65595,65595,65594,65594,65593,65593),66e3:i.r(29,65600,65600,65599,65599,65598,65598,65597,65597),66001:i.r(29,65604,65604,65603,65603,65602,65602,65601,65601),66002:i.r(29,65608,65608,65607,65607,65606,65606,65605,65605),66003:i.r(29,65612,65612,65611,65611,65610,65610,65609,65609),66004:i.r(29,65616,65616,65615,65615,65614,65614,65613,65613),66005:i.r(29,65620,65620,65619,65619,65618,65618,65617,65617),66006:i.r(29,65624,65624,65623,65623,65622,65622,65621,65621),66007:i.r(29,65628,65628,65627,65627,65626,65626,65625,65625),66008:i.r(29,65632,65632,65631,65631,65630,65630,65629,65629),66009:i.r(29,65636,65636,65635,65635,65634,65634,65633,65633),66010:i.r(29,65640,65640,65639,65639,65638,65638,65637,65637),66011:i.r(31,65641,65641,65642,65642),66012:i.r(29,65646,65646,65645,65645,65644,65644,65643,65643),66013:i.r(31,65647,65647,65648,65648),66014:i.r(30,65651,65651,65650,65650,65649,65649),66015:i.r(29,65655,65655,65654,65654,65653,65653,65652,65652),66016:i.r(29,65659,65659,65658,65658,65657,65657,65656,65656),66017:i.r(29,65663,65663,65662,65662,65661,65661,65660,65660),66018:i.r(29,65667,65667,65666,65666,65665,65665,65664,65664),66019:i.r(30,65670,65670,65669,65669,65668,65668),66020:i.r(29,65674,65674,65673,65673,65672,65672,65671,65671),66021:i.r(29,65678,65678,65677,65677,65676,65676,65675,65675),66022:i.r(30,65681,65681,65680,65680,65679,65679),66023:i.r(29,65685,65685,65684,65684,65683,65683,65682,65682),66024:i.r(29,65689,65689,65688,65688,65687,65687,65686,65686),66025:i.r(29,65693,65693,65692,65692,65691,65691,65690,65690),66026:i.r(29,65697,65697,65696,65696,65695,65695,65694,65694),66027:i.r(29,65701,65701,65700,65700,65699,65699,65698,65698),66028:i.r(29,65705,65705,65704,65704,65703,65703,65702,65702),66029:i.r(29,65709,65709,65708,65708,65707,65707,65706,65706),66030:i.r(29,65713,65713,65712,65712,65711,65711,65710,65710),66031:i.r(29,65717,65717,65716,65716,65715,65715,65714,65714),66032:i.r(29,65721,65721,65720,65720,65719,65719,65718,65718),66033:i.r(29,65725,65725,65724,65724,65723,65723,65722,65722),66034:i.r(29,65729,65729,65728,65728,65727,65727,65726,65726),66035:i.r(29,65733,65733,65732,65732,65731,65731,65730,65730),66036:i.r(29,65737,65737,65736,65736,65735,65735,65734,65734),66037:i.r(29,65741,65741,65740,65740,65739,65739,65738,65738),66038:i.r(29,65745,65745,65744,65744,65743,65743,65742,65742),66039:i.r(29,65749,65749,65748,65748,65747,65747,65746,65746),66040:i.r(31,65750,65750,65751,65751),66041:i.r(29,65755,65755,65754,65754,65753,65753,65752,65752),66042:i.r(31,65756,65756,65757,65757),66043:i.r(30,65760,65760,65759,65759,65758,65758),66044:i.r(29,65764,65764,65763,65763,65762,65762,65761,65761),66045:i.r(29,65768,65768,65767,65767,65766,65766,65765,65765),66046:i.r(29,65772,65772,65771,65771,65770,65770,65769,65769),66047:i.r(29,65776,65776,65775,65775,65774,65774,65773,65773),66048:i.r(30,65779,65779,65778,65778,65777,65777),66049:i.r(29,65783,65783,65782,65782,65781,65781,65780,65780),66050:i.r(29,65787,65787,65786,65786,65785,65785,65784,65784),66051:i.r(30,65790,65790,65789,65789,65788,65788),66156:i.r(7,3,17,"PREMIUM"),66157:i.r(19,17,397),66224:i.r(9,i.y(9,386),7,["Medicina Urgencias","medicina urgencias"]),66693:i.r(15,184,"Farmacia Hospitalaria"),66696:i.r(54,.4),66697:i.r(54,.7),66704:i.r(17,19,["orange"]),66705:i.r(17,19,["telefonica"]),66706:i.r(20,19,"Vodafone"),66987:i.r(7,4,13,2829319110),67013:i.r(20,4,"https://www.elmundo.es/ciencia-y-salud/medio-ambiente"),71507:i.r(42,40,0,0,104,104),71508:i.r(42,50,0,0,370,370),71509:i.r(42,50,0,0,57,57),71510:i.r(41,55,1,1,40,40),71511:i.r(42,60,0,0,26,26),71512:i.r(41,35,1,1,70,70),71513:i.r(42,42,0,0,27,27),71514:i.r(41,40,1,1,71,71),71515:i.r(41,20,2,2,71,71),71516:i.r(42,35,0,0,17,17),71517:i.r(41,40,1,1,168,168),71518:i.r(41,30,2,2,168,168),71519:i.r(42,36,0,0,4,4),71520:i.r(42,60,3,3,4,4),71521:i.r(41,35,1,1,115,115),71522:i.r(42,35,0,0,11,11),71523:i.r(41,35,1,1,128,128),71524:i.r(41,50,0,0,185,185),71525:i.r(41,30,2,2,129,129),71526:i.r(41,30,1,1,83,83),71527:i.r(41,31,0,0,103,103),71528:i.r(41,30,1,1,125,125),71529:i.r(41,40,0,0,158,158),71530:i.r(41,50,1,1,66,66),71531:i.r(42,70,0,0,140,140),71532:i.r(41,70,1,1,55,55),71533:i.r(41,35,0,0,135,135),71534:i.r(42,35,0,0,58,58),71535:i.r(41,50,1,1,160,160),71536:i.r(42,50,0,0,12,12),71537:i.r(42,40,0,0,206,206),71538:i.r(41,45,1,1,1,1),71539:i.r(41,40,0,0,106,106),71540:i.r(41,50,1,1,105,105),71541:i.r(41,50,0,0,46,46),71542:i.r(41,55,1,1,67,67),71543:i.r(41,57,0,0,104,104),71544:i.r(41,45,1,1,145,145),71545:i.r(41,50,0,0,35,35),71546:i.r(41,25,1,1,86,86),71547:i.r(42,33,0,0,51,51),71548:i.r(41,35,1,1,93,93),71549:i.r(42,45,0,0,232,232),71550:i.r(42,75,0,0,135,135),71551:i.r(41,25,0,0,174,174),71552:i.r(41,20,1,1,121,121),71553:i.r(42,90,1,1,375,375),71554:i.r(41,35,1,1,19,19),71555:i.r(41,35,1,1,127,127),71556:i.r(41,30,2,2,77,77),71557:i.r(42,40,0,0,7,7),71558:i.r(41,25,1,1,73,73),71559:i.r(42,72,0,0,13,13),71560:i.r(41,35,1,1,165,165),71561:i.r(42,25,0,0,68,68),71562:i.r(41,55,1,1,98,98),71563:i.r(41,30,2,2,98,98),71564:i.r(42,50,0,0,18,18),71565:i.r(42,35,0,0,212,212),71566:i.r(42,25,0,0,377,377),71567:i.r(41,45,1,1,113,113),71568:i.r(41,20,2,2,113,113),71569:i.r(42,48,0,0,8,8),71570:i.r(41,55,1,1,82,82),71571:i.r(41,30,2,2,82,82),71572:i.r(42,65,0,0,5,5),71573:i.r(41,55,3,3,177,177),71574:i.r(41,30,1,1,75,75),71575:i.r(42,43,0,0,69,69),71576:i.r(41,35,1,1,53,53),71577:i.r(41,20,2,2,53,53),71578:i.r(42,50,0,0,6,6),71579:i.r(41,45,1,1,84,84),71580:i.r(41,20,2,2,84,84),71581:i.r(42,25,0,0,16,16),71582:i.r(41,30,1,1,180,180),71583:i.r(41,45,1,1,167,167),71584:i.r(42,35,0,0,71,71),71585:i.r(41,30,1,1,142,142),71586:i.r(42,31,0,0,108,108),71587:i.r(41,45,1,1,80,80),71588:i.r(42,42,0,0,52,52),71589:i.r(42,35,3,3,52,52),71590:i.r(42,40,0,0,109,109),71591:i.r(41,40,1,1,151,151),71592:i.r(41,25,2,2,140,140),71593:i.r(42,50,0,0,53,53),71594:i.r(41,35,1,1,72,72),71595:i.r(41,50,0,0,61,61),71596:i.r(41,50,0,0,114,114),71597:i.r(41,46,0,0,171,171),71598:i.r(42,17,0,0,60,60),71599:i.r(41,50,1,1,164,164),71600:i.r(41,20,1,1,36,36),71601:i.r(42,43,0,0,14,14),71602:i.r(41,30,1,1,54,54),71603:i.r(41,25,1,1,16,16),71604:i.r(42,70,0,0,72,72),71605:i.r(41,40,1,1,81,81),71606:i.r(42,60,0,0,73,73),71607:i.r(42,45,0,0,112,112),71608:i.r(41,40,1,1,76,76),71609:i.r(42,60,0,0,15,15),71610:i.r(42,30,0,0,61,61),71611:i.r(42,40,0,0,62,62),71612:i.r(42,30,0,0,113,113),71613:i.r(42,26,0,0,217,217),71614:i.r(41,55,1,1,91,91),71615:i.r(42,80,0,0,34,34),71616:i.r(41,45,1,1,178,178),71617:i.r(42,50,0,0,74,74),71618:i.r(41,40,1,1,13,13),71619:i.r(41,30,0,0,152,152),71620:i.r(41,45,3,3,23,23),71621:i.r(41,50,0,0,187,187),71622:i.r(41,55,1,1,2,2),71623:i.r(41,10,0,0,169,169),71624:i.r(41,50,1,1,24,24),71625:i.r(41,37,0,0,22,22),71626:i.r(41,30,1,1,173,173),71627:i.r(41,30,2,2,108,108),71628:i.r(41,35,0,0,143,143),71629:i.r(41,50,1,1,63,63),71630:i.r(42,55,0,0,22,22),71631:i.r(42,30,0,0,219,219),71632:i.r(41,45,1,1,96,96),71633:i.r(42,25,0,0,66,66),71634:i.r(41,45,1,1,57,57),71635:i.r(42,45,0,0,36,36),71636:i.r(41,40,1,1,32,32),71637:i.r(41,30,2,2,14,14),71638:i.r(42,38,0,0,19,19),71639:i.r(42,35,0,0,102,102),71640:i.r(42,95,0,0,104,104),71641:i.r(42,80,0,0,370,370),71642:i.r(42,109,0,0,57,57),71643:i.r(41,100,1,1,40,40),71644:i.r(42,135,0,0,26,26),71645:i.r(41,70,1,1,70,70),71646:i.r(42,80,0,0,27,27),71647:i.r(41,80,1,1,71,71),71648:i.r(41,55,2,2,71,71),71649:i.r(42,70,0,0,17,17),71650:i.r(41,105,1,1,168,168),71651:i.r(41,75,2,2,168,168),71652:i.r(42,80,0,0,4,4),71653:i.r(42,110,3,3,4,4),71654:i.r(41,80,1,1,115,115),71655:i.r(42,63,0,0,11,11),71656:i.r(41,85,1,1,128,128),71657:i.r(41,80,0,0,185,185),71658:i.r(41,50,2,2,129,129),71659:i.r(41,70,1,1,83,83),71660:i.r(41,50,0,0,103,103),71661:i.r(41,65,1,1,125,125),71662:i.r(41,75,0,0,158,158),71663:i.r(41,95,1,1,66,66),71664:i.r(42,108,0,0,140,140),71665:i.r(41,140,1,1,55,55),71666:i.r(41,65,0,0,135,135),71667:i.r(42,50,0,0,58,58),71668:i.r(41,140,1,1,160,160),71669:i.r(42,115,0,0,12,12),71670:i.r(42,65,0,0,206,206),71671:i.r(41,90,1,1,1,1),71672:i.r(41,65,0,0,106,106),71673:i.r(41,95,1,1,105,105),71674:i.r(41,80,0,0,46,46),71675:i.r(41,110,1,1,67,67),71676:i.r(41,104,0,0,104,104),71677:i.r(41,90,1,1,145,145),71678:i.r(41,81,0,0,35,35),71679:i.r(41,60,1,1,86,86),71680:i.r(42,70,0,0,51,51),71681:i.r(41,65,1,1,93,93),71682:i.r(42,65,0,0,232,232),71683:i.r(42,110,0,0,135,135),71684:i.r(41,47,0,0,174,174),71685:i.r(41,50,1,1,121,121),71686:i.r(42,125,1,1,375,375),71687:i.r(41,80,1,1,19,19),71688:i.r(41,80,1,1,127,127),71689:i.r(41,80,2,2,77,77),71690:i.r(42,75,0,0,7,7),71691:i.r(41,55,1,1,73,73),71692:i.r(42,131,0,0,13,13),71693:i.r(41,60,1,1,165,165),71694:i.r(42,50,0,0,68,68),71695:i.r(41,135,1,1,98,98),71696:i.r(41,85,2,2,98,98),71697:i.r(42,110,0,0,18,18),71698:i.r(42,62,0,0,212,212),71699:i.r(42,45,0,0,377,377),71700:i.r(41,110,1,1,113,113),71701:i.r(41,45,2,2,113,113),71702:i.r(42,94,0,0,8,8),71703:i.r(41,150,1,1,82,82),71704:i.r(41,75,2,2,82,82),71705:i.r(42,155,0,0,5,5),71706:i.r(41,105,3,3,177,177),71707:i.r(41,55,1,1,75,75),71708:i.r(42,75,0,0,69,69),71709:i.r(41,75,1,1,53,53),71710:i.r(41,55,2,2,53,53),71711:i.r(42,90,0,0,6,6),71712:i.r(41,85,1,1,84,84),71713:i.r(41,45,2,2,84,84),71714:i.r(42,40,0,0,16,16),71715:i.r(41,155,1,1,180,180),71716:i.r(41,95,1,1,167,167),71717:i.r(42,74,0,0,71,71),71718:i.r(41,55,1,1,142,142),71719:i.r(42,50,0,0,108,108),71720:i.r(41,75,1,1,80,80),71721:i.r(42,75,0,0,52,52),71722:i.r(42,70,3,3,52,52),71723:i.r(42,65,0,0,109,109),71724:i.r(41,80,1,1,151,151),71725:i.r(41,70,2,2,140,140),71726:i.r(42,75,0,0,53,53),71727:i.r(41,75,1,1,72,72),71728:i.r(41,88,0,0,61,61),71729:i.r(41,80,0,0,114,114),71730:i.r(41,71,0,0,171,171),71731:i.r(42,36,0,0,60,60),71732:i.r(41,90,1,1,164,164),71733:i.r(41,45,1,1,36,36),71734:i.r(42,75,0,0,14,14),71735:i.r(41,70,1,1,54,54),71736:i.r(41,60,1,1,16,16),71737:i.r(42,175,0,0,72,72),71738:i.r(41,85,1,1,81,81),71739:i.r(42,149,0,0,73,73),71740:i.r(42,100,0,0,112,112),71741:i.r(41,75,1,1,76,76),71742:i.r(42,110,0,0,15,15),71743:i.r(42,55,0,0,61,61),71744:i.r(42,85,0,0,62,62),71745:i.r(42,55,0,0,113,113),71746:i.r(42,45,0,0,217,217),71747:i.r(41,125,1,1,91,91),71748:i.r(42,260,0,0,34,34),71749:i.r(41,85,1,1,178,178),71750:i.r(42,95,0,0,74,74),71751:i.r(41,85,1,1,13,13),71752:i.r(41,55,0,0,152,152),71753:i.r(41,110,3,3,23,23),71754:i.r(41,80,0,0,187,187),71755:i.r(41,150,1,1,2,2),71756:i.r(41,25,0,0,169,169),71757:i.r(41,80,1,1,24,24),71758:i.r(41,74,0,0,22,22),71759:i.r(41,65,1,1,173,173),71760:i.r(41,55,2,2,108,108),71761:i.r(41,60,0,0,143,143),71762:i.r(41,105,1,1,63,63),71763:i.r(42,90,0,0,22,22),71764:i.r(42,85,0,0,219,219),71765:i.r(41,75,1,1,96,96),71766:i.r(42,55,0,0,66,66),71767:i.r(41,85,1,1,57,57),71768:i.r(42,70,0,0,36,36),71769:i.r(41,90,1,1,32,32),71770:i.r(41,70,2,2,14,14),71771:i.r(42,80,0,0,19,19),71772:i.r(42,94,0,0,102,102),71899:i.r(39,71507,71507),71900:i.r(39,71508,71508),71901:i.r(39,71509,71509),71902:i.r(31,71510,71510,71511,71511),71903:i.r(31,71512,71512,71513,71513),71904:i.r(30,71519,71519,71515,71515,71514,71514),71915:i.r(31,71521,71521,71522,71522),71916:i.r(31,71523,71523,71524,71524),71917:i.r(39,71525,71525),71918:i.r(39,71526,71526),71919:i.r(39,71527,71527),71920:i.r(31,71528,71528,71529,71529),71921:i.r(31,71530,71530,71531,71531),71922:i.r(31,71532,71532,71533,71533),71923:i.r(39,71534,71534),71924:i.r(31,71535,71535,71536,71536),71925:i.r(39,71537,71537),71926:i.r(39,71538,71538),71927:i.r(39,71539,71539),71928:i.r(31,71540,71540,71541,71541),71929:i.r(31,71542,71542,71543,71543),71930:i.r(31,71544,71544,71545,71545),71931:i.r(39,71549,71549),71932:i.r(39,71550,71550),71933:i.r(31,71546,71546,71547,71547),71934:i.r(39,71548,71548),71935:i.r(39,71551,71551),71936:i.r(39,71552,71552),71937:i.r(39,71553,71553),71938:i.r(39,71554,71554),71939:i.r(30,71557,71557,71556,71556,71555,71555),71948:i.r(31,71558,71558,71559,71559),71949:i.r(31,71560,71560,71561,71561),71950:i.r(39,71566,71566),71951:i.r(39,71565,71565),71952:i.r(31,71574,71574,71575,71575),71953:i.r(39,71582,71582),71954:i.r(31,71583,71583,71584,71584),71955:i.r(39,71585,71585),71956:i.r(39,71586,71586),71957:i.r(39,71590,71590),71958:i.r(31,71594,71594,71595,71595),71959:i.r(39,71596,71596),71960:i.r(39,71597,71597),71961:i.r(39,71598,71598),71962:i.r(39,71599,71599),71963:i.r(31,71600,71600,71601,71601),71964:i.r(39,71602,71602),71965:i.r(31,71603,71603,71604,71604),71966:i.r(31,71605,71605,71606,71606),71967:i.r(39,71607,71607),71968:i.r(31,71608,71608,71609,71609),71969:i.r(39,71610,71610),71970:i.r(39,71611,71611),71971:i.r(39,71612,71612),71972:i.r(39,71613,71613),71973:i.r(31,71614,71614,71615,71615),71974:i.r(31,71616,71616,71617,71617),71975:i.r(39,71621,71621),71976:i.r(39,71622,71622),71977:i.r(39,71623,71623),71978:i.r(31,71624,71624,71625,71625),71979:i.r(31,71629,71629,71630,71630),71980:i.r(39,71631,71631),71981:i.r(31,71632,71632,71633,71633),71982:i.r(31,71634,71634,71635,71635),71983:i.r(39,71639,71639),71984:i.r(39,71640,71640),71985:i.r(39,71641,71641),71986:i.r(39,71642,71642),71987:i.r(31,71643,71643,71644,71644),71988:i.r(31,71645,71645,71646,71646),71989:i.r(31,71654,71654,71655,71655),71990:i.r(31,71656,71656,71657,71657),71991:i.r(39,71658,71658),71992:i.r(39,71659,71659),71993:i.r(39,71660,71660),71994:i.r(31,71661,71661,71662,71662),71995:i.r(31,71663,71663,71664,71664),71996:i.r(31,71665,71665,71666,71666),71997:i.r(39,71667,71667),71998:i.r(31,71668,71668,71669,71669),71999:i.r(39,71670,71670),72e3:i.r(39,71671,71671),72001:i.r(39,71672,71672),72002:i.r(31,71673,71673,71674,71674),72003:i.r(31,71675,71675,71676,71676),72004:i.r(31,71677,71677,71678,71678),72005:i.r(39,71682,71682),72006:i.r(39,71683,71683),72007:i.r(31,71679,71679,71680,71680),72008:i.r(39,71681,71681),72009:i.r(39,71684,71684),72010:i.r(39,71685,71685),72011:i.r(39,71686,71686),72012:i.r(39,71687,71687),72013:i.r(31,71691,71691,71692,71692),72014:i.r(31,71693,71693,71694,71694),72015:i.r(39,71699,71699),72016:i.r(39,71698,71698),72017:i.r(31,71707,71707,71708,71708),72018:i.r(39,71715,71715),72019:i.r(31,71716,71716,71717,71717),72020:i.r(39,71718,71718),72021:i.r(39,71719,71719),72022:i.r(39,71723,71723),72023:i.r(31,71727,71727,71728,71728),72024:i.r(39,71729,71729),72025:i.r(39,71730,71730),72026:i.r(39,71731,71731),72027:i.r(39,71732,71732),72028:i.r(31,71733,71733,71734,71734),72029:i.r(39,71735,71735),72030:i.r(31,71736,71736,71737,71737),72031:i.r(31,71738,71738,71739,71739),72032:i.r(39,71740,71740),72033:i.r(31,71741,71741,71742,71742),72034:i.r(39,71743,71743),72035:i.r(39,71744,71744),72036:i.r(39,71745,71745),72037:i.r(39,71746,71746),72038:i.r(31,71747,71747,71748,71748),72039:i.r(31,71749,71749,71750,71750),72040:i.r(39,71754,71754),72041:i.r(39,71755,71755),72042:i.r(39,71756,71756),72043:i.r(31,71757,71757,71758,71758),72044:i.r(31,71762,71762,71763,71763),72045:i.r(39,71764,71764),72046:i.r(31,71765,71765,71766,71766),72047:i.r(31,71767,71767,71768,71768),72048:i.r(39,71772,71772),72049:i.r(29,71520,71520,71519,71519,71518,71518,71517,71517),72053:i.r(30,71564,71564,71563,71563,71562,71562),72054:i.r(30,71569,71569,71568,71568,71567,71567),72055:i.r(29,71573,71573,71572,71572,71571,71571,71570,71570),72056:i.r(30,71578,71578,71577,71577,71576,71576),72057:i.r(30,71581,71581,71580,71580,71579,71579),72058:i.r(30,71589,71589,71588,71588,71587,71587),72059:i.r(30,71593,71593,71592,71592,71591,71591),72060:i.r(30,71620,71620,71619,71619,71618,71618),72061:i.r(30,71628,71628,71627,71627,71626,71626),72062:i.r(30,71638,71638,71637,71637,71636,71636),72063:i.r(30,71649,71649,71648,71648,71647,71647),72064:i.r(29,71653,71653,71652,71652,71651,71651,71650,71650),72065:i.r(30,71690,71690,71689,71689,71688,71688),72066:i.r(30,71697,71697,71696,71696,71695,71695),72067:i.r(30,71702,71702,71701,71701,71700,71700),72068:i.r(29,71706,71706,71705,71705,71704,71704,71703,71703),72069:i.r(30,71711,71711,71710,71710,71709,71709),72070:i.r(30,71714,71714,71713,71713,71712,71712),72071:i.r(30,71722,71722,71721,71721,71720,71720),72072:i.r(30,71726,71726,71725,71725,71724,71724),72073:i.r(30,71753,71753,71752,71752,71751,71751),72074:i.r(30,71761,71761,71760,71760,71759,71759),72075:i.r(30,71771,71771,71770,71770,71769,71769),72681:i.r(40,24192e5,45,i.ref(21),i.ref(21)),72711:i.r(13,186,445),73164:i.r(14,"Inmunología"),73165:i.q(i.cw(3,i.a([i.y(7,453),i.y(9,145)]),i.ge(1))),73166:i.r(14,"Medicina Preventiva y Salud Pública"),73965:i.r(14,"Alergología"),75936:i.r(15,186,"Aparato Digestivo"),75937:i.r(15,186,"Reumatología"),76469:i.r(15,186,"Cardiología"),77498:i.r(20,4,"telva.com/bienestar"),79652:i.r(20,4,"https://compartiendoconocimiento.elmundo.es/"),83156:i.q(i.tw(i.cw(3,i.os(i.cx,12,["disney-plus",398,"amazon-prime-video","amazon prime video","HBO","hbo","Netflix,YouTube,Facebook,Televisión","Netflix","netflix"]),i.ge(1)),7776e6)),85242:i.r(38,"887643018085060608","85242"),85663:i.r(16,12,["dolor de garganta","Dolor de garganta","Gripe","enfermedad invierno","deporte vida saludable","vida saludable invierno","sistema inmune","alimentos invierno","vacunación gripe","dolor de cabeza","laringitis","faringitis","sinusitis","congestión nasal","catarro","gripe","frio","Frío","Invierno","invierno"]),85747:i.r(19,17,397),86061:i.r(43,477,468,468),86062:i.r(43,387,461,461),86063:i.r(43,209,458,458),86166:i.r(38,"874671873416417280","86166"),86167:i.r(38,"882943877849706496","86167"),87447:i.r(38,"874672089828925440","87447"),87682:i.r(7,6,18,"menos de una"),87820:i.r(21,["la2","la1"]),87821:i.r(21,["sexta","a3"]),88179:i.r(6,5,13,[2918019523,2916854827,2917347341,2916483298]),88695:i.r(19,17,397),89077:i.r(44,65,10,464,10,464),89079:i.r(44,87,5,460,5,460),89081:i.r(44,65,5,465,5,465),89082:i.r(44,87,10,463,10,463),89083:i.r(44,94,5,459,5,459),89086:i.r(44,65,5,457,5,457),93629:i.r(38,"874672436500733952","93629"),94125:i.r(53,"betis"),94126:i.r(53,"sevilla"),94127:i.r(53,"euroliga"),94128:i.r(53,"nba"),94129:i.r(53,"acb"),97266:i.r(24,"dw0001","97266","los-eternos-los-nuevos-heroes-que-llegan-para-poner-el-universo-marvel-patas-arriba"),97267:i.r(24,"dw0002","97267","dopesick"),97849:i.r(20,4,"de-los-beatles-a-billie-eilish-la-edad-dorada-del-documental-musica"),97851:i.r(5,3,i.as(i.s,4,["index","masdeloqueimaginas"])),98385:i.r(7,3,15,"Euskaltel"),98608:i.r(16,12,["Agenda 2030","Sostenible","ODS","Emisiones cero","Gestión empresarial","Proyecto medioambiental","Gestión residuos","Gestión medioambiental","Economía verde","Certificado de sostenibilidad","RRHH","Formación","Economía circular","Sostenibilidad"]),98617:i.q(i.ocq(i.ocq(i.cw(3,i.pe(20,"61f1b55c02136e44138b4603"),i.ge(1)),i.cw(4,i.pe(13,2981105724),i.ge(1))),i.cw(4,i.pe(13,2984562360),i.ge(1)))),99133:i.r(18,"pixar"),99323:i.r(20,4,"como-han-conseguido-las-peliculas-de-wes-anderson-enamorarnos-a-todos")}||{},queriesByEvent:{"!UpdateSecondPartyData":["136198","136199","136200","136201","136202","136203","136204","136205","136207","136208","136209","136561","136562","136563","136564","136565","136566","136567","136568","136570","146608","147300","149237","85242","86166","86167","87447","93629","97266","97267"],Pageview:["10000000","10000001","10000002","10000003","10000004","10000005","10000006","10000007","10000008","10000010","10000011","10000012","10000013","10000014","10000015","10000016","10000017","10000018","10000019","10000020","10000021","10000022","10000023","10000024","10000025","10000026","10000035","10000036","10000037","10000038","10000039","10000040","10000041","10000042","10000043","10000044","10000045","10000046","10000047","10000048","10000049","10000050","10000051","10000052","10000053","10000054","10000055","10000056","10000057","10000058","10000059","10000060","10000061","10000062","10000063","10000064","10000065","10000066","10000067","10000068","10000069","10000070","10000071","10000072","10000073","10000074","10000075","10000076","10000077","10000078","10000079","10000080","10000081","10000082","10000083","10000084","10000085","10000086","10000087","10000088","10000089","10000090","10000324","10000325","10000327","10000328","10000329","10000330","10000687","10000688","10000689","10000690","10000691","10000692","10000693","10000694","10000695","10000696","10000697","10000698","10000699","10000700","10000701","10000702","10000703","10000704","10000705","10000706","10000707","10000708","10000709","10000710","10000711","10000712","10000713","10000714","10000715","10000716","10000717","10000718","10000719","10000720","10000721","10000722","10000723","10000724","10000725","10000726","10000727","10000728","10000729","10000730","10000731","10000732","10000733","10000734","10000735","10000736","10000737","10000738","10000739","10000740","10000741","10000742","10000743","10000744","10000745","10000746","10000747","10000748","10000749","10000750","10000751","10000752","10000753","10000754","10000755","10000756","10000757","10000758","10000759","10000760","10000761","10000762","10000763","10000764","10000765","10000766","10000767","10000768","10000769","10000770","10000771","10000772","10000773","10000774","10000775","10000776","10000777","10000778","10000779","10000780","10000781","10000782","10000783","10000784","10000785","10000786","10000787","10000788","10000789","10000790","10000791","10000792","10000793","10000794","10000795","10000796","10000797","10000798","10000799","10000800","10000801","10000802","10000803","101097","101929","101931","101937","101938","101940","103274","103671","103866","103867","103868","104041","104124","104860","104863","104864","105126","105732","105807","106291","107478","108682","109284","113217","113218","114267","114299","114499","115581","115678","120929","122441","122876","122884","123341","123342","124682","124688","125228","129720","129722","129723","129767","129768","129770","130380","134599","137319","137549","137550","137905","139347","140869","140871","140872","140873","141557","141558","141559","141560","141561","141562","141563","141564","141565","141566","141567","141569","141571","141574","141575","141576","142332","142968","143082","143085","143086","143088","143089","143091","143094","143096","143105","145717","146605","146607","146608","146741","146742","146743","146746","146747","146748","146749","146750","146751","146887","147113","148108","148892","148893","148894","148895","148897","149176","149684","150456","153456","153651","155425","155426","60219","61780","61825","64821","66156","66157","66224","66693","66704","66705","66706","67013","72711","73164","73165","73166","73965","75936","75937","76469","77498","79652","83156","85663","85747","88695","94125","94126","94127","94128","94129","97266","97267","97849","97851","98385","98608","98617","99133","99323"],PageviewComplete:["123923","134452","155797","65455","65456","65457","65464","65465","65466","65467","65468","65469","65470","65471","65472","65473","65474","65475","65476","65477","65478","65479","65480","65481","65482","65483","65484","65485","65486","65487","65488","65489","65490","65491","65492","65493","65494","65495","65496","65497","65498","65499","65500","65501","65502","65503","65504","65505","65506","65507","65508","65509","65510","65511","65512","65513","65514","65515","65516","65517","65518","65519","65520","65521","65522","65523","65524","65525","65526","65527","65528","65529","65530","65531","65532","65533","65534","65535","65536","65537","65538","65539","65540","65541","65542","65543","65544","65545","65546","65547","65548","65549","65550","65551","65552","65553","65554","65555","65556","65557","65558","65559","65560","65561","65562","65563","65564","65565","65566","65567","65568","65569","65570","65571","65572","65573","65574","65575","65576","65577","65578","65579","65580","65581","65582","65583","65584","65585","65586","65587","65588","65589","65590","65591","65592","65593","65594","65595","65596","65597","65598","65599","65600","65601","65602","65603","65604","65605","65606","65607","65608","65609","65610","65611","65612","65613","65614","65615","65616","65617","65618","65619","65620","65621","65622","65623","65624","65625","65626","65627","65628","65629","65630","65631","65632","65633","65634","65635","65636","65637","65638","65639","65640","65641","65642","65643","65644","65645","65646","65647","65648","65649","65650","65651","65652","65653","65654","65655","65656","65657","65658","65659","65660","65661","65662","65663","65664","65665","65666","65667","65668","65669","65670","65671","65672","65673","65674","65675","65676","65677","65678","65679","65680","65681","65682","65683","65684","65685","65686","65687","65688","65689","65690","65691","65692","65693","65694","65695","65696","65697","65698","65699","65700","65701","65702","65703","65704","65705","65706","65707","65708","65709","65710","65711","65712","65713","65714","65715","65716","65717","65718","65719","65720","65721","65722","65723","65724","65725","65726","65727","65728","65729","65730","65731","65732","65733","65734","65735","65736","65737","65738","65739","65740","65741","65742","65743","65744","65745","65746","65747","65748","65749","65750","65751","65752","65753","65754","65755","65756","65757","65758","65759","65760","65761","65762","65763","65764","65765","65766","65767","65768","65769","65770","65771","65772","65773","65774","65775","65776","65777","65778","65779","65780","65781","65782","65783","65784","65785","65786","65787","65788","65789","65790","65965","65966","65967","65968","65969","65970","65971","65972","65973","65974","65975","65976","65977","65978","65979","65980","65981","65982","65983","65984","65985","65986","65987","65988","65989","65990","65991","65992","65993","65994","65995","65996","65997","65998","65999","66000","66001","66002","66003","66004","66005","66006","66007","66008","66009","66010","66011","66012","66013","66014","66015","66016","66017","66018","66019","66020","66021","66022","66023","66024","66025","66026","66027","66028","66029","66030","66031","66032","66033","66034","66035","66036","66037","66038","66039","66040","66041","66042","66043","66044","66045","66046","66047","66048","66049","66050","66051","71507","71508","71509","71510","71511","71512","71513","71514","71515","71516","71517","71518","71519","71520","71521","71522","71523","71524","71525","71526","71527","71528","71529","71530","71531","71532","71533","71534","71535","71536","71537","71538","71539","71540","71541","71542","71543","71544","71545","71546","71547","71548","71549","71550","71551","71552","71553","71554","71555","71556","71557","71558","71559","71560","71561","71562","71563","71564","71565","71566","71567","71568","71569","71570","71571","71572","71573","71574","71575","71576","71577","71578","71579","71580","71581","71582","71583","71584","71585","71586","71587","71588","71589","71590","71591","71592","71593","71594","71595","71596","71597","71598","71599","71600","71601","71602","71603","71604","71605","71606","71607","71608","71609","71610","71611","71612","71613","71614","71615","71616","71617","71618","71619","71620","71621","71622","71623","71624","71625","71626","71627","71628","71629","71630","71631","71632","71633","71634","71635","71636","71637","71638","71639","71640","71641","71642","71643","71644","71645","71646","71647","71648","71649","71650","71651","71652","71653","71654","71655","71656","71657","71658","71659","71660","71661","71662","71663","71664","71665","71666","71667","71668","71669","71670","71671","71672","71673","71674","71675","71676","71677","71678","71679","71680","71681","71682","71683","71684","71685","71686","71687","71688","71689","71690","71691","71692","71693","71694","71695","71696","71697","71698","71699","71700","71701","71702","71703","71704","71705","71706","71707","71708","71709","71710","71711","71712","71713","71714","71715","71716","71717","71718","71719","71720","71721","71722","71723","71724","71725","71726","71727","71728","71729","71730","71731","71732","71733","71734","71735","71736","71737","71738","71739","71740","71741","71742","71743","71744","71745","71746","71747","71748","71749","71750","71751","71752","71753","71754","71755","71756","71757","71758","71759","71760","71761","71762","71763","71764","71765","71766","71767","71768","71769","71770","71771","71772","71899","71900","71901","71902","71903","71904","71915","71916","71917","71918","71919","71920","71921","71922","71923","71924","71925","71926","71927","71928","71929","71930","71931","71932","71933","71934","71935","71936","71937","71938","71939","71948","71949","71950","71951","71952","71953","71954","71955","71956","71957","71958","71959","71960","71961","71962","71963","71964","71965","71966","71967","71968","71969","71970","71971","71972","71973","71974","71975","71976","71977","71978","71979","71980","71981","71982","71983","71984","71985","71986","71987","71988","71989","71990","71991","71992","71993","71994","71995","71996","71997","71998","71999","72000","72001","72002","72003","72004","72005","72006","72007","72008","72009","72010","72011","72012","72013","72014","72015","72016","72017","72018","72019","72020","72021","72022","72023","72024","72025","72026","72027","72028","72029","72030","72031","72032","72033","72034","72035","72036","72037","72038","72039","72040","72041","72042","72043","72044","72045","72046","72047","72048","72049","72053","72054","72055","72056","72057","72058","72059","72060","72061","72062","72063","72064","72065","72066","72067","72068","72069","72070","72071","72072","72073","72074","72075","72681","86061","86062","86063","89077","89079","89081","89082","89083","89086"],PageviewEngagement:["134452","65455","65456","65457","65464","65465","65466","65467","65468","65469","65470","65471","65472","65473","65474","65475","65476","65477","65478","65479","65480","65481","65482","65483","65484","65485","65486","65487","65488","65489","65490","65491","65492","65493","65494","65495","65496","65497","65498","65499","65500","65501","65502","65503","65504","65505","65506","65507","65508","65509","65510","65511","65512","65513","65514","65515","65516","65517","65518","65519","65520","65521","65522","65523","65524","65525","65526","65527","65528","65529","65530","65531","65532","65533","65534","65535","65536","65537","65538","65539","65540","65541","65542","65543","65544","65545","65546","65547","65548","65549","65550","65551","65552","65553","65554","65555","65556","65557","65558","65559","65560","65561","65562","65563","65564","65565","65566","65567","65568","65569","65570","65571","65572","65573","65574","65575","65576","65577","65578","65579","65580","65581","65582","65583","65584","65585","65586","65587","65588","65589","65590","65591","65592","65593","65594","65595","65596","65597","65598","65599","65600","65601","65602","65603","65604","65605","65606","65607","65608","65609","65610","65611","65612","65613","65614","65615","65616","65617","65618","65619","65620","65621","65622","65623","65624","65625","65626","65627","65628","65629","65630","65631","65632","65633","65634","65635","65636","65637","65638","65639","65640","65641","65642","65643","65644","65645","65646","65647","65648","65649","65650","65651","65652","65653","65654","65655","65656","65657","65658","65659","65660","65661","65662","65663","65664","65665","65666","65667","65668","65669","65670","65671","65672","65673","65674","65675","65676","65677","65678","65679","65680","65681","65682","65683","65684","65685","65686","65687","65688","65689","65690","65691","65692","65693","65694","65695","65696","65697","65698","65699","65700","65701","65702","65703","65704","65705","65706","65707","65708","65709","65710","65711","65712","65713","65714","65715","65716","65717","65718","65719","65720","65721","65722","65723","65724","65725","65726","65727","65728","65729","65730","65731","65732","65733","65734","65735","65736","65737","65738","65739","65740","65741","65742","65743","65744","65745","65746","65747","65748","65749","65750","65751","65752","65753","65754","65755","65756","65757","65758","65759","65760","65761","65762","65763","65764","65765","65766","65767","65768","65769","65770","65771","65772","65773","65774","65775","65776","65777","65778","65779","65780","65781","65782","65783","65784","65785","65786","65787","65788","65789","65790","66696","66697","71507","71508","71509","71510","71511","71512","71513","71514","71515","71516","71517","71518","71519","71520","71521","71522","71523","71524","71525","71526","71527","71528","71529","71530","71531","71532","71533","71534","71535","71536","71537","71538","71539","71540","71541","71542","71543","71544","71545","71546","71547","71548","71549","71550","71551","71552","71553","71554","71555","71556","71557","71558","71559","71560","71561","71562","71563","71564","71565","71566","71567","71568","71569","71570","71571","71572","71573","71574","71575","71576","71577","71578","71579","71580","71581","71582","71583","71584","71585","71586","71587","71588","71589","71590","71591","71592","71593","71594","71595","71596","71597","71598","71599","71600","71601","71602","71603","71604","71605","71606","71607","71608","71609","71610","71611","71612","71613","71614","71615","71616","71617","71618","71619","71620","71621","71622","71623","71624","71625","71626","71627","71628","71629","71630","71631","71632","71633","71634","71635","71636","71637","71638","71639","71640","71641","71642","71643","71644","71645","71646","71647","71648","71649","71650","71651","71652","71653","71654","71655","71656","71657","71658","71659","71660","71661","71662","71663","71664","71665","71666","71667","71668","71669","71670","71671","71672","71673","71674","71675","71676","71677","71678","71679","71680","71681","71682","71683","71684","71685","71686","71687","71688","71689","71690","71691","71692","71693","71694","71695","71696","71697","71698","71699","71700","71701","71702","71703","71704","71705","71706","71707","71708","71709","71710","71711","71712","71713","71714","71715","71716","71717","71718","71719","71720","71721","71722","71723","71724","71725","71726","71727","71728","71729","71730","71731","71732","71733","71734","71735","71736","71737","71738","71739","71740","71741","71742","71743","71744","71745","71746","71747","71748","71749","71750","71751","71752","71753","71754","71755","71756","71757","71758","71759","71760","71761","71762","71763","71764","71765","71766","71767","71768","71769","71770","71771","71772","72681","86061","86062","86063","89077","89079","89081","89082","89083","89086"],SegmentEntry:["123923","155797","65965","65966","65967","65968","65969","65970","65971","65972","65973","65974","65975","65976","65977","65978","65979","65980","65981","65982","65983","65984","65985","65986","65987","65988","65989","65990","65991","65992","65993","65994","65995","65996","65997","65998","65999","66000","66001","66002","66003","66004","66005","66006","66007","66008","66009","66010","66011","66012","66013","66014","66015","66016","66017","66018","66019","66020","66021","66022","66023","66024","66025","66026","66027","66028","66029","66030","66031","66032","66033","66034","66035","66036","66037","66038","66039","66040","66041","66042","66043","66044","66045","66046","66047","66048","66049","66050","66051","71899","71900","71901","71902","71903","71904","71915","71916","71917","71918","71919","71920","71921","71922","71923","71924","71925","71926","71927","71928","71929","71930","71931","71932","71933","71934","71935","71936","71937","71938","71939","71948","71949","71950","71951","71952","71953","71954","71955","71956","71957","71958","71959","71960","71961","71962","71963","71964","71965","71966","71967","71968","71969","71970","71971","71972","71973","71974","71975","71976","71977","71978","71979","71980","71981","71982","71983","71984","71985","71986","71987","71988","71989","71990","71991","71992","71993","71994","71995","71996","71997","71998","71999","72000","72001","72002","72003","72004","72005","72006","72007","72008","72009","72010","72011","72012","72013","72014","72015","72016","72017","72018","72019","72020","72021","72022","72023","72024","72025","72026","72027","72028","72029","72030","72031","72032","72033","72034","72035","72036","72037","72038","72039","72040","72041","72042","72043","72044","72045","72046","72047","72048","72049","72053","72054","72055","72056","72057","72058","72059","72060","72061","72062","72063","72064","72065","72066","72067","72068","72069","72070","72071","72072","72073","72074","72075"],SlotClicked:["110675","122989","123908","124692","127374","128686","128824","129606","131415","131993","62698","66987","98617"],SlotViewable:["122990","128825","131596","131890","131891","148169","148259","150328","153453","154087","154088","88179"],SurveyResponse:["123501","87682","87820","87821"]}||{}}}();function hn(r){return((r,e)=>A(vn(r,e),(e=>Object.assign(Object.assign({},e),{userId:r.userId}))))(r,wn)}function yn(r,e){const n=A((r=>Ke(r,((r,e)=>e.state?U({[e.checksum]:e.state}):V)))(r),ve,ae((r=>o(new Map)))),t=A(ve(e),ae((r=>o(new Map))));return A(function(r,e){return Ue("delta",r,e)}(n,t),(r=>me(r)))||{}}!function(r){const e=self;function n(r,n,t,i){function o(n){if("function"!=typeof e.postMessage)return r.ports[0].postMessage(n);e.postMessage(n)}if(!t)return o([n,null,i]);"undefined"!=typeof console&&"error"in console&&console.error("Worker caught an error:",t),o([n,t])}e.addEventListener("message",(function(e){if(t=e,!Array.isArray(t.data)||2!==t.data.length)return;var t;const i=e.data,[o,a]=i;if("function"==typeof r)return function(r,e,t,i){const o=function(r,e){try{return{res:r(e)}}catch(r){return{err:r}}}(e,i);return Boolean(null===(a=o)||void 0===a?void 0:a.err)?n(r,t,o.err):!(c=o.res)||"object"!=typeof c&&"function"!=typeof c||"function"!=typeof c.then?n(r,t,null,o.res):void o.res.then((function(e){n(r,t,null,e)}),(function(e){n(r,t,e)}));var a,c}(e,r,o,a);n(e,o,new Error("Please pass a function into register()."))}))}((r=>"QLE"===r.engine?hn(r):function(r){switch(r.type){case"delta":return yn(r.stateMap,r.lastSentStateMapWithChecksum);case"noop":return{}}}(r)))})();',"Worker",void 0,void 0)}},477:e=>{e.exports=function(e,t,r,n){var i=self||window;try{try{var a;try{a=new i.Blob([e])}catch(t){(a=new(i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder)).append(e),a=a.getBlob()}var s=i.URL||i.webkitURL,o=s.createObjectURL(a),c=new i[t](o,r);return s.revokeObjectURL(o),c}catch(n){return new i[t]("data:application/javascript,".concat(encodeURIComponent(e)),r)}}catch(e){if(!n)throw Error("Inline worker is not supported");return new i[t](n,r)}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{var e=__webpack_require__(5e3),t=__webpack_require__(3735),r=__webpack_require__(6341),n=__webpack_require__(7927),i=__webpack_require__(2197),a=__webpack_require__(6567),s=__webpack_require__(4673);__webpack_require__(2652);class o{constructor(e,t){this.config=e,this.logger=t,this.defaultReplacementMap=this.filterReplacementMap(this.config.defaultMap),this.replacementMap=this.setReplacementMap(this.config.replacementMap)}get getReplacementMap(){return this.replacementMap}setReplacementMap(e){return this.replacementMap=Object.assign(Object.assign({},this.defaultReplacementMap),this.filterReplacementMap(e)),this.logger.debug(`enrichers[${this.config.name}]: replacement map updated`,this.getReplacementMap),this.getReplacementMap}}class c extends o{filterReplacementMap(e){return e}}const u="geoip",d="enricher:geoip",l={},f={include_geo:(null==l?void 0:l.include_geo)||!0,include_isp:(null==l?void 0:l.include_isp)||!0,include_ip_hash:(null==l?void 0:l.include_ip_hash)||!0,include_ip:(null==l?void 0:l.include_ip)||!1},g=(e,r)=>{var a;const{$ip_geo_info_continent:o,$ip_address:d,$ip_address_hash:l}=s.U,f={$ip_geo_info_continent:o,$ip_address:d,$ip_geo_info:{city:s.U.$ip_geo_info_city,continent:s.U.$ip_geo_info_continent,country:s.U.$ip_geo_info_country,postal_code:s.U.$ip_geo_info_postal_code,province:s.U.$ip_geo_info_province},$ip_address_hash:l,$ip_isp_info:{autonomous_system_number:0,isp:s.U.$ip_isp_info_isp,autonomous_system_organization:s.U.$ip_isp_info_autonomous_system_organization,organization:s.U.$ip_isp_info_organization}},g=(0,t.zG)({$ip_geo_info:null==e?void 0:e.geo_info,$ip_geo_info_continent:null===(a=null==e?void 0:e.geo_info)||void 0===a?void 0:a.continent,$ip_isp_info:null==e?void 0:e.isp_info,$ip_address:null==e?void 0:e.ip,$ip_address_hash:null==e?void 0:e.ip_hash},n.hX(i.ff((e=>void 0===e))));return new c({name:u,defaultMap:f,replacementMap:g},r)},h=e=>{let{clientContext:t,api:r,permutiveData:n,metrics:i,sessionManager:a,enrichers:s,network:o,logger:c,config:u}=e;const l=e=>{e.isp_info&&t.updateContext(["isp",e.isp_info.isp],["organization",e.isp_info.organization],["autonomous_system_number",e.isp_info.autonomous_system_number],["autonomous_system_organization",e.isp_info.autonomous_system_organization]),e.geo_info&&t.updateContext(["continent",e.geo_info.continent],["country",e.geo_info.country],["city",e.geo_info.city],["province",e.geo_info.province],["postal_code",e.geo_info.postal_code])},h=n.getData(d);return h&&h.session_id===a.getSessionId()?(l(h.data),s.register(g(h.data,c)),Promise.resolve()):(c.debug("enrichers[geoip]: start HTTP request"),p(r,i,u,f).then((e=>(c.debug("enrichers[geoip]: end HTTP request"),l(e),n.setData(d,{session_id:a.getSessionId(),data:e}),e))).catch((e=>(r.reportError(`Error while registering the geoip enricher: got ${e}`),null))).then((e=>{s.register(g(e,c))})))},p=(e,t,r,n)=>{const i=[];return n.include_geo&&i.push(["include","geo"]),n.include_isp&&i.push(["include","isp"]),n.include_ip&&i.push(["include","ip"]),n.include_ip_hash&&i.push(["include","ip_hash"]),e.reqWithMetrics(t,"sdk_http_geoip_seconds",{url:e.urls.getEndpointUrl("/geoip",(0,a.G)(r.apiVersion),i),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!1})},m=()=>(0,r.B)({load:h});const b=()=>{};var _,v=__webpack_require__(4922);_=v.f,m(),b(),_().then((0,e.g_)((e=>console.warn(`Permutive was not initialized. ${e}`)),t.Q1))})()})();