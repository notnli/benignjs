var favicon={defaultPause:2000,icons:{defaultIcon:"/favicon.ico",playIcon:Config.is4Sync?"/images/favicon/4syncPlay.ico":"/images/favicon/play.ico",uploadIcon:Config.is4Sync?"/images/favicon/4syncUpload.ico":"/images/favicon/upload.ico"},currentIcon:"/favicon.ico",sequence:{},change:function(b,a,c){clearTimeout(this.loopTimer);if(a||!this.getObjectLength(this.sequence)){if(c){document.title=c}this.addLink(b,true);this.currentIcon=b}if(b&&b!=this.icons.defaultIcon){this.sequence[b]=c}},remove:function(b){if(!this.sequence.hasOwnProperty(b)){return}delete this.sequence[b];if(b!=this.currentIcon){return}if(this.getObjectLength(this.sequence)>0){for(var a in this.sequence){this.change(a,true,this.sequence[a]);return}}else{this.change()}},animate:function(b,a){this.preloadIcons(b);this.iconSequence=b;this.sequencePause=(a)?a:this.defaultPause;favicon.index=0;favicon.change(b[0]);this.loopTimer=setInterval(function(){favicon.index=(favicon.index+1)%favicon.iconSequence.length;favicon.currentIcon=favicon.iconSequence[favicon.index];favicon.addLink(favicon.currentIcon,false)},favicon.sequencePause)},loopTimer:null,preloadIcons:function(c){var b=document.createElement("img");for(var a=0;a<c.length;a++){b.src=c[a]}},addLink:function(b){var a=document.createElement("link");a.type="image/x-icon";a.rel="shortcut icon";a.href=b||this.icons.defaultIcon;this.removeLinkIfExists();this.docHead.appendChild(a)},removeLinkIfExists:function(){var a=this.docHead.getElementsByTagName("link");for(var b=0;b<a.length;b++){var c=a[b];if(c.type=="image/x-icon"&&c.rel=="shortcut icon"){this.docHead.removeChild(c);return}}},getObjectLength:function(c){var b=0;for(var a in c){b++}return b},docHead:document.getElementsByTagName("head")[0]};