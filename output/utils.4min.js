$.browser.chrome=/chrome/.test(navigator.userAgent.toLowerCase());$.browser.chromium=/chromium/.test(navigator.userAgent.toLowerCase());$.browser.msie=$.browser.msie||(/Trident/.test(navigator.userAgent)&&/rv/.test(navigator.userAgent));if($.browser.chrome){$.browser.safari=false}function Utils(){return this}$.fn.serializeObject=function(){var c={};var b=this.serializeArray();$.each(b,function(){if(c[this.name]!==undefined){if(!c[this.name].push){c[this.name]=[c[this.name]]}c[this.name].push(this.value||"")}else{c[this.name]=this.value||""}});return c};jQuery.fn.outerHTML=function(a){return a?this.before(a).remove():jQuery("<p>").append(this.eq(0).clone()).html()};jQuery.fn.caps=function(a){return this.keypress(function(f){var b=f.which?f.which:(f.keyCode?f.keyCode:-1);var d=f.shiftKey?f.shiftKey:(f.modifiers?!!(f.modifiers&4):false);var g=(((b>=65&&b<=90)||(b>=1040&&b<=1071))&&!d)||((b>=97&&b<=122)&&d);a.call(this,g)})};if(typeof String.prototype.endsWith!=="function"){String.prototype.endsWith=function(a){return this.indexOf(a,this.length-a.length)!==-1}}Utils.indexOf=function(a,d,e){for(var c=(e||0),b=a.length;c<b;c++){if(a[c]===d){return c}}return -1};Utils.preferHTML5Playback=function(){var i=parseInt($.browser.version);if(isNaN(i)||!i){return false}var h=/windows/.test(navigator.userAgent.toLowerCase());var a=/linux/.test(navigator.userAgent.toLowerCase());var g=/mac/.test(navigator.userAgent.toLowerCase());var e=$.browser.msie&&i>=10;var d=$.browser.mozilla&&((h&&i>=23)||(a&&i>=26));var f=$.browser.chrome&&!$.browser.chromium&&i>=27;var b=$.browser.safari&&i>=7;var c=$.browser.opera&&i>=22;return !!(e||d||f||b||c)};Utils.preventClickEventDecorator=function(b){var a=false;function c(){var d=b.apply(this,arguments);if(this.preventDefault){if(a&&this.type=="click"){this.stopImmediatePropagation();this.stopPropagation();this.preventDefault();this.exclusive=true;this.namespace_re=/SOME_KIND_OF_NOT_EXISTING_NAMESPACE/}this.preventClick=function(){a=true;setTimeout(function(){a=false},1000)};return this}return d}c.prototype=b.prototype;return c};if($.browser.msie){$.Event=Utils.preventClickEventDecorator($.Event)}else{$.Event.prototype.preventClick=function(){}}Utils.isHtml5UploadSupport=!!("multiple" in document.createElement("input"));Utils.checkMultiupload=function(){return $.browser.safari||$.browser.opera||!("multiple" in document.createElement("input"))||!UploadModule.FileSupported()||!UploadModule.XhrUploadSupported()};Utils.isFunctionExists=function(functionName){return(eval("typeof "+functionName)=="function")};Utils.fixEventCoords=function(c){if(c.pageX==null&&c.clientX!=null){var c=document.documentElement,a=document.body;c.pageX=c.clientX+(c&&c.scrollLeft||a.scrollLeft||0);c.pageY=c.clientY+(c&&c.scrollTop||a.scrollTop||0)}return c};Utils.checkIfFlashInstalled=function(){var b=false;if(navigator.plugins){if(navigator.plugins["Shockwave Flash"]){b=true}else{if(navigator.plugins["Shockwave Flash 2.0"]){b=true}}}else{if(navigator.mimeTypes){var a=navigator.mimeTypes["application/x-shockwave-flash"];if(a&&a.enabledPlugin){b=true}}else{b=true}}return b};Utils.getFlashVersion=function(){var a;try{a=navigator.plugins["Shockwave Flash"];a=a.description}catch(c){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(b){a="0.0"}}a=a.match(/\d+/g);return parseFloat(a[0]+"."+a[1])};Utils.getCpuArch=function(){try{var b=window.navigator.oscpu;if(!b){b=window.navigator.cpuClass}return b.indexOf("64")>0?64:32}catch(a){return 64}};Utils.getSelection=function(){if(window.getSelection){return window.getSelection().toString()}else{if(document.getSelection){return document.getSelection()}else{if(document.selection){return document.selection.createRange().text}}}};Utils.validateUrl=function(a){return(/^([a-z0-9]([a-z]|\d|\+|-|\.)*):?(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a))};Utils.extractDomain=function(a){return a.replace("http://","").replace("https://","").split(/[/?#]/)[0]};Utils.validateDomain=function(a){return/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(a)};Utils.indexOf=function(a,c){if(a.indexOf){return a.indexOf(c)}for(var b=0;b<a.length;b++){if(a[b]==c){return b}}return -1};Utils.getSearchNameCharFilter=function(a){return typeof(a)!="string"?a:$.trim(a.replace(/\\/g," ").replace(/\//g," ").replace(/%/g," ").replace(/&/g," ").replace(/\</g,"").replace(/\>/g,"").replace(/\#/g," ").replace(/\[/g,"").replace(/\]/g,"").replace(/\?/g," "))};Utils.encodeSearchParam=function(a){if(typeof(a)!="string"){return a}if(a.length>200){a.substring(0,200)}return encodeURIComponent(a)};Utils.getSearchName=function(a){if(typeof(a)!="string"){return a}a=Utils.getSearchNameCharFilter(a);if(a.length>255){a.substring(0,255)}return encodeURIComponent(a).replace(/%2B/g,"+")};Utils.convertToPlainArray=function(c){if(c.length!=undefined){var b=[];for(var a=0;a<c.length;a++){b.push(c[a])}return b}else{return[c]}};Utils.getFilesAndFolderIds=function(c){var b=[];var d={};for(var a=0;a<c.length;a++){if(c[a]._fileId){b.push(c[a]._fileId)}d[c[a]._uploadDir]=true}var e=[];for(var a in d){e.push(a)}return{fileIdsArr:b,folderIdsArr:e}};Utils.clearInput=function(a){a=$(a);a.val("");$(a).replaceWith($(a).clone(true))};Utils.stopFrame=function(b,a){b=$(b);b.attr("src","");if(a){b.remove()}};Utils.getTime=function(){return new Date().getTime()};Utils.timeLeftCalculator=function(b,o){var f=[];var c=Utils.getTime();var j=0,h=0,d=0,l=0;var k=10*1024*1024;var a=25*1000;var g=Math.log(10);var n=0.07;var m=4*1000;var e=0;var i=0;this.putStat=function(r,t){var q=Utils.getTime();var p=q-c;j=p-d;h=r-l;h=h>0?h:0;if(h){d+=j;l+=h;if(!f.length||f[f.length-1].progressLoaded>k){f.push({progressTime:j,progressLoaded:h,count:1})}else{f[f.length-1].progressTime+=j;f[f.length-1].progressLoaded+=h}}while(f.length>5){var u=f.shift();d-=u.progressTime;l-=u.progressLoaded}var q=new Date().getTime();if(q-i>m){var s=(d?l/(d/1000):0);var v=(Math.pow(10,Math.round(Math.log(s*n)/g)));s=Math.round(s/(v))*v;e=s;i=q}};this.calculateTimeLeft=function(p,q){var r=e?(q-p)/e:0;if(d>a){return{leftTime:r,rate:e}}else{return{}}}};Utils.median=function(a){a.sort(function(d,c){return d-c});var b=Math.floor(a.length/2);if(a.length%2){return a[b]}else{return(a[b-1]+a[b])/2}};Utils.readablizeBytes=function(b,a){if(b==0){return"0 Ð’"}var d=["B","KB","MB","GB","TB","PB"];var c=Math.floor(Math.log(b)/Math.log(1024));b=(b/Math.pow(1024,Math.floor(c)));b=(c>1&&!a)?b.toFixed((c>=3)?2:1):Math.round(b);return b+" "+d[c]};Utils.readablizeTime=function(d,b){b=b||{};b=$.extend(true,{i18n:{seconds:"sec",minutes:"min",hours:"hours"}},b);d=Math.round(d);if(d<56){return d+" "+b.i18n.seconds}if(d<3600){var c=Math.round(d/60)||0;c++;return c+" "+b.i18n.minutes}var a=Math.floor(d/3600);var c=Math.floor((d-a*3600)/60);return a+" "+b.i18n.hours+" "+c+" "+b.i18n.minutes};Utils.checkConnectionAvaliable=function(b,a){$.ajax({type:"get",url:"/blank.jsp",async:!a,success:function(){b(true)},error:function(){b(false)}})};(function(a){a.fn.dragTip=function(b){if(!UploadModule.dropFilesAvailable()){return}var c=a.extend({beforeShow:function(){},afterHide:function(){},showJustForFile:true,tipElement:"",droppedEventName:"fileDropped"},b);c.tipElement=a(c.tipElement);function g(j){if(!j.originalEvent.dataTransfer){return false}var k=j.originalEvent.dataTransfer;if(k.files&&k.files.length){return true}if(k.types){for(var h=0;h<k.types.length;h++){if(k.types[h].toLowerCase()=="files"){return true}}}return false}function e(h){return(!c.showJustForFile||(c.showJustForFile&&g(h)))&&!(c.beforeShow()===false)}function d(h){if(e(h)){c.tipElement.show()}}function f(h){c.tipElement.hide();c.afterHide(h)}return this.each(function(){var i=a(this);var h=[];var j=null;i.bind("dragenter",function(k){if(!h.length){d(k)}h.push(k.target);k.stopPropagation()});i.bind("dragleave",function(k){h.pop();if(!a.browser.webkit){if(!a(h[h.length-1]).is(":visible")){h.pop()}}if(j){clearTimeout(j)}j=setTimeout(function(){if(!h.length){f(k);h=[]}},100);k.stopPropagation()});a(document).bind(c.droppedEventName,function(k){h=[];f(k)});a(document).bind("mouseout",function(k){if(h.length){h=[];f(k)}})})}})(jQuery);Utils.isApkFile=function(a){return a!==undefined&&a.toLowerCase().endsWith(".apk")};Utils.Timer=function(b){b=$.extend({countDownElement:null,onTimeOut:function(){},time:10000,timeStep:1000,usePrettyTimePrint:true},b);var e=b.time;if(b.countDownElement){var a=b.usePrettyTimePrint?Utils.readablizeTime(e/1000,true):e;$(b.countDownElement).text(a).show()}var c=setTimeout(function(){d()},b.timeStep);function d(){if((e-=b.timeStep)<=0){if(b.countDownElement){$(b.countDownElement).hide()}clearTimeout(c);b.onTimeOut()}else{if(b.countDownElement){var f=b.usePrettyTimePrint?Utils.readablizeTime(e/1000,true):e;$(b.countDownElement).text(f).show()}c=setTimeout(function(){d()},b.timeStep)}}this.getTimeoutTimeInMiliSeconds=function(){return b.time};this.getTimeToLeftInMiliSeconds=function(){return e};this.stopTimer=function(){clearTimeout(c);if(b.countDownElement){$(b.countDownElement).hide()}}};Utils.getDomain=function(a){return a.match(/\/\/(.[^/]+)/)[1]};(function(){Utils.unload=false;Utils.isUnload=function(){return Utils.unload};$(window).bind("beforeunload pagehide",function(){Utils.unload=true})})();Utils.scrollToElement=function(a,c,b){c=typeof(c)!="undefined"?c:1000;b=typeof(b)!="undefined"?b:0;element=$(a);offset=element.offset();offsetTop=offset.top+b;$("html, body").animate({scrollTop:offsetTop},c)};Utils.showPopUnder=function(b){var a=window.open("#",b.name,"width=800,height=600");a.location.href=b.url;$(a).blur()};Utils.extractExtension=function(a){var b=a.lastIndexOf(".");if(b==-1){return""}else{return a.substr(b+1,a.length-b).toLowerCase()}};Utils.trim=function(a){if(typeof a!="string"){return""}return a.replace(/^[\s\u00A0][\s\u00A0]*/,"").replace(/[\s\u00A0][\s\u00A0]*$/,"")};Utils.fullTrim=function(a){return a.replace(/\s{2,}/g," ").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};Utils.isTouchDevice=function(){if(Utils.isTouchDevice.res===undefined){try{document.createEvent("TouchEvent");if(window.opera){Utils.isTouchDevice.res=/Opera Mobi/.test(navigator.userAgent)||/Opera Mini/.test(navigator.userAgent)}else{Utils.isTouchDevice.res=true}}catch(a){Utils.isTouchDevice.res=false}}return Utils.isTouchDevice.res};Utils.insertBRW=function(d,c,b){var h="<brw/>";c=c||35;var g=[];if(!b){d=$("<div/>").text(d.toString()).html()}var f=0;while(f<d.length){var e=a(f);g.push(d.substr(f,e-f));if(e<d.length){g.push(h)}f=e}return g.join("");function a(p){var l=0;var k="<";var j=">";var o="&";var m=";";var n=p;for(;n<=d.length&&l<c;n++){if(d.charAt(n)==k){while(d.charAt(n)!=j&&n<=d.length){n++}}else{if(d.charAt(n)==o){while(d.charAt(n)!=m&&n<=d.length){n++}}l++}}return n}};Utils.deselectText=function(a){a.value+=" ";a.value=a.value.slice(0,-1)};Utils.imgExtensions=["bmp","gif","jpg","jpeg","png","tif","tiff","psd"];Utils.vidExtensions=["3gp","mov","avi","mp4","mpeg","mpg","flv","m2ts","webm","asf","wmv","mkv"];Utils.getExtension=function(a){var b=Utils.trim(a).split(".");if(b.length<=1){return""}return b.pop().toLowerCase()};Utils.isImage=function(a){return($.inArray(Utils.getExtension(a),Utils.imgExtensions)!=-1)};Utils.isVideo=function(a){return($.inArray(Utils.getExtension(a),Utils.vidExtensions)!=-1)};Utils.getNameWithoutExt=function(a){var b=Utils.getExtension(a);return b.length?a.substring(0,a.length-(b.length+1)):a};Utils.isPdf=function(a){return(Utils.getExtension(a)=="pdf")};Utils.formatDirPath=function(d,b,a){if(d.length<3){return d}if(b){return[d[0],d[d.length-1]]}a=a||30;for(var c=1;c<d.length-1;c++){d[c]=Utils.cutLongString(d[c],a)}return d};Utils.topPos=function(b){var a=0;if(b.offsetParent){do{a+=b.offsetTop}while(b=b.offsetParent)}return a};Utils.leftPos=function(a){var b=0;if(a.offsetParent){do{b+=a.offsetLeft}while(a=a.offsetParent)}return b};Utils.log=function(a){if(typeof console=="undefined"||typeof console.log!="function"){return}console.log(a)};Utils.checkCORSAvailable=function(){try{var a=new window.XDomainRequest();a.open("get","/blank.jsp",true);a.send(null)}catch(b){return false}return true};Utils.escapeXSS=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/=/g,"&#061;").replace(/\\/g,"&#092;").replace(/\//g,"&#047;")};Utils.cutLongString=function(a,b){return a.length<=b?a:(a.substring(0,b)+"...")};Utils.parseURLQuery=function(e){var b={};var g=e.lastIndexOf("?");if(g==e.length-1){return b}if(g<0){return b}e=e.substr(g+1,e.length);if(e.length>0){var a=e.split("&");for(var f=0;f<a.length;f++){var d=a[f].split("=");if(d.length){var c=d[0];var h=d.length==2?d[1]:"";if(c){b[c]=h}}}}return b};Utils.padURLParameter=function(b,e,d){var a=Utils.parseURLQuery(b);a[e]=d;var c=b.indexOf("?");if(c>=0){b=b.substr(0,c)}return b+"?"+$.param(a)};Utils.unescapeHtml=function(a){return $("<div/>").html(a).text()};Utils.replaceIconImgWithClass=function(b,c,a){var d=a?a:32;var e=$("<i/>").addClass(c).css({"display":"inline-block","vertical-align":"middle"}).width(d).height(d);b.replaceWith(e)};Utils.parseResponseText=function(c,b){var a=jQuery.parseJSON(c);return a[b]};Utils.replaceAll=function(c,a,b){return c.split(a).join(b)};