"use strict";(self["tmg.build"]=self["tmg.build"]||[]).push([[597,2,768],{436:(t,e,s)=>{s.d(e,{Z:()=>a});var i=s(384),r=s(453);class n{constructor(){i.Z.create("tmg.page"),tmg.page={getMetaTag:this.getMetaTag,getMetaContent:this.getMetaContent,getPageType:this.getPageType,getPageTitle:this.getPageTitle,getChannel:this.getChannel,getBusinessSegment:this.getBusinessSegment,getCategory:this.getCategory,getContentType:this.getContentType,getArticleId:this.getArticleId,getPublishDate:this.getPublishDate,getKeywords:this.getKeywords,getLocation:this.getLocation,getLeadAssetLayout:this.getLeadAssetLayout,isArticle:this.isArticle,isSponsored:this.isSponsored,isGallery:this.isGallery,isGallery2:this.isGallery2,isPremium:this.isPremium,isApp:this.isApp.bind(this)}}getPageType(){return window.dataLayer&&window.dataLayer.pageType}getPageTitle(){return document.title}getChannel(){return this.getMetaContent("tmgads.channel")}getCategory(){return this.getMetaContent("DCSext.Category")}getBusinessSegment(){return this.getMetaContent("tmgads.businessSegment")}getContentType(){return this.getMetaContent("DCSext.Content_Type")}getArticleId(){return this.getMetaContent("tmgads.articleid")}getPublishDate(){return this.getMetaContent("DCSext.articleFirstPublished")}getKeywords(){return this.getMetaContent("keywords").split(",").map((t=>t.trim()))}getLocation(){return document.location}getMetaContent(t,e="content"){const s=this.getMetaTag(t);let i="generic";return s&&s.getAttribute(e)&&(i=s.getAttribute(e)),i}getMetaTag(t){return document.querySelector(`meta[name='${t}']`)}isArticle(){let t=!1;return["articleRenderer","articleRenderer2","longFormRenderer"].forEach((e=>{this.getPageType()===e&&(t=!0)})),t}isGallery(){return"galleryRenderer"===this.getPageType()}isGallery2(){return"galleryRenderer2"===this.getPageType()}isSponsored(){return"sponsored"===this.getBusinessSegment()}isPremium(){return"true"===this.getMetaContent("tmg.premium.state")}isApp(){return"true"===this.getMetaContent("tmg.app")}isAuthor(){return document.documentElement.hasAttribute("data-is-author")}getLeadAssetLayout(){return this.isArticle()&&document.querySelector("[data-lead-asset-layout]")?document.querySelector("[data-lead-asset-layout]").dataset.leadAssetLayout:this.isArticle()?"hidden":void 0}}r.Z.subscribe({topic:"tmg.page.ready",func:new n,runIfAlreadyPublished:!0});const a=new n},453:(t,e,s)=>{s.d(e,{Z:()=>n});var i=s(384);const r=new class{constructor(){this.topics=[],this.publishedTopics=[],this.UID=-1}subscribe({topic:t,func:e,runIfAlreadyPublished:s}){if("function"!=typeof e)return!1;if(s)for(let s=0;s<this.publishedTopics.length;s++)this.publishedTopics[s]===t&&e.call();const i=(this.UID+=1).toString();return this.topics.push({token:i,topic:t,func:e}),i}unsubscribe({topic:t}){for(let e=0;e<this.topics.length;e++)this.topics[e].topic===t&&this.topics.splice(e,1)}publish({topic:t}){this.publishedTopics.push(t);for(let e=0;e<this.topics.length;e++)this.topics[e].topic===t&&this.topics[e].func.call()}};i.Z.create("tmg.pubsub"),window.tmg.pubsub=r;const n=r},170:(t,e,s)=>{var i=s(436),r=s(453);class n{constructor(){this.setRefreshTimeout()}setRefreshTimeout(){!i.Z.isAuthor()&&setTimeout((()=>{const t="#source=refresh";window.location.hash.match(t)||(window.location.hash=t),window.location.reload()}),3e5)}}r.Z.subscribe({topic:"tmg.page.ready",func:()=>{new n},runIfAlreadyPublished:!0})},384:(t,e,s)=>{s.d(e,{Z:()=>r}),window.tmg=window.tmg||{};const i=function(t){try{let e=tmg,s=t.split(".");return"tmg"===s[0]&&(s=s.slice(1)),s.forEach((t=>{void 0===e[t]&&(e[t]={}),e=e[t]})),e}catch(e){console.warn("couldn't create namespace:",t)}};window.tmg.createNamespace=i;const r={create:i}}},t=>{t(t.s=170)}]);