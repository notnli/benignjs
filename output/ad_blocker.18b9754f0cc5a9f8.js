!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("CAAS_AOLCOM",[],t):"object"==typeof exports?exports.CAAS_AOLCOM=t():e.CAAS_AOLCOM=t()}(self,(function(){return function(){var e={7958:function(e){function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var n={rapidInit:"rapid:init"};e.exports={events:n,rapidReady:function(e){window.rapidInstance?e(window.rapidInstance):document.addEventListener(n.rapidInit,(function(){e(window.rapidInstance)}),{passive:!0,once:!0})},ylkStringToObj:function(){var e=["itc","cpos","pos"];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(";").filter(Boolean).reduce((function(n,r){var o,i,c=(o=r.split(":"),i=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,c,a=[],u=!0,f=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){f=!0,o=e}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(f)throw o}}return a}}(o,i)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=c[0],u=c[1];return n[a]=e.includes(a)?parseInt(u,10):u,n}),{})},ylkObjToString:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((function(t){return"".concat(t,":").concat(e[t])})).join(";")}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}n.r(r),n.d(r,{default:function(){return s}});var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.detected=!1,this.checksRemaining=2,this.errors=[]}var n,r;return n=e,(r=[{key:"detect",value:function(e,t){if("function"==typeof t){for(var n="".concat(e,"?ch=[[ch_placeholder]]&rn=[[rn_placeholder]]"),r=11*Math.random(),o=1;o<=this.checksRemaining;o++)this.createImage(o,r,n);this.beforeCheck(t,250)}}},{key:"beforeCheck",value:function(e,t){var n=this;0===this.checksRemaining||t>1e3?e(0===this.checksRemaining&&this.detected):setTimeout((function(){n.beforeCheck(e,2*t)}),2*t)}},{key:"checkImages",value:function(){this.checksRemaining-=1,this.checksRemaining||(this.detected=1===this.errors.length)}},{key:"createImage",value:function(e,t,n){var r=this,o=document.createElement("img");o.addEventListener("load",(function(){return r.checkImages()})),o.addEventListener("error",(function(){r.errors.push(!0),r.checkImages()})),o.src=n.replace("[[ch_placeholder]]",e).replace("[[rn_placeholder]]",t)}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(),i=n(7958);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===c(o)?o:String(o)),r)}var o}var u,f="1",l=(u=function(){function e(t){var n=t.selector;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elem=document.querySelector(n),this.elem){try{this.config=JSON.parse(this.elem.dataset.config)}catch(e){throw new Error("Error Parsing Adblocker Config")}this.utils=window.NEXUtils||{},this.abSelector=document.getElementById("advertisement-thamba"),this.thamba=this.config.thamba===f||"2"===this.config.thamba,setTimeout(this.init.bind(this),this.config.dabConfig.detectionTimeout||300)}}var t,n;return t=e,n=[{key:"init",value:function(){var e="0",t=0;this.abSelector||(e=f,t=this.config.cookieDuration),this.config.dabConfig.enableUBDetection&&this.detectUB()&&(e=f,t=this.config.cookieDuration),(this.thamba&&"0"===e||!this.thamba&&e===f)&&this.utils.setCookie(this.config.cookieName,e,t),this.config.dabConfig.enableABPDetection&&e===f&&this.detectABP(e)}},{key:"detectABP",value:function(e){var t=this;(new o).detect(this.config.pxImg,(function(n){n?(e="2","2"!==t.config.thamba&&t.utils.setCookie(t.config.cookieName,e,t.config.cookieDuration)):t.config.thamba!==f&&t.utils.setCookie(t.config.cookieName,e,t.config.cookieDuration),t.thamba||"0"===e||(0,i.rapidReady)((function(t){return t.beaconEvent("daTrk",{pl1:e,abk:"2"===e?"abp":"other"})}))}))}},{key:"detectUB",value:function(){var e="my-ads",t=document.createElement("div");t.setAttribute("id",e),t.innerText=e,document.body.appendChild(t);var n=document.getElementById(e);if(n&&0===n.offsetHeight)return n.remove(),!0;if(n.remove(),this.config.shouldCheckPosition){var r=this.config.dabConfig.positions,o=0,i=0;if(r.forEach((function(e){var t=document.getElementById(e);t&&(o+=1,0===t.offsetHeight&&(i+=1))})),o>0&&o===i)return!0}return!1}}],n&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),u),s=new l({selector:".m-ad-blocker"})}(),r}()}));
//# sourceMappingURL=ad_blocker.js.map