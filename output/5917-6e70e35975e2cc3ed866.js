"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5917],{91591:function(e,s,t){t.d(s,{iD:function(){return n}});var n,i,r=t(1717),l=t(60042),d=t.n(l),a=t(27378),c=t(31139),o=t(98878),u=t(71244),m=t(26375),N=t(28496),f=t(10817),h=t(92150),p=t(36077),v=t(81593),x=t(2251),E=t(24246);function j(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function b(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?j(Object(t),!0).forEach((function(s){(0,r.Z)(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}!function(e){e.TEXT="TEXT",e.ANCHOR="ANCHOR",e.IMAGE="IMAGE"}(n||(n={})),function(e){e.SM="SM",e.MD="MD"}(i||(i={}));var g=(0,a.forwardRef)((function(e,s){var t,r,l,j=e.title,g=e.onBack,O=e.icons,D=e.tabs,w=e.rightNodes,I=e.className,P=e.sticky,T=void 0===P||P,S=(0,u.Z)(s),R=(0,a.useRef)(null),Z=(0,a.useState)(!1),y=Z[0],A=Z[1];(0,o.Z)((function(){j.type===n.IMAGE&&(R.current&&new c.Z({threshold:.3},!1).observe(R.current,(function(e){A(!e)})))}),[]);var L=w&&w.length>0;switch(j.type){case n.TEXT:var _=j;return(0,E.jsx)(v.Z,{mode:"top",disabled:!T,children:(0,E.jsxs)("div",{ref:S,className:d()("ds-bg-fill-navbar ds-w-full",I),children:[(0,E.jsxs)("div",{className:"ds-flex ds-items-center ds-px-4",style:{height:48},children:[g?(0,E.jsx)("div",{className:"ds-flex ds-items-center",children:(0,E.jsx)(p.ZP,{name:x.v.ARROW_BACK_SOLID,className:"ds-p-2 ds--ml-2 ds-text-raw-white ds-cursor-pointer",color:p.BG.INVERSE,size:p.XR.MD,onClick:g})}):null,(0,E.jsx)("div",{className:"ds-grow ds-flex ds-items-center",children:(0,E.jsx)(f.Z,{anchorType:_.anchorType,children:(0,E.jsx)(N.Z,{title:_.title,titleClassName:"ds-px-2 ds-text-raw-white ds-line-clamp-1",size:_.size===i.SM?N.t.MD:N.t.LG,imageUrl:_.imageUrl,iconName:_.iconName,titleElement:_.titleElement})})}),O&&O.map((function(e,s){return(0,E.jsx)("div",{className:"ds-flex ds-items-center",children:(0,E.jsx)(h.Z,{children:(0,E.jsx)(p.ZP,b(b({},e),{},{className:d()("ds-p-2 ds-text-raw-white ds-cursor-pointer",{"ds--mr-2":!L&&s===O.length-1}),color:p.BG.INVERSE,size:p.XR.MD}))})},s)})),L?(0,E.jsx)("div",{className:"ds-flex ds-items-center",children:w}):null]}),D?(0,E.jsx)(m.ZP,b({className:"ds-border-b ds-border-line"},D)):null]})});case n.ANCHOR:var C=j;return(0,E.jsx)(v.Z,{mode:"top",disabled:!T,children:(0,E.jsxs)("div",{ref:S,className:d()("ds-bg-fill-navbar ds-w-full",I),children:[(0,E.jsxs)("div",{className:"ds-flex ds-items-center ds-px-4",style:{height:48},children:[g?(0,E.jsx)("div",{className:"ds-flex ds-items-center",children:(0,E.jsx)(p.ZP,{name:x.v.ARROW_BACK_SOLID,className:"ds-p-2 ds-mr-2 ds--ml-2 ds-text-raw-white ds-cursor-pointer",color:p.BG.INVERSE,size:p.XR.MD,onClick:g})}):null,(0,E.jsx)("div",{className:"ds-grow ds-flex ds-items-center",children:C.titleNode}),O&&O.map((function(e,s){return(0,E.jsx)("div",{className:"ds-flex ds-items-center",children:(0,E.jsx)(h.Z,{children:(0,E.jsx)(p.ZP,b(b({},e),{},{className:d()("ds-px-2 ds-text-raw-white ds-cursor-pointer",{"ds--mr-2":!L&&s===O.length-1}),color:p.BG.INVERSE,size:p.XR.MD}))})},s)})),L?(0,E.jsx)("div",{className:"ds-flex ds-items-center",children:w}):null]}),D?(0,E.jsx)(m.ZP,b(b({},D),{},{className:"ds-border-b ds-border-line"})):null]})});case n.IMAGE:var k=j,G=null===(t=k.collapsible)||void 0===t||t,M=null!==(r=k.bgBlur)&&void 0!==r&&r,z=null===(l=k.bgGradient)||void 0===l||l,B=T;G&&T&&(B=!!y);var U=!(!0===k.showTitleOnSticky&&!y);return(0,E.jsxs)(a.Fragment,{children:[(0,E.jsx)(v.Z,{mode:"top",disabled:!B,children:(0,E.jsxs)("div",{ref:S,className:d()("ds-bg-no-repeat ds-relative ds-bg-center ds-bg-cover ds-w-full",I),style:{backgroundImage:"url(".concat(k.bgImageUrl,")")},children:[(0,E.jsx)("div",{className:d()("ds-absolute ds-w-full ds-h-full ds-top-0 ds-left-0",{"ds-backdrop-blur-sm":M,"ds-bg-fill-fade-to-contrast":z})}),(0,E.jsxs)("div",{className:"ds-app-bar-header ds-relative ds-z-0 ds-flex ds-items-center ds-px-4",style:{height:48},children:[g?(0,E.jsx)("div",{className:"ds-flex ds-items-center",children:(0,E.jsx)(p.ZP,{name:x.v.ARROW_BACK_SOLID,className:"ds-p-2 ds--ml-2 ds-text-raw-white ds-cursor-pointer",color:p.BG.INVERSE,size:p.XR.MD,onClick:g})}):null,(0,E.jsx)("div",{className:"ds-grow ds-flex ds-items-center",children:(0,E.jsx)(f.Z,{anchorType:k.anchorType,children:(0,E.jsx)(N.Z,{title:U?k.title:"",titleClassName:"ds-px-2 ds-text-raw-white ds-line-clamp-1",size:k.titleSize===i.SM?N.t.MD:N.t.LG,imageUrl:k.imageUrl,iconName:k.iconName,titleElement:k.titleElement})})}),O&&O.map((function(e,s){return(0,E.jsx)("div",{className:"ds-flex ds-items-center",children:(0,E.jsx)(h.Z,{children:(0,E.jsx)(p.ZP,b(b({},e),{},{className:d()("ds-p-2 ds-text-raw-white ds-cursor-pointer",{"ds--mr-2":!L&&s===O.length-1}),color:p.BG.INVERSE,size:p.XR.MD}))})},s)})),L?(0,E.jsx)("div",{className:"ds-flex ds-items-center",children:w}):null]}),y?null:(0,E.jsx)("div",{className:d()("ds-relative ds-z-0"),children:k.contentNode}),D?(0,E.jsx)(m.ZP,b(b({},D),{},{className:"ds-relative ds-z-0 ds-border-b ds-border-line"})):null]})}),(0,E.jsx)("div",{ref:R})]},"app-bar-image");default:return null}}));g.displayName="DSWDAppBar",s.ZP=g},95917:function(e,s,t){t.r(s),t.d(s,{default:function(){return I}});var n,i=t(48978),r=t(27378),l=t(78392),d=t(31229);!function(e){e.NOT_SUPPORTED="NOT_SUPPORTED",e.INSTALL_PENDING="INSTALL_PENDING",e.INSTALL_DONE="INSTALL_DONE"}(n||(n={}));var a=function(){var e=(0,r.useState)(n.NOT_SUPPORTED),s=e[0],t=e[1],i=(0,r.useRef)(void 0);(0,l.Z)((function(){window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault(),i.current=e,t(n.INSTALL_PENDING)})),window.addEventListener("appinstalled",(function(e){setTimeout((function(){t(n.INSTALL_DONE)}),1e3)}))}));return{state:d._I.isApp()?n.NOT_SUPPORTED:s,showPrompt:function(e,s){i.current&&(i.current.prompt(),i.current.userChoice.then((function(t){"accepted"===t.outcome?e&&e(i):s&&s(i)})))}}},c=t(10817),o=t(97458),u=t(2251),m=t(15140),N=t(91591),f=t(83649),h=t(8325),p=t(34501),v=t(38482),x=t(1319),E=t(86677),j=t(16453),b=t(92438),g=["android-widget","ios-widget","pin","notification"],O=function(){var e=(0,E.useRouter)(),s=e.query,t=e.asPath,n=(0,r.useContext)(m.ZP).handleNavigation,i=void 0;return(0,b.kF)(t)||(i=function(){s.source&&g.includes(s.source)?n("/"):window.history.state.idx>0?e.back():(0,j.OS)()?(0,j.mF)({command:"NAVIGATE",value:{href:"BACK"}}):n("/")}),i},D=t(47086),w=t(24246),I=function(e){var s=e.defaultIcons,t=void 0===s||s,l=e.title,d=e.icons,E=e.tabs,j=e.back,b=void 0===j||j,g=e.rightNodes,I=e.sticky,P=e.defaultIconsFirst,T=void 0!==P&&P,S=(0,r.useContext)(x.Z),R=S.lang,Z=S.theme,y=S.setTheme,A=(0,r.useContext)(m.ZP).handleNavigation,L=O(),_=a(),C=_.state,k=_.showPrompt,G=(0,p.Z)().state,M=[];if(t){if(C===n.INSTALL_PENDING){M.push({name:u.v.ICON_ADD_CIRCLE_FILLED,onClick:function(){k((function(e){(0,D.Yg)().trackEvent("homescreenicon:installed")}),(function(e){(0,D.Yg)().trackEvent("homescreenicon:declined")}))}})}var z=!0;if(G===p.s.NOT_SUPPORTED?z=!1:G!==p.s.DECLINED||(0,v.XF)()||(z=!1),z){M.push({name:u.v.NOTIFICATIONS_SOLID,onClick:function(){G===p.s.ACCEPTED?A((0,f.l5)()):((0,D.Yg)().trackEvent("bellicon"),(0,v.Ae)(!0))}})}M.push({name:Z===m.Wi.DARK?u.v.LIGHT_MODE_FILLED:u.v.DARK_MODE_FILLED,onClick:function(){y(Z===m.Wi.LIGHT?m.Wi.DARK:m.Wi.LIGHT)}})}d&&(T?M.push.apply(M,(0,i.Z)(d)):M.unshift.apply(M,(0,i.Z)(d)));var B=l;if(!B){var U=(0,h.Eh)(R);B={type:N.iD.ANCHOR,titleNode:(0,w.jsx)(c.Z,{anchorType:{href:U,data:{action:"sitenav:mainlogo"}},children:(0,w.jsx)(o.ZP,{variant:o.N6.NONE,size:o.Ui.NONE,url:"/static/images/logo.png",alt:"ESPNcricinfo",width:138,lazy:!1})})}}return(0,w.jsx)(N.ZP,{title:B,onBack:b?L:void 0,icons:M,tabs:E,sticky:I,rightNodes:g})}}}]);