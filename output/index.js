!function(o){var t={};function e(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return o[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=o,e.c=t,e.d=function(o,t,a){e.o(o,t)||Object.defineProperty(o,t,{enumerable:!0,get:a})},e.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},e.t=function(o,t){if(1&t&&(o=e(o)),8&t)return o;if(4&t&&"object"==typeof o&&o&&o.__esModule)return o;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&t&&"string"!=typeof o)for(var n in o)e.d(a,n,function(t){return o[t]}.bind(null,n));return a},e.n=function(o){var t=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(t,"a",t),t},e.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)},e.p="./",e(e.s=0)}([function(o,t,e){o.exports=e(1)},function(o,t,e){"use strict";e.r(t);var a={};function n(o,t){var e,n,r,i,l,s,c,d,u,p,w,m,v,f,b,g,h,y,O,S,T,M,C,D,P,j,L=t.slsOpts,k=t.isHomepage;if("TTFB"===o.name&&o.entries[0]?a[o.name]=o.value-o.entries[0].requestStart:a[o.name]=o.value,"LCP"===o.name&&(null===(e=null==o?void 0:o.entries[o.entries.length-1])||void 0===e?void 0:e.element)&&(a.lcpDOM=null===(n=o.entries[o.entries.length-1].element)||void 0===n?void 0:n.outerHTML.substr(0,50),console.log(a.lcpDOM,"lcpDOM")),"CLS"===o.name&&o.entries.length&&(o.entries.sort((function(o,t){return t.value-o.value})),(null===(r=o.entries[0])||void 0===r?void 0:r.sources)&&(null===(i=o.entries[0])||void 0===i?void 0:i.sources.length)&&((null===(c=null===(s=null===(l=o.entries[0])||void 0===l?void 0:l.sources[0])||void 0===s?void 0:s.node)||void 0===c?void 0:c.outerHTML)?a.clsDOM=null===(w=null===(p=null===(u=null===(d=o.entries[0])||void 0===d?void 0:d.sources[0])||void 0===u?void 0:u.node)||void 0===p?void 0:p.outerHTML)||void 0===w?void 0:w.substr(0,50):(null===(f=null===(v=null===(m=o.entries[0])||void 0===m?void 0:m.sources[0])||void 0===v?void 0:v.node)||void 0===f?void 0:f.innerHTML)?a.clsDOM=null===(y=null===(h=null===(g=null===(b=o.entries[0])||void 0===b?void 0:b.sources[0])||void 0===g?void 0:g.node)||void 0===h?void 0:h.innerHTML)||void 0===y?void 0:y.substr(0,50):(null===(T=null===(S=null===(O=o.entries[0])||void 0===O?void 0:O.sources[0])||void 0===S?void 0:S.node)||void 0===T?void 0:T.parentNode)&&(a.clsDOM=null===(j=null===(P=null===(D=null===(C=null===(M=o.entries[0])||void 0===M?void 0:M.sources[0])||void 0===C?void 0:C.node)||void 0===D?void 0:D.parentNode)||void 0===P?void 0:P.innerHTML)||void 0===j?void 0:j.substr(0,50))),a.clsDOMValue=o.entries[0].value,console.log(a.clsDOM,"clsDOM"),console.log(a.clsDOMValue,"clsDOM_Value")),console.log(o.name+": "+o.value),null!=a.LCP&&null!=a.CLS){var E={};a.lcpDOM&&(E.p2=a.lcpDOM),a.clsDOM&&a.clsDOMValue&&(E.p20=a.clsDOM,E.p21=a.clsDOMValue),console.log(a,"perf log"),window.trace.setConfig({pid:"tmall-oversea-seo"}),window.trace.log(Object.assign({code:12,type:"webvitals",msg:"webvitals",sampleRate:1,c1:a.LCP,c2:a.FID||50,c3:a.CLS,c4:a.TTFB,c5:a.FCP},L,E)),k&&window.trace.setConfig({pid:"overseaMain"})}}function r(o,t,e){for(var a=0,n=0,r=0;r<o.length;r++)if("secureConnectionStart"!==t||o[r][t]){var i=o[r][e]-o[r][t];i>0&&i<8e3&&(a+=i,n++)}return 0===a?0:a/n}function i(o,t){for(var e=0,a=0,n=0;n<o.length;n++){var r=o[n][t];r>0&&(e+=r,a++)}return 0===e?0:e/a}function l(){var o,t,e,a=(o=performance.getEntries(),t=/(http|https):\/\/(www.)?(\w+(-)?(\.)?)+/g,e={},o.forEach((function(o){if(o.name.match(t)){var a=o.name.match(t)[0];e[a]?e[a].push(o):e[a]=[o]}})),e),n={};return Object.keys(a).forEach((function(o){var t=a[o],e=r(t,"domainLookupStart","domainLookupEnd"),l=r(t,"connectStart","connectEnd"),s=r(t,"secureConnectionStart","connectEnd"),c=r(t,"requestStart","responseEnd"),d=r(t,"requestStart","responseStart"),u=r(t,"responseStart","responseEnd"),p=r(t,"startTime","responseStart"),w=i(t,"encodedBodySize"),m=i(t,"decodedBodySize");n[o]={dnstime:e,tcptime:l,ssltime:s,responseTotal:c,requestTime:d,responseTime:u,ttfb:p,encodeSize:w,decodeSize:m}})),console.log(n),n}function s(o,t){var e=document.createElement("script");e.defer=!0,e.src=o,e.crossOrigin="anonymous",e.onload=t,document.head.appendChild(e)}var c=Object.assign({},window.seo_log_config||{},window.log_config||{}),d=c.hasArmsSDK,u=void 0!==d&&d,p=c.hasJstrackerSDK,w=void 0!==p&&p,m=c.notInitArmsSdk,v=void 0!==m&&m,f=c.armsPid,b=void 0===f?"tmall-oversea-seo":f,g=c.isHomepage,h=void 0!==g&&g,y=c.domainListNeedCollect,O=void 0===y?[]:y,S=c.seoCwvCollectConfig,T=void 0===S?{doCollectCWV:!0,logPath:""}:S,M=T.doCollectCWV,C=T.logPath,D=[].concat(["h5api.m.taobao.com","g.alicdn.com","gw.alicdn.com","img.alicdn.com","world.taobao.com","www.taobao.com","m.intl.taobao.com","guide-acs.m.taobao.com","trade-acs.m.taobao.com","acs-m.taobao.com","h5api-intl.m.taobao.com"],O);function P(){if(u&&!v||(window.trace=TraceSdk({pid:b,plugins:[[TracePvPlugin,{autoPV:!0}],[TraceApiPlugin,{sampling:1}],[TracePerfPlugin,{enableLCP:!0}],[TraceResourceErrorPlugin]]}),window.trace.install()),M){s("https://unpkg.com/web-vitals@3.1.1/dist/web-vitals.iife.js",(function(){return function(o){webVitals.onCLS((function(t){return n(t,o)})),webVitals.onFID((function(t){return n(t,o)})),webVitals.onLCP((function(t){return n(t,o)})),webVitals.onFCP((function(t){return n(t,o)})),webVitals.onTTFB((function(t){return n(t,o)}))}(c)}));var o=function(o){var t="https://world.taobao.com",e={"list/category":"https://www.taobao.com/list/category","list/category/keywords":"https://www.taobao.com/list/category/keywords","list/category/wap":"https://www.taobao.com/list/wap/category","list/product":"https://www.taobao.com/list/product","list/product/wap":"https://www.taobao.com/list/wap/product","list/product/top-rated":"https://www.taobao.com/list/product/top-rated","list/product/top-rated/wap":"https://www.taobao.com/list/product/top-rated/wap","list/item":"https://www.taobao.com/list/item","list/item/wap":"https://www.taobao.com/list/item/wap","list/dianpu":"https://www.taobao.com/list/dianpu","list/dianpu/wap":"https://www.taobao.com/list/dianpu/wap","world.taobao.com/category":"https://world.taobao.com/category","world.taobao.com/category/keywords":"https://world.taobao.com/category/keywords","world.taobao.com/category/wap":"https://world.taobao.com/category/wap","world.taobao.com/product":"https://world.taobao.com/product","world.taobao.com/product/wap":"https://world.taobao.com/product/wap","world.taobao.com/product/top-rated":"https://world.taobao.com/product/top-rated","world.taobao.com/product/top-rated/wap":"https://world.taobao.com/product/top-rated/wap","world.taobao.com/item":"https://world.taobao.com/item","world.taobao.com/item/wap":"https://world.taobao.com/item/wap","world.taobao.com/dianpu":"https://world.taobao.com/dianpu","world.taobao.com/dianpu/wap":"https://world.taobao.com/dianpu/wap","world.taobao.com/qingdan":"https://world.taobao.com/qingdan","world.taobao.com/jiage":"https://world.taobao.com/jiage","m.intl.taobao.com/detail/detail":"https://m.intl.taobao.com/detail/detail.html"};if(o)t=o;else for(var a in e)location.href.indexOf(a)>-1&&(t=e[a]);return t}(C);console.log(o,"logUrl"),window.trace.before("send",(function(t){t.url=o}))}var t=c.slsOpts,e=void 0===t?{}:t,a=l();D.forEach((function(o){var t="https://"+o;a[t]&&(window.trace.setConfig({pid:"tmall-oversea-seo"}),window.trace.log(Object.assign({code:12,type:"network",msg:"network",sampleRate:1,c1:o,c2:a[t].dnstime,c3:a[t].tcptime,c4:a[t].ssltime,c5:a[t].responseTotal,p6:a[t].requestTime,p7:a[t].responseTime,p8:a[t].ttfb,p11:a[t].encodeSize,p12:a[t].decodeSize},e)),h&&window.trace.setConfig({pid:"overseaMain"}))}))}try{w&&window.addEventListener("jstracker.fsp",(function(o){var t=o.detail,e=t.cost,a=t.timestamp;console.log(o.detail,a),function(o){var t=l();D.forEach((function(e){var a="https://"+e;if(t[a]&&w){var n={name:""+e,url:window.location.host+window.location.pathname,st:t[a].dnstime,ser:t[a].tcptime,req:t[a].ssltime,duration:o,size:t[a].responseTotal,ratio:t[a].requestTime,speed:t[a].responseTime,repeatUseDns:0===t[a].dnstime,ttfb:t[a].ttfb};window.JSTracker2.push({type:"api_perf",msg:JSON.stringify(n),sampling:1,name:"performance"})}}))}(e)})),u?P():s("//g.alicdn.com/trace/trace/??sdk.js,resourceError-plugin.js,perf-plugin.js,pv-plugin.js,api-plugin.js",P)}catch(o){console.log(o)}}]);