"use strict";(self.webpackChunkheifetz=self.webpackChunkheifetz||[]).push([[8368],{35570:function(e,t){var n=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;t.Z=function(e){return n.test(e)}},88197:function(e,t,n){n.d(t,{g:function(){return r},v:function(){return i}});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t){return setTimeout(t,e)})};function i(e){var t=[];return e.reduce(function(e,n){return e.then(function(){return n().then(function(e){t.push(e)})})},Promise.resolve()).then(function(){return t})}},98606:function(e,t,n){n.d(t,{n:function(){return a}});var r=n(87804),i={400:"请求参数有误。",401:"用户认证失败。",403:"服务已拒绝。",404:"资源不存在。",405:"请求方式有误。",410:"资源已解散。",502:"网关错误。",503:"服务无响应。",504:"网关超时。"},a=function(e){var t;return(null==e?void 0:null===(t=e.payload)||void 0===t?void 0:t.message)||(null==e?void 0:e.status)&&i[e.status]||"服务繁忙，请稍候再试。"};t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)("ui/showToast").dispatch({icon:"fail",text:a(e)})}},30256:function(e,t,n){var r=n(55164),i=n(85879),a=n(43384),o=n(84871),c=n.n(o);t.Z=function(e){return c()(function(t){var n=(0,a.Q4)().trackEvent;return(0,i.tZ)(e,(0,r._)({trackEvent:n},t))},e)}},89774:function(e,t,n){var r=n(53778),i=n(7407);t.Z=function(){return(0,r.useSelector)(i.Xj)}},96955:function(e,t,n){var r=n(55164),i=n(57477),a=n(71728),o=n(94009),c=n(85879),s=n(83697),l=n(95548),u=n.n(l),d=n(87363),g=n(87641),p=n(47842),A=n(38889),h=n(67689),f=function(e){var t=e.title,n=e.content,l=e.ok,u=e.cancel,h=e.onOk,f=e.onCancel,m=e.disabled,C=(0,a._)(e,["title","content","ok","cancel","onOk","onCancel","disabled"]),E=(0,o._)((0,d.useState)(!0),2),v=E[0],I=E[1],B=(0,o._)((0,d.useState)(!1),2),S=B[0],Q=B[1],w=function(e){return function(){I(!1),Q(!0),e()}},y=(0,s.n)();return(0,c.tZ)(p.Z,(0,i._)((0,r._)({closeButton:null,maskClosable:!1,hotKeyClosable:!1,css:[{overflow:"hidden",maxWidth:"96vw",".Modal-content":{margin:0,padding:0}},y.Mobile&&{width:320,borderRadius:12,boxShadow:""}]},C),{children:v&&(0,c.BX)(g.Box,{px:"36px",py:"24px",children:[t&&(0,c.tZ)(g.Text,{fontSize:"18px",lineHeight:"28px",fontWeight:"bold",textAlign:"center",children:t}),n&&(0,c.tZ)(g.Text,{mt:t?"16px":"0",fontSize:"14px",lineHeight:"normal",color:"GBK03A",maxHeight:"calc(67vh - 100px)",css:{wordBreak:"break-all",overflowY:"auto",WebkitOverflowScrolling:"touch",marginRight:-10,paddingRight:10},children:n}),(0,c.BX)(g.Flex,{mt:"16px",css:{button:{padding:0,flex:1,height:36,lineHeight:1,fontSize:15,borderRadius:4,":active":{opacity:.6}}},justifyContent:"center",fontWeight:"bold",children:[u&&(0,c.tZ)(A.ZP,{css:{marginRight:4},onClick:w(f),children:u}),(0,c.tZ)(A.ZP,{preset:"primary",color:"blue",css:{maxWidth:"60%"},onClick:w(h),disabled:m||S,children:l})]})]})}))};t.Z=function(){var e=(0,h.Z)(),t=e.addInstance,n=e.removeInstance,i=function(e){return setTimeout(function(){return n(e)},300)};return{alert:function(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=o.title,l=o.ok,d=(0,a._)(o,["title","ok"]);return new Promise(function(i){t(n=(0,c.tZ)(f,(0,r._)({content:e,title:s,ok:l||"确定",onOk:i,css:{textAlign:"center"}},d),u()("modal")))}).finally(function(){return i(n)})},confirm:function(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.title,o=r.ok,s=r.cancel,l=r.disabled;return new Promise(function(r,i){t(n=(0,c.tZ)(f,{content:e,title:a,ok:o||"确定",onOk:r,cancel:s||"取消",onCancel:i,disabled:l},u()("modal")))}).finally(function(){return i(n)})}}}},10757:function(e,t,n){n.d(t,{Z:function(){return I}});var r=n(20857),i=n(22107),a=n(94707),o=n(87320),c=n(86325),s=n(55164),l=n(71728),u=n(85626),d=n(85879),g=n(11738),p=n(26115),A=n(92769),h=n.n(A),f=n(14168),m=n.n(f),C=n(87363),E=n(38889),v=n(34150),I=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(e){var a;return(0,i._)(this,n),a=t.call(this,e),(0,o._)((0,r._)(a),"handleSwitchPasswordInputType",function(){a.setState(function(e){return{inputType:"password"===e.inputType?"text":"password"}})}),(0,o._)((0,r._)(a),"handleChange",function(e){!!e!==a.state.hasValue&&a.setState({hasValue:!!e}),a.props.onChange(e)}),a.state={hasValue:!!e.defaultValue,inputType:e.defaultType},a}return(0,a._)(n,[{key:"render",value:function(){var e=h()(this.props,["onChange","defaultType"]),t=e.switchDisabled,n=e.placeholderPrefix,r=(0,l._)(e,["switchDisabled","placeholderPrefix"]),i=this.state,a=i.inputType,o=i.hasValue;return(0,d.BX)("div",{className:"SignFlow-password",children:[(0,d.tZ)(v.Z,(0,s._)({name:"password",inputClassName:"password"===a&&o?"SignFlow-passwordInput":"",type:a,placeholder:"".concat(n||"","密码"),onChange:this.handleChange,errorMessageClassName:"SignFlow-passwordErrorMask",validations:[{type:"required",message:"请输入密码",className:"SignFlow-requiredPasswordErrorMask"}]},r)),!t&&(0,d.tZ)(E.ZP,{className:"SignFlow-switchPassword",tabIndex:-1,preset:"plain",onClick:this.handleSwitchPasswordInputType,icon:"password"===a?g.Z:p.Z})]})}}]),n}(C.Component);(0,o._)(I,"propTypes",{onChange:m().func.isRequired,switchDisabled:m().bool,defaultType:m().string}),(0,o._)(I,"defaultProps",{defaultType:"password"})},49102:function(e,t,n){n.d(t,{Z:function(){return ty}});var r=n(55164),i=n(71728),a=n(85879),o=n(69383),c=n(20857),s=n(22107),l=n(94707),u=n(87320),d=n(86325),g=n(85626),p=n(70877),A=n(54231),h=n(87363),f=n.n(h),m=n(30851),C=Object.assign;function E(e){var t;return f().createElement(m.Z,C(C({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"function"==typeof(t=e.className)?t():"ZDI ZDI--CheckCircle24"+(t?" "+t:"")}),f().createElement("g",{fillRule:"evenodd",clipRule:"evenodd"},f().createElement("path",{d:"M12 20.5a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17Zm0 1.5c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Z"}),f().createElement("path",{d:"M10.414 15.175a.75.75 0 0 1 0-1.06L15.16 9.37a.75.75 0 0 1 1.06 1.06l-4.744 4.745a.75.75 0 0 1-1.06 0Z"}),f().createElement("path",{d:"M7.78 11.48a.75.75 0 0 1 1.061 0l2.634 2.634a.75.75 0 0 1-1.06 1.061L7.78 12.541a.75.75 0 0 1 0-1.06Z"})))}var v=Object.assign;function I(e){var t;return f().createElement(m.Z,v(v({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"function"==typeof(t=e.className)?t():"ZDI ZDI--ExclamationCircle24"+(t?" "+t:"")}),f().createElement("path",{fillRule:"evenodd",d:"M12 20.5a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17Zm0 1.5c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Z",clipRule:"evenodd"}),f().createElement("path",{fillRule:"evenodd",d:"M12 7a.75.75 0 0 1 .75.75v5a.75.75 0 0 1-1.5 0v-5A.75.75 0 0 1 12 7Z",clipRule:"evenodd"}),f().createElement("path",{d:"M13 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}))}var B=n(25628),S=n.n(B),Q=n(14168),w=n.n(Q),y=n(53778),Z=n(86616),k=n(87641),T=n(94057),b=n(80714),N=n(30256),D=n(68900),R=n(63315),x=n(66980),_=Object.assign,M=function(e){return f().createElement(x.Z,_({width:"52",height:"52",fill:"none"},e),f().createElement("mask",{id:"id-320414155-a",width:"52",height:"52",x:"0",y:"0",maskUnits:"userSpaceOnUse"},f().createElement("path",{fill:"#fff",d:"m0 0 52 52V0H0z"})),f().createElement("g",{mask:"url(#id-320414155-a)"},f().createElement("path",{fill:"#06F",d:"m0 0 52 52V0H0z"}),f().createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M22.125 4h13.75A4.125 4.125 0 0 1 40 8.125v27.75A4.125 4.125 0 0 1 35.875 40h-13.75A4.125 4.125 0 0 1 18 35.875V8.125A4.125 4.125 0 0 1 22.125 4zm6.938 34.222c1.139 0 2.062-.945 2.062-2.11 0-1.167-.923-2.112-2.063-2.112-1.139 0-2.062.945-2.062 2.111 0 1.166.923 2.111 2.063 2.111zM21 8.333v24h16v-24H21z",clipRule:"evenodd"}),f().createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M46.996 15.482 39 19.064l-7.996-3.582A1.6 1.6 0 0 1 32.6 14h12.8a1.6 1.6 0 0 1 1.596 1.482zM47 16.646V24.4a1.6 1.6 0 0 1-1.6 1.6H32.6a1.6 1.6 0 0 1-1.6-1.6v-7.754l8 3.584 8-3.584z",clipRule:"evenodd"}),f().createElement("path",{fill:"#06F",d:"M31 15.483v1.17l8 3.577 8-3.577v-1.17l-8 3.581-8-3.581z"})))},z=function(e){(0,d._)(n,e);var t=(0,g._)(n);function n(e){var r;return(0,s._)(this,n),r=t.call(this,e),(0,u._)((0,c._)(r),"cancelCheckQrcodeScanStatus",function(){r.timer&&window.clearInterval(r.timer)}),(0,u._)((0,c._)(r),"checkQrcodeScanStatus",function(e){var t=r.props,n=t.checkQrcodeScanStatus,i=t.trackEvent,a=t.isSignPage;r.timer=setInterval(function(){n({token:e}).then(function(e){var t;(null===(t=e.payload)||void 0===t?void 0:t.accessToken)&&!a&&(null==i||i({block:"qrcode_loginSuccess"}))})},2e3)}),(0,u._)((0,c._)(r),"handleChangeStatus",function(e,t){r.setState({status:e}),"init"!==e||t||r.getToken(),A.ZP.increment("logIn.qrcode.".concat(e,".count"),.001)}),(0,u._)((0,c._)(r),"handleChangeLoginType",function(){var e=r.props.onChangeType;r.cancelCheckQrcodeScanStatus(),e()}),r.state={type:"password",status:"init",errorMessage:"",guideTypeSymbol:"d"},r}return(0,l._)(n,[{key:"componentDidMount",value:function(){var e=this.props.isInSignPage,t=this.state.guideTypeSymbol;e&&o.Z.trackCardShow(null,{id:9214,name:t}),this.getToken()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.qrcodeLoginToken,r=t.qrcodeLoginScanStatus,i=e.qrcodeLoginToken,a=e.qrcodeLoginScanStatus,o=e.qrcodeLoginError,c=e.qrcodeLoginReturnNewToken;""!==i&&n!==i?(this.cancelCheckQrcodeScanStatus(),"init"!==this.state.status&&this.handleChangeStatus("init",!0),this.checkQrcodeScanStatus(i)):r!==a?2!==a&&this.handleChangeStatus(1===a?"success":"init",c||1===r&&0===a):o&&o.code&&(this.cancelCheckQrcodeScanStatus(),40321===o.code&&this.setState({status:"error",errorMessage:o.message}))}},{key:"componentWillUnmount",value:function(){this.cancelCheckQrcodeScanStatus()}},{key:"getToken",value:function(){return this.props.getQrcodeLoginToken()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.qrcodeLoginToken,i=t.isInSignPage,o=t.showSwitchTypeIcon,c=t.isBlockType,s=this.state,l=s.status,u=s.errorMessage,d=s.guideTypeSymbol,g=null;return g="init"===l?(0,a.BX)("div",{className:"Qrcode-content",children:[(0,a.tZ)("div",{className:"Qrcode-img",children:r?(0,a.tZ)("img",{className:"Qrcode-qrcode",width:"150",height:"150",src:"//".concat(b.Z.wwwHost,"/api/v3/account/api/login/qrcode/").concat(r,"/image").concat(i?"?utm_campaign=internal&utm_medium=qr&utm_source=login&utm_term=force_launch&utm_content=qrscan".concat(d):""),alt:"二维码"}):(0,a.tZ)(p.Z,{count:3})}),(0,a.BX)("div",{className:"Qrcode-guide-message",children:[c&&(0,a.tZ)("div",{className:"Qrcode-title",children:"扫码登录"}),(0,a.tZ)(k.Box,{mt:"24px",color:"GBK03A",fontSize:14,fontWeight:"bold",lineHeight:"20px",children:"其他扫码方式：微信"})]})]}):"success"===l?(0,a.BX)(a.HY,{children:[(0,a.BX)("div",{className:"Qrcode-content Qrcode-success",children:[(0,a.tZ)("div",{className:"Qrcode-scanResultStaus",children:(0,a.tZ)(E,{fill:"#2db370",size:58})}),(0,a.tZ)("p",{className:"Qrcode-scanResultTips",children:"扫描成功"}),(0,a.tZ)("p",{children:"请在手机上「确认登录」"})]}),(0,a.tZ)("div",{className:"Qrcode-cutButton",children:(0,a.tZ)("span",{role:"button",tabIndex:0,onClick:function(){return e.handleChangeStatus("init")},children:"返回二维码"})})]}):(0,a.BX)("div",{className:"Qrcode-content Qrcode-failure",children:[(0,a.tZ)("div",{className:S()({"Qrcode-scanResultStaus":c}),children:(0,a.tZ)(I,{fill:"#ffaa00",size:58})}),c&&(0,a.tZ)("p",{className:"Qrcode-scanResultTips",children:"扫描失败"}),(0,a.tZ)("p",{children:u})]}),(0,a.BX)("div",{className:S()("Qrcode-container",n),children:[(0,a.tZ)(k.Box,{color:"GBK03A",fontSize:16,fontWeight:"bold",lineHeight:"23px",children:"打开知乎App"}),(0,a.tZ)(k.Box,{mt:"8px",mb:"24px",color:"GBK03A",fontSize:14,lineHeight:"20px",children:"在「我的页」左上角打开扫一扫"}),g,o&&(0,a.tZ)(M,{onClick:this.handleChangeLoginType})]})}}]),n}(h.Component);(0,u._)(z,"propTypes",{type:w().string,isShowPasswordLogin:w().bool,onChangeType:w().func,getQrcodeLoginToken:w().func,checkQrcodeScanStatus:w().func,isInSignPage:w().bool,showSwitchTypeIcon:w().bool,isBlockType:w().bool}),(0,u._)(z,"defaultProps",{qrcodeLoginToken:"",qrcodeLoginScanStatus:"",onChangeType:function(){},showSwitchTypeIcon:!0,isBlockType:!1});var P=(0,T.compose)(Z.withRouter,N.Z,(0,y.connect)(function(e,t){var n=e.login;return{qrcodeLoginToken:n.qrcodeLoginToken,qrcodeLoginTokenExpires:n.qrcodeLoginTokenExpires,qrcodeLoginScanStatus:n.qrcodeLoginScanStatus,qrcodeLoginError:n.qrcodeLoginError,qrcodeLoginReturnNewToken:n.qrcodeLoginReturnNewToken,edition:(0,D.cM)(e),isSignPage:["/signin","/signup"].includes(t.router.location.pathname)}},{getQrcodeLoginToken:R.L1,checkQrcodeScanStatus:R.gf}))(z),U=n(57477),V=n(97476),L=function(e){return{padding:"4px 10px",border:"1px solid #EBEBEB",borderRadius:"29px",fontSize:"12px",color:e.colors.GBK03A,lineHeight:"19px",":hover":{background:e.colors.GBK10A},display:"inline-block"}},F=function(e){var t=e.isQRCodeShown,n=e.onQRCodeLinkClick,o=e.zaClickId,c=(0,i._)(e,["isQRCodeShown","onQRCodeLinkClick","zaClickId"]);return(0,a.BX)(k.Flex,(0,U._)((0,r._)({fontSize:14,color:"GBL01A",height:"60px",alignItems:"center",justifyContent:"center",css:{boxSizing:"border-box",margin:"26px 0 22px"}},c),{children:[(0,a.tZ)(k.Box,{children:(0,a.tZ)(k.Button,{css:L,bg:"unset",fontWeight:"inherit",mr:"8px",onClick:n,children:void 0!==t&&t?"关闭二维码":"下载知乎App"})}),(0,a.tZ)(k.Box,{css:{whiteSpace:"nowrap"},children:(0,a.tZ)(k.Link,{href:"/org/signup",css:L,mr:"8px","data-za-detail-view-id":o,children:"开通机构号"})}),(0,a.tZ)(k.Box,{css:{whiteSpace:"nowrap"},children:(0,a.tZ)(k.Button,{css:L,bg:"unset",fontWeight:"inherit",onClick:V.Gb,"data-za-detail-view-id":o,children:"无障碍模式"})})]}))},q=n(45842),J=n(36798),O=n(66263),K=n(94009),W=n(65733),H=n(43384),G=n(87843),Y=n(67927),X=n(54674),j=n(38889),$=function(e){var t=e.onBack,n=e.data,r=n.phoneNo,i=n.code,o=n.targetNo,c=e.onSubmit;return(0,a.BX)("div",{className:"MobileSMSIdentify",children:[(0,a.BX)("div",{className:"MobileSMSIdentify-nav",children:[(0,a.tZ)(X.e,{onClick:t,size:36,fill:"#808080",center:!0}),(0,a.tZ)("div",{children:"身份验证"})]}),(0,a.BX)("div",{className:"MobileSMSIdentify-tip",children:["请用手机号\xa0",r.slice(0,-8),"****",r.slice(-4),"\xa0编辑发送短信后，返回本页面继续操作"]}),(0,a.BX)("div",{className:"MobileSMSIdentify-content",children:[(0,a.BX)("div",{children:["编辑短信",(0,a.tZ)("span",{children:i})]}),(0,a.BX)("div",{children:["发送到",(0,a.tZ)("span",{children:o})]})]}),(0,a.tZ)(j.ZP,{className:"MobileSMSIdentify-submit",preset:"primary",color:"blue",onClick:c,children:"短信已发送，点击校验"})]})},ee=function(e){var t=e.onBack,n=e.data,r=n.phoneNo,i=n.code,o=n.targetNo,c=e.onSubmit;return(0,a.BX)("div",{className:"SMSIdentify",children:[(0,a.BX)("div",{className:"SMSIdentify-back",role:"button",tabIndex:0,onClick:t,children:[(0,a.tZ)(X.e,{fill:"#8590a6",size:36,center:!0}),"返回"]}),(0,a.tZ)("div",{className:"SMSIdentify-title",children:"身份验证"}),(0,a.BX)("div",{className:"SMSIdentify-tip",children:["请用手机号\xa0",r.slice(0,-8),"****",r.slice(-4),"\xa0发送短信"]}),(0,a.BX)("div",{className:"SMSIdentify-content",children:[(0,a.BX)("div",{children:["短信内容",(0,a.tZ)("span",{children:i})]}),(0,a.BX)("div",{children:["发送到号码",(0,a.tZ)("span",{children:o})]})]}),(0,a.tZ)("div",{className:"SMSIdentify-submitTip",children:"发送完成后，请点击下方按钮进行校验"}),(0,a.tZ)(j.ZP,{className:"SMSIdentify-submit",preset:"primary",color:"blue",onClick:c,children:"我已发送"})]})},et=(0,y.connect)(null,{getSMSIdentify:R.O,postSMSIdentify:R.qo,showNotification:Y.c0})(function(e){var t=e.getSMSIdentify,n=e.postSMSIdentify,r=e.showNotification,i=e.onBack,c=e.phoneNo,s=(0,K._)((0,h.useState)({code:"",phoneNo:"",targetNo:""}),2),l=s[0],u=s[1];(0,h.useEffect)(function(){o.Z.trackCardShow(null,{id:5935})},[]),(0,h.useEffect)(function(){c&&t(c).then(function(e){var t=e.payload;t&&u(t)}).catch(function(e){var t=e.payload;t&&u(t)})},[t,c]);var d=b.Z.isMobileEntry?$:ee;return(0,a.tZ)(d,{onBack:i,onSubmit:function(){o.Z.trackEvent(null,{id:23456}),n(c).then(function(e){var t=e.payload;o.Z.trackEvent(null,{id:6729,action:"Click",name:t.success?"通过":"失败"}),t.success?i():r("没有收到短信，请稍后重试","red")})},data:l})}),en=n(71670);function er(e){return"Enter"===e.key||" "===e.key||"Enter"===e.code||"Space"===e.code||13===e.keyCode||32===e.keyCode}var ei=Object.assign,ea=function(e){return f().createElement(x.Z,ei({width:"52",height:"52",fill:"none"},e),f().createElement("mask",{id:"id-3757926926-a",width:"52",height:"52",x:"0",y:"0",maskUnits:"userSpaceOnUse"},f().createElement("path",{fill:"#fff",d:"m0 0 52 52V0H0z"})),f().createElement("g",{mask:"url(#id-3757926926-a)"},f().createElement("path",{fill:"#06F",d:"M0 0h48a4 4 0 0 1 4 4v48L0 0z"}),f().createElement("path",{fill:"url(#id-3757926926-b)",d:"M0 0h52v52H0z"})),f().createElement("defs",null,f().createElement("pattern",{id:"id-3757926926-b",width:"1",height:"1",patternContentUnits:"objectBoundingBox"},f().createElement("use",{xlinkHref:"#id-3757926926-c",transform:"scale(.00216)"})),f().createElement("image",{xlinkHref:"data:image/png;base64,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",id:"id-3757926926-c",width:"463",height:"463"})))},eo=function(e){var t=e.type,n=e.showSwitchTypeIcon,r=(0,en.h)().handleChangeType;return(0,a.BX)("div",{className:"SignFlow-tabs",children:[(0,a.tZ)(H.$U,{as:"div",zaText:"免密码登录",zaType:"Button",zaAction:"Save",className:S()("SignFlow-tab",{"SignFlow-tab--active":"digits"===t}),role:"button",tabIndex:0,onClick:function(){"digits"!==t&&r("digits")},onKeyDown:function(e){er(e)&&"digits"!==t&&r("digits")},children:"验证码登录"}),(0,a.tZ)(H.$U,{as:"div",zaText:"密码登录",zaType:"Button",zaAction:"Save",className:S()("SignFlow-tab",{"SignFlow-tab--active":"password"===t}),role:"button",tabIndex:0,onClick:function(){"password"!==t&&r("password")},onKeyDown:function(e){er(e)&&"password"!==t&&r("password")},children:"密码登录"}),n&&(0,a.tZ)(H.$U,{as:"div",zaText:"二维码图片登录",zaType:"Button",zaAction:"Save",role:"button",tabIndex:0,"aria-label":"二维码图片",className:"SignFlow-qrcodeTab",onClick:function(){r("qrcode")},children:(0,a.tZ)(ea,{})})]})};eo.propTypes={showSwitchTypeIcon:w().bool},eo.defaultProps={showSwitchTypeIcon:!0};var ec=n(80487),es=function(e){var t=e.type,n=e.isOversea,o=e.supportedCountriesShown,c=e.selectedCountry,s=e.username,l=e.usernameServerError,u=e.customErrorInputMap,d=(void 0===u?{}:u).username,g=(0,i._)(e,["type","isOversea","supportedCountriesShown","selectedCountry","username","usernameServerError","customErrorInputMap"]),p=(0,en.h)().handleChange;return(0,a.tZ)(ec.Z,(0,r._)({type:"digits"===t||o?"digits":"password",supportedCountriesShown:"digits"===t||n,onChange:function(e){return p("username",e)},onSelect:function(e){return p("selectedCountry",e)},defaultSelectedCountry:c,manualValidateError:l||d,defaultValue:s},g))},el=n(49899),eu=n(10757),ed=n(29102),eg=function(e){var t=e.handleRegister,n=e.setState,r=e.usernameServerError,i=e.passwordServerError,o=e.submitDisabled,c=(0,y.useDispatch)(),s=(0,W.Z)(function(e){return function(t){return n((0,u._)({},e,t))}});return(0,a.BX)(G.Z,{className:"SignFlow-setting",onSubmit:t,children:[(0,a.BX)("div",{role:"button",tabIndex:0,className:"SignFlow-back",onClick:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(R.S7.apply(void 0,(0,el._)(t)))},children:[(0,a.tZ)(X.e,{center:!0,size:28,fill:"#8590a6"}),"返回"]}),(0,a.tZ)("div",{className:"SignFlow-settingTitle",children:"设置用户名和密码"}),(0,a.tZ)(ed.Z,{name:"fullname",placeholder:"用户名",onChange:s("fullname"),manualValidateError:r}),(0,a.tZ)(eu.Z,{onChange:s("password"),placeholderPrefix:"8 位数字或字母",defaultType:"text",manualValidateError:i}),(0,a.tZ)(j.ZP,{type:"submit",className:"SignFlow-submitButton",preset:"primary",color:"blue",disabled:o,children:"进入知乎"})]},"setting")},ep=n(79065),eA=n(25773),eh=n(25669),ef=n(34150);function em(){var e=(0,ep._)([""," 秒后可重发"]);return em=function(){return e},e}var eC=function(e){(0,d._)(n,e);var t=(0,g._)(n);function n(){return(0,s._)(this,n),t.apply(this,arguments)}return(0,l._)(n,[{key:"render",value:function(){var e,t=this.props,n=t.countDownEvent,o=t.countDownEndEvent,c=t.startAtOnce,s=t.interceptTime,l=t.isEmail,u=t.reStartTime,d=t.smsType,g=(0,i._)(t,["countDownEvent","countDownEndEvent","startAtOnce","interceptTime","isEmail","reStartTime","smsType"]);return e=l?"邮箱":"voice"===d?"语音":"短信",(0,a.BX)("div",{className:"SignFlow SignFlow-smsInputContainer",children:[(0,a.tZ)(ef.Z,(0,r._)({name:"digits",className:"SignFlow-smsInput",type:"number",smsType:d,errorMessageClassName:"SignFlow-smsInputErrorMessage",placeholder:"输入 6 位".concat(e,"验证码"),validations:[{type:"required",message:"请输入".concat(e,"验证码"),className:"SignFlow-smsInputRequiredErrorMask"}]},g)),(0,a.tZ)(eA.Z,{className:"SignFlow-smsInputButton",preset:"plain",initialText:"获取".concat(e,"验证码"),resetText:"重新获取".concat(e,"验证码"),countingText:(0,eh.Z)(em(),"count"),startAtOnce:c,event:n,countDownEndEvent:o,interceptTime:s,reStartTime:u})]})}}]),n}(h.Component);(0,u._)(eC,"propTypes",{countDownEvent:w().func.isRequired,startAtOnce:w().bool,interceptTime:w().number,reStartTime:w().number,isEmail:w().bool,countDownEndEvent:w().func,smsType:w().string}),(0,u._)(eC,"defaultProps",{startAtOnce:!1,isEmail:!1});var eE=function(e){var t=e.type,n=e.smsInputInterceptTime,o=e.digitsServerError,c=e.smsType,s=e.reStartTime,l=e.passwordServerError,u=e.password,d=(0,i._)(e,["type","smsInputInterceptTime","digitsServerError","smsType","reStartTime","passwordServerError","password"]),g=(0,en.h)(),p=g.handleSendDigits,A=g.setState,h=(0,W.Z)(function(){A({smsBackUpDisplay:!0})}),f=(0,W.Z)(function(e){return A({digits:e})}),m=(0,W.Z)(function(e){return A({password:e})});return(0,a.BX)(a.HY,{children:["digits"===t&&(0,a.tZ)(a.HY,{children:(0,a.tZ)(eC,(0,r._)({countDownEvent:p,countDownEndEvent:h,interceptTime:n,manualValidateError:o,smsType:c,reStartTime:s,onChange:f},d))}),"password"===t&&(0,a.tZ)(a.HY,{children:(0,a.tZ)(eu.Z,(0,r._)({onChange:m,manualValidateError:l,defaultValue:u},d))})]})},ev=n(89630),eI=void 0,eB=function(e){var t=e.smsBackUpName,n=e.smsBackUpDisplay,r=e.isOverSea,i=e.smsType,c=e.type,s=e.containerType,l=(0,en.h)(),u=l.handleChangeType,d=l.setState,g=(0,W.Z)(function(){o.Z.trackEvent(event.currentTarget,{id:4947}),o.Z.trackEvent(eI,{action:"Click",element:"Button",element_name:"ResetPassword"}),window.open("".concat(O.i7,"/account/password_reset"),"_blank")}),p=(0,W.Z)(function(e){o.Z.trackEvent(e.currentTarget,{id:4941}),d({smsType:"text"===i?"voice":"text",smsBackUpName:"text"===i?"短信":"语音",reStartTime:Date.now()})}),A={configMap:{containerType:(0,ev.l)(s)}};return(0,a.BX)("div",{className:"Login-options",children:[(0,a.tZ)(H.$U,{as:j.ZP,zaText:r?"邮箱帐号登录":"海外手机号登录",zaType:"Button",zaAction:"Expand",extra:A,preset:"plain",className:"Login-switchType",onClick:function(){"digits"!==c&&u(r?"email":"oversea")},children:"digits"!==c&&(r?"邮箱帐号登录":"海外手机号登录")}),(0,a.tZ)(j.ZP,{preset:"plain",className:"Login-cannotLogin",onClick:"digits"===c?p:g,children:"digits"===c?n&&(0,a.BX)(H.Wi,{zaType:"Text",zaText:"免密码登录",extra:A,children:["获取",t,"验证码"]},"noPassword"):(0,a.tZ)(H.Wi,{zaType:"Text",zaText:"密码登录",extra:A,children:"忘记密码"},"forgetPassword")})]})},eS=function(e){var t=e.submitDisabled,n=e.type,r=e.containerType,i=(0,h.useMemo)(function(){return"password"!==n&&b.Z.allowSignUp?"登录/注册":"登录"},[n]);return(0,a.tZ)(H.$U,{as:j.ZP,zaText:"登录",zaType:"Button",zaAction:"Signin",extra:{configMap:{containerType:(0,ev.l)(r),signinType:n}},type:"submit",className:"SignFlow-submitButton",preset:"primary",color:"blue",disabled:t,children:i})},eQ=n(15030),ew=n(98606),ey=n(51070),eZ=n.n(ey),ek=function(e,t,n){var r=(0,W.Z)(t);(0,h.useEffect)(function(){return eZ().bind(e,r,n),function(){eZ().unbind(e)}},[JSON.stringify(e),r,n])},eT=n(13737),eb=function(e){var t=e.type,n=e.captchaV2,r=(0,y.useDispatch)();return(0,W.Z)(function(){"qrcode"!==t&&(n&&r((0,eT.o5)()),r((0,eT.il)("captcha_sign_in")))})},eN=n(57045),eD=n(79855),eR=n(96955),ex=n(88197),e_=f().memo(f().forwardRef(function(e,t){var n,r=e.onReady,i=e.onVerify,o=e.onClose,c=(0,y.useSelector)(function(e){return e.captcha}).v2,s=(0,h.useRef)(null),l=(0,eR.Z)(),u=null==c?void 0:null===(n=c.script)||void 0===n?void 0:n[1],d=(0,h.useRef)(null),g=(0,h.useRef)(),p=(0,h.useRef)(),A=(0,K._)((0,h.useState)("init"),2),f=A[0],m=A[1];(0,h.useEffect)(function(){if(null==c?void 0:c.script){var e=u?eN.parse(null==u?void 0:u.split("?")[1]).captchaId:"0";return d.current&&d.current!==e?(l.confirm("页面将自动刷新，请在刷新后重试",{title:"验证码已过期",ok:"刷新"}).then(function(){location.reload()}).catch(function(){s.current&&clearTimeout(s.current)}),s.current=setTimeout(function(){location.reload()},5e3)):d.current=e,function(){s.current&&clearTimeout(s.current)}}},[c,u,l]),(0,h.useImperativeHandle)(t,function(){return{get required(){return!!c},get ready(){return!!p.current},get type(){var e;return(null===(e=p.current)||void 0===e?void 0:e.type)||"vendor"},show:function(){var e;null===(e=p.current)||void 0===e||e.show()},close:function(){var e;return null===(e=p.current)||void 0===e?void 0:e.close()},refresh:function(){var e;return null===(e=p.current)||void 0===e?void 0:e.refresh()}}});var C=(0,W.Z)(function(e){if(!(null===(t=e.script)||void 0===t?void 0:t.length)){m("bypass");return}m("loading");var t,n=e.script.map(function(e){return function(){return(0,eD.v)(e)}});(0,ex.v)(n).then(function(){return m("mount"),window.ZS_CAP.init({element:g.current,callback:function(e){null==i||i(e)},enableClose:!0,onClose:o})}).then(function(e){p.current=e,m("ready"),null==r||r()}).catch(function(e){var t;return null===(t=window.Raven)||void 0===t?void 0:t.captureException(e)})});return(0,h.useEffect)(function(){c&&"init"===f&&C(c)},[c,f,C]),c?(0,a.tZ)("div",{ref:g}):null})),eM=function(e){var t=e.type,n=e.captchaV2Ref,r=e.onVerify,i=e.lastSubmittedTimestamp,o=(0,y.useDispatch)(),c=(0,en.h)(),s=c.continueActionRef,l=eb({type:t,captchaV2:c.captchaV2});return(0,h.useEffect)(function(){l(),A.ZP.increment("logIn.captcha.request.count",.001)},[l]),ek(["esc"],function(){var e;null===(e=n.current)||void 0===e||e.close()}),(0,h.useEffect)(function(){if(i&&-1!==i){var e;console.log("captcha refresh!"),null===(e=n.current)||void 0===e||e.refresh()}},[i,n]),(0,a.tZ)(e_,{ref:n,onVerify:function(e){if((0,eQ._)(e,Error))return A.ZP.increment("logIn.captcha.wrong.count"),o((0,Y.c0)(e.message||"验证失败","red"));if(!(null==e?void 0:e.type)||!(null==e?void 0:e.result))return o((0,Y.c0)("错误的验证方式","red"));var t=e.result;o((0,eT.PI)(JSON.stringify(t),!0,"captcha_sign_in")).then(function(e){var t,i,a=e.payload;(null==a?void 0:a.success)&&(null==r||r({result:"success"}),(null==s?void 0:s.current)&&(null===(i=s.current)||void 0===i||i.call(s)),null===(t=n.current)||void 0===t||t.close())}).catch(function(e){var t,i;if(null==r||r({result:"fail"}),(null==e?void 0:e.name)==="ResponseError"&&(null===(t=e.payload)||void 0===t?void 0:t.code)===120001){o((0,Y.c0)("页面已过期，请刷新页面重试","red"));return}throw o((0,Y.c0)((0,ew.n)(e),"red")),null===(i=n.current)||void 0===i||i.refresh(),e}).finally(function(){s&&(s.current=null)})},onClose:function(){if(!i){var e;console.log("captcha refresh!"),null===(e=n.current)||void 0===e||e.refresh()}}})},ez=n(35570),eP=function(e){var t=e.props,n=e.setState,r=e.state,i=t.onChangeType,a=t.type,c=t.captchaV2,s=(0,y.useDispatch)(),l=r.username,u=eb({props:t});return(0,W.Z)(function(e){s((0,R.S7)()),i(e),("qrcode"===e||"password"===e)&&o.Z.trackEvent(null,{action:"Click",name:"qrcode"===e?"使用二维码登录":"使用密码登录"},{account:{type:"Zhihu"}}),"qrcode"!==e&&(n({username:"password"===a&&(0,ez.Z)(l)?"":l,smsBackUpDisplay:!0}),c||u())})},eU=function(e){var t=e.loginConfirmError,n=e.sendDigitsError,r=e.registerValidateErrors,i=(0,h.useMemo)(function(){var e=t||{};return{loginUsernameServerError:e.username,passwordServerError:e.password,digitsServerError:e.digits,captchaServerError:e.captcha,undefinedLoginError:e.unknown,validateDigitsError:e.validateDigitsError}},[t]),a=i.loginUsernameServerError,o=i.passwordServerError,c=i.digitsServerError,s=i.captchaServerError,l=i.undefinedLoginError,u=i.validateDigitsError,d=(0,h.useMemo)(function(){var e=n||{};return{sendDigitsUsernameServerError:e.username,undefinedDigitsError:e.unknown}},[n]),g=d.sendDigitsUsernameServerError,p=d.undefinedDigitsError,A=(0,h.useMemo)(function(){var e=r||{},t=e.fullname,n=(void 0===t?{}:t).message,i=e.password;return{fullnameError:n,registerPasswordServerError:(void 0===i?{}:i).message}},[r]),f=A.fullnameError,m=A.registerPasswordServerError;return{usernameServerError:g||a,passwordServerError:o||m,digitsServerError:c||u,captchaServerError:s,fullnameError:f,undefinedLoginError:l,undefinedDigitsError:p}},eV=function(e){var t=e.setState,n=(0,y.useDispatch)();return(0,W.Z)(function(e,r){n((0,R.S7)()),t((0,u._)({},e,r))})},eL=function(e){var t=e.state,n=t.selectedCountry.code,r=t.username;return(0,W.Z)(function(){return"+86"!==n||/^\d{11}$/.test(r)})},eF=n(82452),eq=n(29065);function eJ(e,t){if(!e)return{};var n=e=e.trim(),r=(0,ez.Z)(e);if(!r){var i,a={hasCode:(i=e).startsWith("+")||i.startsWith("00"),parsedPhoneNo:i.startsWith("00")?"+".concat(i.slice(2)):i},o=a.hasCode,c=a.parsedPhoneNo;n=o?c:"".concat(t).concat(e)}return{value:n,isEmail:r}}var eO=void 0,eK=function(e){var t=e.props,n=e.setState,i=e.runBeforeResetValidateResult,a=e.runBeforeCheckCaptcha,c=e.testPhoneNo,s=e.continueActionRef,l=e.selectedCountry,u=e.captcha,d=e.customErrorInputMap,g=e.username,p=e.trackLoginSuccess,h=t.type,f=t.isOverSea,m=t.nextUrl,C=(0,y.useDispatch)();return(0,W.Z)(function(e){o.Z.trackEvent(eO,{id:4948}),i(function(){if(("digits"===h||f)&&!c()){n({customErrorInputMap:(0,U._)((0,r._)({},d),{username:g?"请输入正确的手机号":"请输入手机号"}),smsInputInterceptTime:Date.now()});return}A.ZP.increment("logIn.clickLogInBtn.count",.1);var t=function(){var t=(0,eF.tL)(m),i=t.utm_source,a=t.utm_medium,o=(0,U._)((0,r._)({},e),{username:eJ(e.username,l.code).value,captcha:u,utmSource:i,refSource:a});n({lastSubmittedTimestamp:Date.now()}),C((0,R.uJ)((0,eq.Z)(h,o))).then(function(e){var t;(null===(t=e.payload)||void 0===t?void 0:t.accessToken)&&(null==p||p())})};s.current=t,a().then(function(e){e&&t()}).finally(function(){return n({submitDisabled:!1})})})})},eW=function(e){e&&(e.addEventListener("focus",function(e){e.target.style.boxShadow="0 0 0 2px #ffffff, 0 0 0 4px rgb(0 102 255 / 30%)"},!0),e.addEventListener("blur",function(e){e.target.style.boxShadow="none"},!0))},eH=function(e){var t=document.createElement("button");return t.style.position="absolute",t.style.top="15px",t.style.right="15px",t.style.fontSize="16px",t.innerText="✕",t.setAttribute("tabindex","0"),t.addEventListener("click",e),eW(t),t},eG=function(e){var t=e.querySelector(".yidun_modal__title");t.setAttribute("tabindex","-1"),t.innerText="请完成安全验证，可使用语音验证",t.addEventListener("focus",function(){t.style.outline="none"}),setTimeout(function(){t.focus()},500)},eY=function(e){e.querySelector(".yidun_tips").removeAttribute("aria-live")},eX=function(e){var t=document.querySelectorAll(".yidun_modal"),n=eH(function(){var t;return null===(t=e.current)||void 0===t?void 0:t.close()});Array.from(t).forEach(function(e){e.appendChild(n),eY(e),eG(e)})},ej=function(e){var t=e.customErrorInputMap,n=e.smsType,i=e.selectedCountry.code,a=e.username,o=e.testPhoneNo,c=e.captchaV2Ref,s=e.runBeforeResetValidateResult,l=e.setState,u=e.captchaNeeded,d=e.continueActionRef,g=(0,y.useDispatch)();return(0,W.Z)(function(e,p){return s(function(){if(!o()){l({customErrorInputMap:(0,U._)((0,r._)({},t),{username:a?"请输入正确的手机号":"请输入手机号"}),smsInputInterceptTime:Date.now()});return}var e,s=eJ(a,i).value,A=function(){g((0,R.Yu)(s,n)),l({smsBackUpDisplay:!1})};if(a&&!u){A();return}if(u&&(null===(e=c.current)||void 0===e?void 0:e.required))return c.current.show(),eX(c),d.current=function(){A(),p()},!1;l({customErrorInputMap:(0,U._)((0,r._)({},t),{username:a?"":"请输入手机号"})})},!u)})},e$={username:null,password:null,captcha:null,digits:null},e0=function(e){var t=e.setState,n=(0,y.useDispatch)();return(0,W.Z)(function(e,i){return n((0,R.S7)()),t({customErrorInputMap:(0,r._)({},e$),validationResult:{needsRefresh:!1,timestamp:Date.now()}},e),i})},e1=function(e){var t=e.props,n=e.captchaV2Ref,r=t.captchaValidated,i=t.captchaNeeded;return(0,W.Z)(function(){if(!r&&i){var e;if(null===(e=n.current)||void 0===e?void 0:e.required)return n.current.show(),eX(n),Promise.resolve(!1);console.warn("Captcha is unavailable.")}return Promise.resolve(!0)})},e2=n(82865),e5=n(72925),e4=function(e){var t=e.registerConfirmSucceeded,n=e.loginConfirmSucceeded,i=e.sendDigitsError,a=e.nextUrl,o=e.username,c=e.isInSignPage,s=e.loginConfirmError,l=e.setState,u=e.loginUnregisteredError,d=e.loginBindWechatError,g=e.type,p=e.verification,A=(0,y.useDispatch)();(0,h.useEffect)(function(){!s||u||d||(A((0,eT.hU)(g)),A((0,eT.il)()))},[s,u,d,l,A,g]),(0,h.useEffect)(function(){(n||t)&&((0,e5.N)(o),(null==p?void 0:p.isZombie)&&(0,e2.dq)(p),a?location.href=a:c?location.href="/":location.reload())},[n,t]),(0,h.useEffect)(function(){if(i||!1===n){var e=i?{smsInputInterceptTime:Date.now()}:{};l((0,U._)((0,r._)({},e),{captchaValidated:!1,captchaNeeded:!0}))}},[i,n]),(0,h.useEffect)(function(){i&&null===s&&l({smsBackUpDisplay:!0})},[i])},e3={UPDATE_STATE:"UPDATE_STATE"},e7=function(e){return{smsType:"text",smsBackUpName:"语音",smsBackUpDisplay:!0,reStartTime:-1,supportedCountriesShown:!1,selectedCountry:e.selectedCountry,username:e.username,password:e.password,fullname:"",customErrorInputMap:(0,r._)({},e$),submitDisabled:!1,lastSubmittedTimestamp:-1}},e8=function(e,t){var n=t.type,i=t.callback;if(n===e3.UPDATE_STATE){var a=t.payload;return i&&i(e),(0,r._)({},e,a)}return e},e6=n(72238),e9=function(e){var t=e.props,n=e.captchaV2Ref,r=e.continueActionRef,i=e.setState,a=e.selectedCountry.code,o=e.username,c=e.fullname,s=e.digits,l=e.password,u=(0,y.useDispatch)(),d=e1({props:t,captchaV2Ref:n});return(0,W.Z)(function(){var e=function(){u((0,e6.cP)({source:"com.zhihu.web",registerType:"phone_digits",phoneNo:"".concat(a).concat(o),fullname:c,digits:s,password:l}))};r&&(r.current=e),i({submitDisabled:!0}),d().then(function(t){return t&&e()}).finally(function(){return i({submitDisabled:!1})})})},te=function(e){var t=e.isInSignPage,n=e.type,r=e.isOversea,i=e.needSMSIdentify,o=e.captchaV2,c=e.registerConfirmSucceeded,s=e.loginConfirmSucceeded,l=e.nextUrl,u=e.captchaNeeded,d=e.loginUnregisteredError,g=e.loginConfirmError,p=e.showSwitchTypeIcon,A=e.isSignPage,f=e.selectClassName,m=e.verification,C=e.containerType,E=(0,y.useDispatch)(),v=(0,K._)((0,h.useReducer)(e8,e,e7),2),I=v[0],B=v[1],S=I.selectedCountry,Q=I.username,w=I.supportedCountriesShown,Z=I.customErrorInputMap,k=I.smsInputInterceptTime,T=I.smsType,b=I.reStartTime,N=I.password,D=I.smsBackUpDisplay,x=I.smsBackUpName,_=I.submitDisabled,M=I.captcha,z=I.fullname,U=I.digits,V=I.lastSubmittedTimestamp,L=(0,h.useRef)(null),F=(0,h.useRef)(null),q=(0,h.useRef)(null),J=(0,H.Q4)().trackEvent,O=(0,W.Z)(function(){A||J({block:"".concat(n,"_loginSuccess")})}),X=(0,W.Z)(function(e,t){return B({type:e3.UPDATE_STATE,payload:e,callback:t})}),j=eU(e),$=j.usernameServerError,ee=j.digitsServerError,er=j.passwordServerError,ei=j.undefinedLoginError,ea=j.undefinedDigitsError;(0,h.useEffect)(function(){(ei||ea)&&E((0,Y.c0)(ei||ea,"red"))},[E,ei,ea]);var ec=eP({props:e,state:I,setState:X,rootRef:q}),el=eV({setState:X}),eu=eL({state:I}),ed=e0({setState:X}),ep=ej({customErrorInputMap:Z,smsType:T,selectedCountry:S,username:Q,runBeforeResetValidateResult:ed,testPhoneNo:eu,setState:X,captchaNeeded:u,captchaV2Ref:F,continueActionRef:L}),eA=e1({props:e,captchaV2Ref:F}),eh=eK({props:e,selectedCountry:S,captcha:M,setState:X,runBeforeResetValidateResult:ed,runBeforeCheckCaptcha:eA,testPhoneNo:eu,continueActionRef:L,customErrorInputMap:Z,username:Q,trackLoginSuccess:O});e4({registerConfirmSucceeded:c,loginConfirmSucceeded:s,nextUrl:l,username:Q,isInSignPage:t,loginConfirmError:g,setState:X,loginUnregisteredError:d,verification:m});var ef=e9({props:e,captchaV2Ref:F,continueActionRef:L,setState:X,selectedCountry:S,username:Q,fullname:z,digits:U,password:N});if(i)return(0,a.tZ)(et,{ref:q,onBack:function(){return E((0,R.S7)())},phoneNo:"".concat(S.code).concat(Q)});var em=null;if("qrcode"===n){var eC=(0,a.tZ)(H.Wi,{zaType:"Text",zaText:"二维码登录",extra:{configMap:{containerType:"登录页"}},children:(0,a.tZ)(P,{ref:q,isInSignPage:t,className:"SignInQrcode",onChangeType:function(){return ec("password")},showSwitchTypeIcon:p,trackLoginSuccess:O})});em=A?eC:(0,a.tZ)(H.Wi,{zaType:"Popup",zaBlock:n,children:eC},n)}else if(d&&"digits"==n)em=(0,a.tZ)(eg,{handleRegister:ef,setState:X,submitDisabled:_,usernameServerError:$,passwordServerError:er});else{var ev=(0,a.BX)(G.Z,{className:"SignFlow Login-content",onSubmit:eh,children:[(0,a.tZ)(eo,{type:n,showSwitchTypeIcon:p}),(0,a.tZ)(es,{type:n,isOversea:r,supportedCountriesShown:w,selectedCountry:S,username:Q,usernameServerError:$,customErrorInputMap:Z,targetClassName:"username-input"}),(0,a.tZ)(eE,{type:n,smsInputInterceptTime:k,digitsServerError:ee,smsType:T,reStartTime:b,passwordServerError:er,password:N,targetClassName:"username-input"}),(0,a.tZ)(eB,{type:n,isOverSea:r,smsBackUpName:x,smsBackUpDisplay:D,smsType:T,containerType:C}),(0,a.tZ)(eM,{type:n,captchaV2Ref:F,lastSubmittedTimestamp:V}),(0,a.tZ)(eS,{submitDisabled:_,type:n,containerType:C})]});em=A?(0,a.tZ)(H.Wi,{zaType:"Popup",zaBlock:n,children:ev},n):ev}return(0,a.tZ)(en.l,{handleChangeType:ec,setState:X,dispatch:B,selectClassName:f,handleChange:el,testPhoneNo:eu,handleSendDigits:ep,continueActionRef:L,captchaNeeded:u,captchaV2:o,children:em})};te.propTypes={validateAndLogin:w().func,resetLoginValidateResult:w().func,loginConfirmSucceeded:w().bool,loginConfirmError:w().object,selectClassName:w().string,sendDigitsError:w().object,captchaNeeded:w().bool,selectedCountry:w().object,username:w().string,password:w().string,type:w().oneOf(["password","digits","qrcode"]),onChangeType:w().func,isInSignPage:w().bool,showSwitchTypeIcon:w().bool},te.defaultProps={selectedCountry:{name:"中国",code:"+86"},username:"",password:""};var tt=(0,y.connect)(function(e){var t=e.captcha,n=t.captchaNeeded,r=t.captchaValidated,i=t.v2,a=e.login,o=a.loginConfirmSucceeded,c=a.loginConfirmError,s=a.sendDigitsError,l=a.needSMSIdentify,u=a.loginUnregisteredError,d=a.verification,g=e.register;return{loginConfirmSucceeded:o,loginConfirmError:c,sendDigitsError:s,loginUnregisteredError:u,captchaNeeded:n,captchaValidated:r,registerValidateErrors:g.registerValidateErrors,registerConfirmError:g.registerConfirmError,registerConfirmSucceeded:g.registerConfirmSucceeded,needSMSIdentify:l,captchaV2:i,verification:d}})(te),tn=function(e){(0,d._)(n,e);var t=(0,g._)(n);function n(){var e;return(0,s._)(this,n),e=t.apply(this,arguments),(0,u._)((0,c._)(e),"state",{type:e.props.showQrcodeFirst?"qrcode":"digits",isOversea:!1,passwordType:"email"}),(0,u._)((0,c._)(e),"handleSwitchLoginType",function(t){if("email"===t||"oversea"===t){e.setState({type:"password",isOversea:"oversea"===t,passwordType:t});return}e.setState({type:t}),A.ZP.increment("logIn.type.switchTo.".concat(t,".count"),.001)}),e}return(0,l._)(n,[{key:"renderNotification",value:function(){var e=this.props,t=e.notification,n=e.account,i=n.isAppealed,o=n.spamLevel,c=i||o?O.Wy:O.If,s=null;return s=6===o?(0,U._)((0,r._)({},t),{theme:"red"}):t,(0,a.tZ)(J.Z,{notification:s.global,delay:c,className:"AppHeader-notification"})}},{key:"render",value:function(){var e=this.props,t=e.nextUrl,n=e.isInSignPage,r=e.showSwitchTypeIcon,i=e.isSignPage,o=e.selectClassName,c=e.containerType,s=this.state,l=s.type,u=s.isOversea;return(0,a.BX)(a.HY,{children:[(0,a.tZ)(tt,{containerType:c,type:l,isInSignPage:n,isOversea:u,onChangeType:this.handleSwitchLoginType,nextUrl:t,showSwitchTypeIcon:r,isSignPage:i,selectClassName:void 0===o?"Select-popoverTarget":o}),this.renderNotification()]})}}]),n}(h.Component);(0,u._)(tn,"propTypes",{nextUrl:w().string,isInSignPage:w().bool,showSwitchTypeIcon:w().bool,selectClassName:w().string});var tr=(0,T.compose)(Z.withRouter,(0,y.connect)(function(e,t){var n=t.showQrcode,r=t.showQrcodeFirst;return{showQrcodeFirst:(void 0===n||n)&&r,notification:e.notification,account:e.account,isSignPage:["/signin","/signup"].includes(t.router.location.pathname)}}))(tn),ti=n(83697),ta=n(45913),to=n(77813),tc=n(78603),ts=n(81897),tl=n.n(ts),tu=n(89774),td=n(65357),tg={sina:"Weibo",qq:"QQ",wechat:"Wechat"},tp="/oauth/account_callback",tA={qqconn:"/oauth/redirect/login/qqconn?next=",sina:"/oauth/redirect/login/sina?next=",wechat:"/oauth/redirect/login/wechat?next="},th=function(e){(0,d._)(n,e);var t=(0,g._)(n);function n(){var e;return(0,s._)(this,n),e=t.apply(this,arguments),(0,u._)((0,c._)(e),"handleCallbackMessage",function(t){var n=t.origin,r=t.data;/(\.)?(zhihu|vzuu)\.(com|dev)/.test(n)&&r&&(e.unsubscribeCallback(),e.accountCallback(r))}),(0,u._)((0,c._)(e),"accountCallback",function(t){var n=e.props.dispatch,r=t.login,i=t.verification,a=t.is_register;if(e.dbg&&alert("收到跨窗口消息:  ".concat(JSON.stringify(t))),void 0!==a){var o=t.code,c=t.msg;if("200"===o){(0,td.Ww)(),n((0,Y.c0)("注册成功！")),setTimeout(function(){return e.reload()},1e3);return}n((0,Y.c0)(c||"网络存在异常，请您稍后再试","red"));return}(null==i?void 0:i.isZombie)&&(0,e2.dq)(i),r&&((0,e5.N)(e.clickedServiceName),e.handleLogSocialLoginSuccess(),e.reload())}),(0,u._)((0,c._)(e),"handleBuildSocialAuthLink",function(t){e.clickedServiceName=t,e.handleLogSingleSocialButtonClick(t),A.ZP.increment("logIn.clickSocial.".concat(t,".count"),.1);var n=tA[t],r=(0,eF.tL)(),i=r.utm_source,a=r.utm_medium;"sina"===t&&/WindowsWechat/.test(navigator.userAgent)?location.href="https://www.zhihu.com".concat(n).concat(tp,"&from=").concat(encodeURIComponent(e.parseNextInfoFromUrl())):(e.subscribeCallback(),window.open("https://www.zhihu.com".concat(n).concat(tp).concat(i?"&utm_source=".concat(i):"","&ref_source=").concat(a),"_blank","top=200,left=400,width=600,height=550,directories=no,menubar=no,toolbar=no"))}),(0,u._)((0,c._)(e),"handleEntranceButtonClick",function(t){e.props.onEntranceButtonClick&&e.props.onEntranceButtonClick(t),e.handleLogSocialLogin(),e.setState(function(e){return{socialButtonExpanded:!e.socialButtonExpanded}})}),(0,u._)((0,c._)(e),"parseNextInfoFromUrl",function(){var t=e.props.router.location.query.next,n="/";if(t)try{n=decodeURIComponent(t)}catch(e){n=unescape(t)}return n}),e}return(0,l._)(n,[{key:"componentDidMount",value:function(){if(document.referrer.startsWith("https://www.zhihu.com/oauth/callback/sina")){var e=tl().get("atoken"),t=tl().get("accountcallback");if(e&&t){var n=JSON.parse(decodeURIComponent(t));if(!n)return;var r=n.fullname,i=n.type;(0,this.props.onRegister)({fullname:r,socialType:i})}}}},{key:"componentWillUnmount",value:function(){this.unsubscribeCallback()}},{key:"dbg",get:function(){return this.props.office&&"undefined"!=typeof window&&localStorage.getItem("dbg")}},{key:"subscribeCallback",value:function(){window.addEventListener("message",this.handleCallbackMessage,!1),window.NWEB={accountCallback:this.accountCallback},this.domain=document.domain,document.domain="zhihu.com"}},{key:"unsubscribeCallback",value:function(){if(window.removeEventListener("message",this.handleCallbackMessage,!1),window.NWEB&&"www.zhihu.com"===location.host){try{document.domain=this.domain}catch(e){}delete window.NWEB}}},{key:"reload",value:function(){var e=this.parseNextInfoFromUrl();e?location.href=e:location.reload()}},{key:"handleLogSocialLogin",value:function(){o.Z.trackEvent(this,{action:"Click",element:"Button",element_name:"SNSSignIn"})}},{key:"handleLogSingleSocialButtonClick",value:function(e){var t;t={type:tg[e]},o.Z.trackEvent(this,{action:"SignIn",element:"Button",element_name:void 0},{account:t})}},{key:"handleLogSocialLoginSuccess",value:function(){var e,t=this.props,n=t.router,r=t.trackEvent;["/signin","/signup"].includes(n.location.pathname)||r({block:"".concat(this.clickedServiceName,"_loginSuccess")}),e=this.clickedServiceName,o.Z.trackEvent(this,{id:236,action:"StatusReport",element_name:void 0},{status:{result:"Success",event:{action:"SignIn",element:"Button"}},account:e})}},{key:"render",value:function(){var e=this;return(0,a.tZ)("div",{className:"Login-socialLogin",children:(0,a.BX)("span",{className:"Login-socialButtonGroup",children:[(0,a.tZ)(H.$U,{as:j.ZP,zaText:"微信第三方登录",zaType:"Button",zaAction:"OpenUrl",extra:{link:{url:"https://open.weixin.qq.com/connect/qrconnect"}},className:"Login-socialButton",preset:"plain",onClick:function(){return e.handleBuildSocialAuthLink("wechat")},children:(0,a.tZ)(ta.ZP,{})}),(0,a.tZ)(H.$U,{as:j.ZP,zaText:"QQ第三方登录",zaType:"Button",zaAction:"OpenUrl",extra:{link:{url:"https://graph.qq.com/oauth2.0/show"}},className:"Login-socialButton",preset:"plain",onClick:function(){return e.handleBuildSocialAuthLink("qqconn")},children:(0,a.tZ)(to.ZP,{fill:"#50C8FD"})}),(0,a.tZ)(H.$U,{as:j.ZP,zaText:"微博第三方登录",zaType:"Button",zaAction:"OpenUrl",extra:{link:{url:"https://api.weibo.com/oauth2/authorize"}},className:"Login-socialButton",preset:"plain",onClick:function(){return e.handleBuildSocialAuthLink("sina")},children:(0,a.tZ)(tc.ZP,{})})]})})}}]),n}(h.Component);(0,u._)(th,"propTypes",{onRegister:w().func.isRequired,onEntranceButtonClick:w().func});var tf=(0,T.compose)(Z.withRouter,N.Z)(th);function tm(e){var t=(0,ti.n)(),n=(0,y.useDispatch)(),i=(0,tu.Z)();return/bux/.test(t.origin)?null:(0,a.tZ)(tf,(0,U._)((0,r._)({},e),{dispatch:n,office:i}))}n(61026);var tC=n(71525),tE=n(45564);function tv(e){var t,n,r,i,a,o,c,s,l=e.captchaNeeded,u=e.sendDigitsError,d=e.registerConfirmError;return n=(t={captchaNeeded:l,sendDigitsError:u}).captchaNeeded,r=t.sendDigitsError,i=(0,y.useDispatch)(),a=(0,tE.Z)(r),(0,h.useEffect)(function(){r&&!a&&(n?i((0,eT.hU)()):i((0,eT.il)("captcha_sign_in")))},[i,r,a,n]),o=(0,y.useDispatch)(),c=(d||{}).unknown,s=(0,tE.Z)(c),(0,h.useEffect)(function(){s!==c&&o((0,Y.c0)(c,"red"))},[o,c,s]),null}var tI={phoneNoError:null,fullnameError:null,digitsError:null},tB=function(e){(0,d._)(n,e);var t=(0,g._)(n);function n(){var e;return(0,s._)(this,n),e=t.apply(this,arguments),(0,u._)((0,c._)(e),"state",{fullname:e.props.defaultFullname||"",avatarPath:"",phoneNo:"",digits:"",captcha:"",isRegister:null,smsBackUpDisplay:!0,smsType:"text",selectedCountry:{name:"中国",code:"+86"},smsInputInterceptTime:-1,reStartTime:-1,customErrorInputMap:(0,r._)({},tI),validationResult:{}}),(0,u._)((0,c._)(e),"captchaV2Ref",(0,h.createRef)()),(0,u._)((0,c._)(e),"getSocialInfo",function(t){var n=t||e.props,r=n.getSocialInfo,i=n.socialType;i&&r(i).then(function(t){var n=t.payload,r=n.name,i=n.profileImageUrl;e.setState({avatarPath:i.split("/").reverse()[0],fullname:r})})}),(0,u._)((0,c._)(e),"testPhoneNo",function(){var t=e.state,n=t.selectedCountry.code,r=t.phoneNo;return"+86"!==n||/^\d{11}$/.test(r)}),(0,u._)((0,c._)(e),"handleChange",function(t){return function(n){e.setState((0,u._)({},t,n))}}),(0,u._)((0,c._)(e),"handleBackUpDigits",function(){e.setState({smsType:"text"===e.state.smsType?"voice":"text",reStartTime:Date.now()})}),(0,u._)((0,c._)(e),"handleCountDownEndEvent",function(){e.setState({smsBackUpDisplay:!0})}),(0,u._)((0,c._)(e),"parseServerError",function(t){var n=t||e.props,r=n.registerValidateErrors,i=n.loginConfirmError,a=n.registerConfirmError,o=n.sendDigitsError,c=i||{},s=c.username,l=c.password,u=c.digits,d=c.captcha,g=a||{},p=g.username,A=g.password,h=g.digits,f=o||{},m=f.username,C=f.captcha,E=(r||{}).fullname;return{usernameServerError:s||m,passwordServerError:l||A,digitsServerError:u||h,captchaServerError:d||C,fullnameServerError:(void 0===E?{}:E).message||p}}),(0,u._)((0,c._)(e),"runBeforeCheckCaptcha",function(t){var n=e.props,i=n.captchaNeeded,a=n.captchaValidated,o=e.state.phoneNo;if(!o||!e.testPhoneNo()){e.setState({customErrorInputMap:(0,U._)((0,r._)({},e.state.customErrorInputMap),{phoneNoError:o?"请输入正确的手机号":"请输入手机号"}),smsInputInterceptTime:Date.now()});return}if(i&&!a){e.showCaptcha(),eX(e.captchaV2Ref);return}t()}),(0,u._)((0,c._)(e),"runBeforeResetValidateResult",function(t){e.setState({customErrorInputMap:(0,r._)({},tI)},function(){t()})}),(0,u._)((0,c._)(e),"handleSendDigits",function(t,n){return e.countDownStart=n,e.runBeforeCheckCaptcha(e.sendDigits),!1}),(0,u._)((0,c._)(e),"sendDigits",function(){var t,n=e.state,r=n.selectedCountry,i=n.phoneNo,a=n.smsType,o=e.props.sendLoginDigits;null===(t=e.countDownStart)||void 0===t||t.call(e),e.props.validateRegisterForm({phoneNo:"".concat(r.code).concat(i)}).then(function(t){var n=t.payload;e.setState({smsBackUpDisplay:!1,isRegister:!(n.phoneNo&&n.phoneNo.code===O.Dm)}),o("".concat(r.code).concat(i),a)})}),(0,u._)((0,c._)(e),"handleSubmit",function(){e.runBeforeCheckCaptcha(function(){e.runBeforeResetValidateResult(function(){var t=e.state,n=t.selectedCountry,i=t.phoneNo,a=t.digits,o=t.isRegister,c=t.fullname,s=t.avatarPath,l=e.props,u=l.validateAndLogin,d=l.validateAndRegister,g=l.nextUrl,p=l.socialType,A=(0,eF.tL)(g),h=A.utm_source,f=A.utm_medium;if(o){d((0,r._)({source:"com.zhihu.web",registerType:"phone_digits",phoneNo:"".concat(n.code).concat(i),fullname:c,digits:a,refSource:f,utmSource:h},s&&{avatarPath:s},p&&{socialRegisterType:p}));return}u((0,eq.Z)("digits",{username:"".concat(n.code).concat(i),digits:a,refSource:f,utmSource:h}))})})}),(0,u._)((0,c._)(e),"onVerify",function(t){"success"===t.result&&e.sendDigits()}),(0,u._)((0,c._)(e),"showCaptcha",function(){var t;null===(t=e.captchaV2Ref.current)||void 0===t||t.show(),e.props.showNotification(e.state.validationResult.message,"red")}),e}return(0,l._)(n,[{key:"componentDidMount",value:function(){if(!tl().get("atoken")){this.props.onResetRegister();return}this.getSocialInfo();var e=tl().get("accountcallback");if(!this.state.fullname&&e){var t=JSON.parse(decodeURIComponent(e));this.setState({fullname:t.fullname})}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.nextUrl,i=t.socialType,a=t.defaultFullname,o=t.sendDigitsError,c=t.loginConfirmError,s=t.loginConfirmSucceeded,l=t.registerConfirmSucceeded,u=e.socialType,d=e.defaultFullname,g=e.sendDigitsError,p=e.loginConfirmError,A=e.loginConfirmSucceeded,h=e.registerConfirmSucceeded;if(!i&&u&&this.getSocialInfo(e),a!==d&&this.setState({fullname:d}),!s&&A||!l&&h){n?location.href=n:location.reload();return}if(!c&&p&&p.validateDigitsError&&this.setState({customErrorInputMap:(0,U._)((0,r._)({},this.state.customErrorInputMap),{digitsError:p.validateDigitsError}),smsInputInterceptTime:Date.now()}),!o&&g){var f=this.parseServerError(e).captchaServerError;this.setState({validationResult:{message:f},smsInputInterceptTime:Date.now()})}}},{key:"render",value:function(){var e=this.state,t=e.smsInputInterceptTime,n=e.customErrorInputMap,r=e.smsBackUpDisplay,i=e.reStartTime,o=e.isRegister,c=e.smsType,s=e.fullname,l=this.props,u=l.onResetRegister,d=l.captchaNeeded,g=l.sendDigitsError,p=l.registerConfirmError,A=n.phoneNoError,h=n.digitsError,f=this.parseServerError(),m=f.usernameServerError,C=f.fullnameServerError,E=f.digitsServerError,v=(0,a.BX)(G.Z,{className:"Register-content",onSubmit:this.handleSubmit,children:[(0,a.tZ)(tv,{captchaNeeded:d,sendDigitsError:g,registerConfirmError:p}),(0,a.tZ)("div",{className:"Register-socialHeader",children:(0,a.BX)("div",{className:"Register-socialTitle",children:[(0,a.tZ)(j.ZP,{onClick:u,children:(0,a.tZ)(tC.ZP,{})}),"绑定手机"]})},"header"),(0,a.tZ)(ed.Z,{className:S()("Register-socialName",{"Register-hiddenSocialName":!o}),name:"fullname",placeholder:"用户名",value:s,onChange:this.handleChange("fullname"),manualValidateError:C,validations:[],targetClassName:"username-input"},"fullname"),(0,a.tZ)(ec.Z,{type:"register",onChange:this.handleChange("phoneNo"),onSelect:this.handleChange("selectedCountry"),manualValidateError:A||m,targetClassName:"username-input"}),(0,a.tZ)(eM,{captchaV2Ref:this.captchaV2Ref,onVerify:this.onVerify}),(0,a.tZ)(eC,{smsType:c,reStartTime:i,onChange:this.handleChange("digits"),countDownEvent:this.handleSendDigits,countDownEndEvent:this.handleCountDownEndEvent,interceptTime:t,manualValidateError:h||E,targetClassName:"username-input"}),(0,a.tZ)("div",{className:S()("Register-smsBackUp",{"Register-hiddenSmsBackUp":!r}),children:(0,a.BX)("span",{role:"button",tabIndex:0,onClick:this.handleBackUpDigits,children:["获取","text"===c?"语音":"短信","验证码"]})}),(0,a.tZ)(j.ZP,{className:"Register-submitButton",type:"submit",preset:"primary",color:"blue",children:"进入知乎"})]});return(0,a.tZ)(en.l,{children:v})}}]),n}(h.Component),tS=(0,y.connect)(function(e){var t=e.captcha,n=t.captchaNeeded,r=t.captchaValidated,i=e.register,a=i.registerConfirmError,o=i.registerValidateErrors,c=i.registerConfirmSucceeded,s=e.login,l=s.loginConfirmSucceeded,u=s.validateDigitsError,d=s.loginConfirmError;return{captchaNeeded:n,captchaValidated:r,sendDigitsError:s.sendDigitsError,registerConfirmError:a,registerValidateErrors:o,registerConfirmSucceeded:c,loginConfirmSucceeded:l,validateDigitsError:u,loginConfirmError:d}},{showNotification:Y.c0,sendLoginDigits:R.Yu,validateAndLogin:R.uJ,validateAndRegister:e6.cP,getSocialInfo:e6.Gz,validateRegisterForm:e6.To})(tB),tQ=function(e){(0,d._)(n,e);var t=(0,g._)(n);function n(){var e;return(0,s._)(this,n),e=t.apply(this,arguments),(0,u._)((0,c._)(e),"state",{showHeader:!0,fullname:"",socialType:""}),(0,u._)((0,c._)(e),"changeSignType",function(t){e.props.onChangeSignType(t),e.handleSetShowHeader(!0)}),(0,u._)((0,c._)(e),"handleSetShowHeader",function(t){e.setState({showHeader:t})}),(0,u._)((0,c._)(e),"handleSocialRegister",function(t){var n=t.fullname,r=t.socialType;e.props.onChangeSignType("register"),e.setState({fullname:n,socialType:r,showHeader:!1})}),(0,u._)((0,c._)(e),"handleResetRegister",function(){e.props.onChangeSignType("login"),e.setState({fullname:"",socialType:"",showHeader:!0})}),(0,u._)((0,c._)(e),"renderLine",function(){return(0,a.BX)(k.Flex,{css:{margin:"0 24px 12px",alignItems:"center"},children:[(0,a.tZ)(k.Box,{sx:{borderTop:"1px solid",borderColor:"GBK09A",width:"124px"}}),(0,a.tZ)(k.Text,{color:"GBK06A",fontSize:12,mx:16,width:72,overflow:"hidden",lineHeight:"17px",css:{whiteSpace:"nowrap"},children:"其他方式登录"}),(0,a.tZ)(k.Box,{sx:{borderTop:"1px solid",borderColor:"GBK09A",width:"124px"}})]})}),e}return(0,l._)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.nextUrl;e.isLogin&&(location.href=t||"/")}},{key:"render",value:function(){var e=this.state,t=e.fullname,n=e.socialType,r=this.props,i=r.nextUrl,o=r.isInSignPage,c=r.signType,s=r.showQrcodeFirst,l=r.showSwitchTypeIcon,u=r.containerType,d=o?k.Card:k.Box;return(0,a.BX)(d,{bg:"background",width:400,css:{overflow:"hidden",boxShadow:"none"},children:["login"===c?(0,a.tZ)("div",{className:"SignContainer-content",children:(0,a.tZ)("div",{className:"SignContainer-inner",children:(0,a.tZ)(tr,{containerType:u,showQrcodeFirst:s,nextUrl:i,isInSignPage:o,showSwitchTypeIcon:l})})}):(0,a.tZ)(tS,{socialType:n,nextUrl:i,defaultFullname:t,onResetRegister:this.handleResetRegister}),"login"===c&&(0,a.BX)(a.HY,{children:[this.renderLine(),(0,a.tZ)(tm,{onRegister:this.handleSocialRegister}),(0,a.BX)("div",{className:"SignContainer-tip",children:[b.Z.allowSignUp?"未注册手机验证后自动登录，注册即代表同意":"手机验证后自动登录，登录即代表同意",(0,a.tZ)("a",{href:"https://www.zhihu.com/term/zhihu-terms",children:"《知乎协议》"}),(0,a.tZ)("a",{href:"https://www.zhihu.com/term/privacy",children:"《隐私保护指引》"})]})]})]})}}]),n}(h.Component),tw=(0,q.Z)(tQ);function ty(e){var t=e.signType,n=e.handleQRCodeLinkClick,c=e.isInSignPage,s=e.showQrcode,l=(0,i._)(e,["signType","handleQRCodeLinkClick","isInSignPage","showQrcode"]);return(0,a.BX)("div",{className:"signQr-container",children:[(0,a.BX)("div",{className:"signQr-leftContainer",children:[(0,a.tZ)(P,{className:"smallVersion",showSwitchTypeIcon:!1}),(0,a.tZ)(F,{zaClickId:c?4943:8270,isQRCodeShown:s,onQRCodeLinkClick:function(e){n(!s),c?s&&o.Z.trackEvent(e.currentTarget,{id:4945}):o.Z.trackEvent(e.currentTarget,{id:s?8272:8271})}})]}),(0,a.tZ)("div",{className:"signQr-rightContainer",children:(0,a.tZ)(tw,(0,r._)({signType:t,showSwitchTypeIcon:!1,isInSignPage:c},l))})]})}},29102:function(e,t,n){var r=n(22107),i=n(94707),a=n(87320),o=n(86325),c=n(55164),s=n(71728),l=n(85626),u=n(85879),d=n(14168),g=n.n(d),p=n(87363),A=n(34150),h=function(e){(0,o._)(n,e);var t=(0,l._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,i._)(n,[{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.validations,r=(0,s._)(e,["onChange","validations"]);return(0,u.tZ)(A.Z,(0,c._)({className:"SignFlow-username",onChange:t,validations:n||[{type:"required",message:"请输入用户名"}]},r))}}]),n}(p.Component);(0,a._)(h,"propTypes",{onChange:g().func.isRequired}),t.Z=h},89630:function(e,t,n){n.d(t,{W:function(){return r},l:function(){return i}});var r="SignContainerModal";function i(e){return e===r?"登录框":"登录页"}},61026:function(e,t,n){var r=n(20857),i=n(22107),a=n(94707),o=n(87320),c=n(86325),s=n(55164),l=n(85626),u=n(85879),d=n(87363),g=n(53778),p=n(94057),A=n(38889),h=n(45842),f=n(71670),m=n(87843),C=n(72238),E=n(80487),v=n(10757),I=n(29102),B={phoneNoError:null,fullnameError:null,passwordError:null,digitsError:null},S=function(e){(0,c._)(n,e);var t=(0,l._)(n);function n(){var e;return(0,i._)(this,n),e=t.apply(this,arguments),(0,o._)((0,r._)(e),"state",{email:"",password:"",fullname:"",customErrorInputMap:(0,s._)({},B)}),(0,o._)((0,r._)(e),"handleChange",function(t){return function(n){e.setState((0,o._)({},t,n))}}),(0,o._)((0,r._)(e),"handleSubmit",function(){var t=e.props,n=t.validateAndRegister;(0,t.resetRegisterValidateResult)();var r=e.state;n({source:"com.zhihu.web",registerType:"email",email:r.email,password:r.password,fullname:r.fullname})}),e}return(0,a._)(n,[{key:"componentDidMount",value:function(){this.props.isLogin&&(location.href="https://www.zhihu.com/logout?next=/email-register")}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.registerConfirmSucceeded,n=e.registerConfirmSucceeded;!t&&n&&(location.href="/")}},{key:"render",value:function(){var e=this.props.registerValidateErrors,t=e.email,n=(void 0===t?{}:t).message,r=e.fullname,i=(void 0===r?{}:r).message,a=e.password,o=(void 0===a?{}:a).message;return(0,u.tZ)(f.l,{children:(0,u.BX)(m.Z,{className:"SignContainer-content EmailRegister",onSubmit:this.handleSubmit,children:[(0,u.tZ)(I.Z,{onChange:this.handleChange("fullname"),name:"fullname",placeholder:"用户名",manualValidateError:i}),(0,u.tZ)(E.Z,{type:"register",placeholder:"输入邮箱",onChange:this.handleChange("email"),manualValidateError:n,supportedCountriesShown:!1}),(0,u.tZ)(v.Z,{onChange:this.handleChange("password"),manualValidateError:o}),(0,u.tZ)(A.ZP,{className:"EmailRegister-submitButton",preset:"primary",color:"blue",type:"submit",children:"注册"})]})})}}]),n}(d.Component);t.Z=(0,p.compose)(h.Z,(0,g.connect)(function(e){var t=e.register;return{registerValidateErrors:t.registerValidateErrors,registerConfirmSucceeded:t.registerConfirmSucceeded}},{validateAndRegister:C.cP,resetRegisterValidateResult:C.mA}))(S)},71525:function(e,t,n){n.d(t,{ZP:function(){return c}});var r=n(87363),i=n.n(r),a=n(30851),o=Object.assign;function c(e){var t;return i().createElement(a.Z,o(o({width:"16",height:"16",viewBox:"0 0 16 16"},e),{className:"function"==typeof(t=e.className)?t():"ZDI ZDI--ArrowLeft16"+(t?" "+t:"")}),i().createElement("path",{fillRule:"evenodd",d:"M11.46 1.54a.65.65 0 0 1 0 .92L5.92 8l5.54 5.54a.65.65 0 1 1-.92.92L4.73 8.648a.917.917 0 0 1 0-1.296L10.54 1.54a.65.65 0 0 1 .92 0Z",clipRule:"evenodd"}))}},54674:function(e,t,n){n.d(t,{Z:function(){return c},e:function(){return s}});var r=n(87363),i=n.n(r),a=n(30851),o=Object.assign;function c(e){var t;return i().createElement(a.Z,o(o({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"function"==typeof(t=e.className)?t():"ZDI ZDI--ArrowLeftSmall24"+(t?" "+t:"")}),i().createElement("path",{fillRule:"evenodd",d:"m10.752 12 4.025-3.78a.684.684 0 0 0 0-1.01.796.796 0 0 0-1.075 0l-4.42 4.15a.866.866 0 0 0 0 1.28l4.42 4.15a.796.796 0 0 0 1.075 0 .684.684 0 0 0 0-1.01L10.752 12Z",clipRule:"evenodd"}))}function s(e){return i().createElement(c,o(o({},e),{className:function(){return"Zi Zi--ArrowLeft"+(e.className?" "+e.className:"")}}))}},11738:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(87363),i=n.n(r),a=n(30851),o=Object.assign;function c(e){var t;return i().createElement(a.Z,o(o({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"function"==typeof(t=e.className)?t():"ZDI ZDI--EyeAlt24"+(t?" "+t:"")}),i().createElement("path",{fillRule:"evenodd",d:"M12.001 20.717c5.343 0 8.282-3.087 9.674-5.294a5.88 5.88 0 0 0 .392-5.525C20.919 7.293 18.107 3.283 12 3.283c-6.103 0-8.916 4.005-10.066 6.61l1.372.606-1.372-.606a5.882 5.882 0 0 0 .392 5.534c1.395 2.207 4.334 5.29 9.674 5.29Zm-8.406-6.091a4.382 4.382 0 0 1-.288-4.127c1.025-2.322 3.425-5.716 8.694-5.716 5.272 0 7.67 3.398 8.693 5.72a4.38 4.38 0 0 1-.288 4.12c-1.224 1.94-3.75 4.594-8.405 4.594-4.653 0-7.18-2.65-8.406-4.591ZM9.75 12a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0ZM12 8.25a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5Z",clipRule:"evenodd"}))}},26115:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(87363),i=n.n(r),a=n(30851),o=Object.assign;function c(e){var t;return i().createElement(a.Z,o(o({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"function"==typeof(t=e.className)?t():"ZDI ZDI--EyeSlash24"+(t?" "+t:"")}),i().createElement("path",{fillRule:"evenodd",d:"M7.517 4.474c1.206-.453 2.608-.724 4.234-.724 6.036 0 8.834 3.715 9.985 6.161a5.255 5.255 0 0 1-.393 5.219 11.207 11.207 0 0 1-3.027 3.036.75.75 0 1 1-.835-1.245c.058-.04.115-.078.171-.118a9.704 9.704 0 0 0 2.447-2.511 3.755 3.755 0 0 0 .28-3.742c-1.003-2.131-3.374-5.3-8.628-5.3-1.456 0-2.679.242-3.706.628a.75.75 0 1 1-.528-1.404ZM5.498 6.382a.75.75 0 0 1-.07 1.059c-1.126.987-1.854 2.148-2.306 3.105a3.756 3.756 0 0 0 .281 3.749c1.206 1.787 3.71 4.26 8.348 4.26 1.237 0 2.315-.175 3.253-.462a.75.75 0 1 1 .438 1.435c-1.084.33-2.31.527-3.69.527-5.28 0-8.198-2.855-9.592-4.921a5.256 5.256 0 0 1-.394-5.228c.513-1.09 1.353-2.435 2.674-3.593a.75.75 0 0 1 1.058.07Z",clipRule:"evenodd"}),i().createElement("path",{fillRule:"evenodd",d:"M20.048 20.012a.75.75 0 0 1-1.06.036l-15.5-14.5a.75.75 0 0 1 1.025-1.096l15.5 14.5a.75.75 0 0 1 .035 1.06Z",clipRule:"evenodd"}),i().createElement("path",{fillRule:"evenodd",d:"M9.559 11.535c-.203 1.067.554 2.164 1.808 2.374a2.36 2.36 0 0 0 1.707-.36.75.75 0 0 1 1.043.191.75.75 0 0 1-.215 1.04 3.893 3.893 0 0 1-2.816.602c-1.984-.331-3.381-2.13-3.007-4.094.06-.311.16-.607.297-.881a.768.768 0 0 1 1.01-.358.733.733 0 0 1 .338.995 1.908 1.908 0 0 0-.165.491Zm1.219-2.362a.769.769 0 0 1 .716-.797c.302-.02.61-.007.92.045 1.784.299 3.086 1.775 3.066 3.501a.77.77 0 0 1-.762.754.73.73 0 0 1-.744-.74c.011-.948-.72-1.854-1.842-2.041a2.427 2.427 0 0 0-.566-.028.732.732 0 0 1-.788-.694Z",clipRule:"evenodd"}))}},77813:function(e,t,n){n.d(t,{Ao:function(){return s},ZP:function(){return c}});var r=n(87363),i=n.n(r),a=n(30851),o=Object.assign;function c(e){var t;return i().createElement(a.Z,o(o({width:"24",height:"24",viewBox:"0 0 24 24"},e),{className:"function"==typeof(t=e.className)?t():"ZDI ZDI--Qq24"+(t?" "+t:"")}),i().createElement("path",{fillRule:"evenodd",d:"M12.003 2c-2.265 0-6.29 1.364-6.29 7.325v1.195S3.55 14.96 3.55 17.474c0 .665.17 1.025.281 1.025.114 0 .902-.483 1.748-2.072 0 0-.18 2.197 1.904 3.967 0 0-1.77.495-1.77 1.182 0 .686 4.078.43 6.29 0 2.239.425 6.288.687 6.288 0 0-.688-1.77-1.182-1.77-1.182 2.086-1.77 1.906-3.967 1.906-3.967.845 1.588 1.634 2.072 1.746 2.072.111 0 .283-.36.283-1.025 0-2.514-2.165-6.954-2.165-6.954V9.325C18.29 3.364 14.268 2 12.003 2Z",clipRule:"evenodd"}))}function s(e){return i().createElement(c,o(o({},e),{className:function(){return"Zi Zi--QQ"+(e.className?" "+e.className:"")}}))}},45913:function(e,t,n){n.d(t,{F3:function(){return l},ZP:function(){return c},vU:function(){return s}});var r=n(87363),i=n.n(r),a=n(30851),o=Object.assign;function c(e){var t;return i().createElement(a.Z,o(o({width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},e),{className:"function"==typeof(t=e.className)?t():"ZDI ZDI--Wechat24"+(t?" "+t:"")}),i().createElement("path",{fill:"#07C160",d:"M20.314 18.59c1.333-.968 2.186-2.397 2.186-3.986 0-2.91-2.833-5.27-6.325-5.27-3.494 0-6.325 2.36-6.325 5.27 0 2.911 2.831 5.271 6.325 5.271.698.001 1.393-.096 2.064-.288l.186-.029c.122 0 .232.038.336.097l1.386.8.12.04a.21.21 0 0 0 .212-.211l-.034-.154-.285-1.063-.023-.135a.42.42 0 0 1 .177-.343ZM9.09 3.513C4.9 3.514 1.5 6.346 1.5 9.84c0 1.905 1.022 3.622 2.622 4.781a.505.505 0 0 1 .213.412l-.026.16-.343 1.276-.04.185c0 .14.113.254.252.254l.146-.047 1.663-.96a.793.793 0 0 1 .403-.116l.222.032c.806.231 1.64.348 2.478.348l.417-.01a4.888 4.888 0 0 1-.255-1.55c0-3.186 3.1-5.77 6.923-5.77l.411.011c-.57-3.02-3.71-5.332-7.494-5.332Zm4.976 10.248a.843.843 0 1 1 0-1.685.843.843 0 0 1 0 1.684v.001Zm4.217 0a.843.843 0 1 1 0-1.685.843.843 0 0 1 0 1.684v.001ZM6.561 8.827a1.012 1.012 0 1 1 0-2.023 1.012 1.012 0 0 1 0 2.023Zm5.061 0a1.012 1.012 0 1 1 0-2.023 1.012 1.012 0 0 1 0 2.023Z",clipRule:"evenodd"}))}function s(e){return i().createElement(c,o(o({},e),{className:function(){return"Zi Zi--WeChatMessage"+(e.className?" "+e.className:"")}}))}function l(e){return i().createElement(c,o(o({},e),{className:function(){return"Zi Zi--WeChat"+(e.className?" "+e.className:"")}}))}},78603:function(e,t,n){n.d(t,{ZP:function(){return c},kH:function(){return s}});var r=n(87363),i=n.n(r),a=n(30851),o=Object.assign;function c(e){var t;return i().createElement(a.Z,o(o({width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},e),{className:"function"==typeof(t=e.className)?t():"ZDI ZDI--Weibo24"+(t?" "+t:"")}),i().createElement("path",{fill:"#FB6622",d:"M15.518 3.06c8.834-.854 7.395 7.732 7.394 7.731-.625 1.44-1.673.31-1.673.31.596-7.52-5.692-6.33-5.692-6.33-.898-1.067-.03-1.71-.03-1.71Zm4.13 6.985c-.66 1.01-1.376.126-1.375.126.205-3.179-2.396-2.598-2.396-2.598-.72-.765-.091-1.346-.091-1.346 4.882-.55 3.863 3.818 3.863 3.818ZM5.318 7.52s4.615-3.86 6.443-1.328c0 0 .662 1.08-.111 2.797.003-.003 3.723-1.96 5.408.16 0 0 .848 1.094-.191 2.648 0 0 2.918-.099 2.918 2.715 0 2.811-4.104 6.44-9.315 6.44-5.214 0-8.026-2.092-8.596-3.102 0 0-3.475-4.495 3.444-10.33Zm10.448 7.792s.232-4.41-5.71-4.207c-6.652.231-6.58 4.654-6.58 4.654.022.39.098 3.713 5.843 3.713 5.98 0 6.447-4.16 6.447-4.16Zm-9.882.86s-.06-3.632 3.804-3.56c3.412.06 3.206 3.164 3.206 3.164s-.026 2.98-3.684 2.98c-3.288 0-3.326-2.584-3.326-2.584Zm2.528 1.037c.672 0 1.212-.447 1.212-.998 0-.55-.543-.998-1.212-.998-.672 0-1.215.447-1.215.998 0 .551.546.998 1.215.998Z",clipRule:"evenodd"}))}function s(e){return i().createElement(c,o(o({},e),{className:function(){return"Zi Zi--Weibo"+(e.className?" "+e.className:"")}}))}}}]);
//# sourceMappingURL=shared-1dffcf43329e08de9bcf385e1895bae6667163e6.3bb8760f3f80c321b7db.js.map