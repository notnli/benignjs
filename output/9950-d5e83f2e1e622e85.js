(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9950],{69877:function(e){var t=Math.floor,r=Math.random;e.exports=function(e,i){return e+t(r()*(i-e+1))}},45021:function(e,t,r){var i=r(35393)((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}));e.exports=i},83608:function(e,t,r){var i=r(69877),n=r(16612),o=r(18601),s=parseFloat,u=Math.min,c=Math.random;e.exports=function(e,t,r){if(r&&"boolean"!=typeof r&&n(e,t,r)&&(t=r=void 0),void 0===r&&("boolean"==typeof t?(r=t,t=void 0):"boolean"==typeof e&&(r=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=o(e),void 0===t?(t=e,e=0):t=o(t)),e>t){var a=e;e=t,t=a}if(r||e%1||t%1){var l=c();return u(e+l*(t-e+s("1e-"+((l+"").length-1))),t)}return i(e,t)}},14035:function(e,t,r){var i=r(35393)((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}));e.exports=i},73236:function(e,t,r){"use strict";r.d(t,{E:function(){return _}});var i=r(96431),n=r(17961),o=r(45057),s=r(13347);var u=r(59499),c=r(44350),a=r(47052),l=r(47269);var d={ALL:"ALL",CUSTOM:"CUSTOM",WEDDING:"WEDDING",BABY:"BABY",COLLEGE:"COLLEGE",SHOPPING_LIST:"SHOPPING_LIST",WISH_LIST:"WISH_LIST",GENERIC:"GENERIC",CHARITY:"CHARITY",HOUSEWARMING:"HOUSEWARMING",ANNIVERSARY:"ANNIVERSARY",PET:"PET",BIRTHDAY:"BIRTHDAY",HOLIDAY:"HOLIDAY",OTHER:"OTHER",BOY:"BOY",GIRL:"GIRL",MORE:"MORE",UNDEFINED_GENDER:"UNDEFINED",CHANNEL_WEB:"WEB",SUBCHANNEL_DESKTOP:"TGTWEB",SUBCHANNEL_TABLET:"TABLET",SUBCHANNEL_MOBILE:"MWEB"};function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const f="@site-registry/domains/registry/add-item/mutations/add-item",{useMutation:v}=(0,i.F)({name:f,mutationFn:async e=>{const t=(e=>{var t,r;const{fetchOptions:i,requestParams:n}=null!==e&&void 0!==e?e:{},{apiKey:o,apis:{registriesV2:s},baseUrl:u}=(0,c.config)().services.apiPlatform,y=`${null!==(t=null===(r=s.endpointPaths)||void 0===r?void 0:r.v2)&&void 0!==t?t:""}/${null===n||void 0===n?void 0:n.registry_id}/registry_items`,f=l.Z.buildURLWithParams(new URL(y,u),{channel:d.CHANNEL_WEB,sub_channel:d.SUBCHANNEL_DESKTOP,location_id:"3991",key:o,registry_id:null===n||void 0===n?void 0:n.registry_id});let v={};switch(null===n||void 0===n?void 0:n.registry_item_type){case"TCIN":{const e=n;v={tcin:null===e||void 0===e?void 0:e.tcin,requested_quantity:null===e||void 0===e?void 0:e.requested_quantity,purchased_quantity:null===e||void 0===e?void 0:e.purchased_quantity,registry_item_type:null===n||void 0===n?void 0:n.registry_item_type,item_note:null===n||void 0===n?void 0:n.item_note,added_by_recipient:null===e||void 0===e?void 0:e.added_by_recipient,most_wanted_flag:null===n||void 0===n?void 0:n.most_wanted_flag};break}case"EXTERNAL_ITEM":{const e=n;v={registry_item_type:null===e||void 0===e?void 0:e.registry_item_type,external_product_url:null===e||void 0===e?void 0:e.external_product_url,external_retailer:null===e||void 0===e?void 0:e.external_retailer,external_product_price:null===e||void 0===e?void 0:e.external_product_price,external_product_size:null===e||void 0===e?void 0:e.external_product_size,external_product_color:null===e||void 0===e?void 0:e.external_product_color,external_product_image_url:null===e||void 0===e?void 0:e.external_product_image_url,requested_quantity:null===e||void 0===e?void 0:e.requested_quantity,purchased_quantity:null===e||void 0===e?void 0:e.purchased_quantity,item_title:null===e||void 0===e?void 0:e.item_title,item_note:null===e||void 0===e?void 0:e.item_note,most_wanted_flag:null===e||void 0===e?void 0:e.most_wanted_flag,visibility_indicator:null===e||void 0===e?void 0:e.visibility_indicator};break}case"HONEYFUND_ITEM":{const e=n;v={registry_item_type:null===e||void 0===e?void 0:e.registry_item_type,item_note:null===e||void 0===e?void 0:e.item_note,most_wanted_flag:null===e||void 0===e?void 0:e.most_wanted_flag,visibility_indicator:null===e||void 0===e?void 0:e.visibility_indicator,honeyfund_item_experience_id:null===e||void 0===e?void 0:e.honeyfund_item_experience_id};break}}return{fetch:()=>(0,a.v_)(f,p(p({credentials:"include"},i),{},{headers:{Accept:"application/json"},body:JSON.stringify({items:[v]})})),url:f,options:e}})({requestParams:e,fetchOptions:{errorTag:f,timerTag:f}}),{data:r,ok:i,statusText:n}=await t.fetch().catch((e=>{401===e.status&&(0,s.zB)()}));if(i)return r;throw new Error(`${n}`)}}),_=(0,n.t)(v,{minimumAssuranceLevel:o.Jr})},37926:function(e,t,r){"use strict";r.d(t,{K:function(){return O}});var i=r(59499),n=r(69992),o=r(44350),s=r(20025),u=r(45057),c=r(83608),a=r.n(c),l=r(47052),d=r(47269);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}const p=e=>{var t,r;const{apiKey:n,apis:{registriesV2:s},baseUrl:u}=(0,o.config)().services.apiPlatform,{fetchOptions:c,requestParams:p}=null!==e&&void 0!==e?e:{},{profile_id:f}=null!==p&&void 0!==p?p:{},v=d.Z.buildURLWithParams(new URL(null!==(t=null===(r=s.endpointPaths)||void 0===r?void 0:r.v2)&&void 0!==t?t:"",u),{profile_id:f,channel:"WEB",sub_channel:"TGTWEB",sn_id:a()(1,99999999,!1),key:n});return(0,l.U2)(v,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},c))};function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const _="@web/domain-registry/registries/queries/get-registries",{useQuery:g}=(0,n.J)({name:_,keyFn:e=>{const{apiKey:t}=(0,o.config)().services.apiPlatform;if(!t)throw new Error(`API key required for ${_}`);return[_,e]},queryFn:async(e,{requestMetricsOptions:t}={})=>{const{data:r}=await p({requestParams:e,fetchOptions:v({errorTag:_,timerTag:_,credentials:"include"},t)});return r},defaultOptions:{staleTime:3e4}}),O=(0,s.H)(g,{blockCallOnAuthFail:!0,minimumAssuranceLevel:u.Jr})},30019:function(e,t,r){"use strict";r.d(t,{A8:function(){return n},D:function(){return c},Dk:function(){return u},LL:function(){return l},Oe:function(){return i},So:function(){return o},qN:function(){return a},vC:function(){return s},vq:function(){return y},xb:function(){return d}});const i="https://www.target.com/gift-registry",n="regModeLP",o="Add to registry",s="GG",u="REGST",c="REG",a="CUSTOM",l="WEDDING",d="BABY",y="CHARITY"},79950:function(e,t,r){"use strict";r.d(t,{Q:function(){return I},g:function(){return P}});var i=r(59499),n=r(45021),o=r.n(n),s=r(14035),u=r.n(s),c=r(79833),a=r.n(c),l=r(67294),d=r(11163),y=r(57363),p=r(23100),f=r(46879),v=r(80198),_=r(13347),g=r(37926),O=r(73236),b=r(70753),m=r(30019);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const j=(0,y.getCookie)(m.A8);function I(){const e=(0,d.useRouter)(),{query:t}=e,r=(0,p.jI)(t,"regMode"),i=(0,p.jI)(t,"registryId"),n=(0,p.jI)(t,"itemLineNum"),o=(0,p.jI)(t,"registryType"),s=(0,p.jI)(t,"type"),c=a()(r),y=(0,f.xd)(),v=(0,l.useMemo)((()=>c===m.vC||c===m.Dk),[c]),_=(0,l.useCallback)((()=>c===m.vC),[c]),g=(0,l.useCallback)((()=>{if(i){var e;const t=n?{registry_line_id:n}:{};return{registry_information:h({registry_id:i,registry_subtype:u()(null!==(e=null!==o&&void 0!==o?o:s)&&void 0!==e?e:""),registry_type:"Registry"},t)}}}),[n,i,o,s]),O=(0,l.useMemo)((()=>!(!j&&c!==m.Dk)),[c]),b=(0,l.useMemo)((()=>c===m.vC),[c]),E=(0,l.useMemo)((()=>c===m.D||!v&&!!j),[v,c]),I=(0,l.useMemo)((()=>!(!y||!E&&!v)),[E,v,y]);return{isGiftGiverOrRegistrantFromMyItems:v,registryModeStatusFromCookie:j,getRegistryInformationForAddToCart:g,hasRegistryModeStatus:E,isInRegistrantMode:O,isInGiftGiverMode:b,isInRegistryMode:I,getRegistryGiftGiverStatus:_}}function P({registryId:e,tcin:t,isStandaloneOrChildItem:r=!0,forceOpenMultipleRegistryDrawer:i=!1,addItemToRegistryOnSuccessCallback:n,addItemToRegistryOnErrorCallback:s,openCreateARegistryModal:u,openMultipleRegistryDrawer:c,isInPrzCarousel:a,lnkData:y}){const m=(0,d.useRouter)(),{query:E}=m,h=(0,f.zy)(),j=(0,v.P)(),[I,{isSuccess:P}]=(0,g.K)(),w=I(),D=(0,f.xd)(),T=(0,p.jI)(E,"registryId"),C=1===(null===w||void 0===w?void 0:w.length)?w[0].registry_id:null,R=Boolean(e||T||C),{ffCustomInteraction:S,ffComponentload:N}=(0,b.d)(),[A]=(0,O.E)({onSuccess:async()=>{var r,i;const s=null!==(r=null!==e&&void 0!==e?e:T)&&void 0!==r?r:C,u=null===w||void 0===w||null===(i=w.find((e=>(null===e||void 0===e?void 0:e.registry_id)===s)))||void 0===i?void 0:i.registry_type;S(`registry_tcin_${t}_added_to_registry`),N({addToRegistry:!0,registries:[{hasItems:!1,id:s,type:`${o()(u)} registry`}]},a?y:{}),n()},onError:async()=>{S(`registry_tcin_${t}_add_to_registry_failed`),s()}}),L=(0,l.useCallback)((async()=>{S("registry_add_to_registry_button_clicked"),D?P&&(null!==w&&void 0!==w&&w.length||!u?R&&r&&!i?A({tcin:t,requested_quantity:1,purchased_quantity:0,registry_item_type:"TCIN",added_by_recipient:!0,registry_id:e||T||C||""}):c():u()):(0,_.zB)()}),[S,D,P,null===w||void 0===w?void 0:w.length,u,R,r,i,A,t,e,T,C,c]);return{handleRegistryButtonClick:(0,l.useCallback)((async()=>{j&&(h?L():(0,_.zB)())}),[L,j,h])}}},70753:function(e,t,r){"use strict";r.d(t,{d:function(){return y}});var i=r(59499),n=r(45021),o=r.n(n),s=r(67294),u=r(11163),c=r(38927),a=r(23100);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(){const e=(0,c.rS)(),t=(0,u.useRouter)(),{query:r}=t,i=(0,a.jI)(r,"type"),n=(0,a.jI)(r,"registryId"),l=(0,s.useMemo)((()=>n&&i?{registries:[{hasItems:!1,id:n,type:`${o()(i)} registry`}]}:{}),[n,i]);return{ffCustomInteraction:function(t,r={}){t&&e.trackEvent({guest:{eventType:"customInteraction"},customInteraction:d({value:t},r)})},ffAdImpressionsInteraction:function(t){t&&e.trackEvent({guest:{eventType:"adimp"},adImpressions:t})},ffComponentload:function(t={},r){e.trackEvent(d({guest:{eventType:"componentload"},registry:d(d({},l),t)},r&&{lnk:d({},r)}))}}}}}]);