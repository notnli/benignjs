(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1240:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return x}));var l=n(2),r=n.n(l),o=(n(34),n(6),n(38)),c=(n(16),n(51),n(3)),d=n(141),v=n(544),f=n(730),h=(n(69),n(597));function m(e){return _.apply(this,arguments)}function _(){return(_=Object(c.a)(r.a.mark((function t(n){var l,c,d,v,f,h,m,_,j,O,U,z,E,S,A,R,T,M,W,H,K,N,Z,Q,J,$,G,F,L,B,V,X,Y,ee,te,ne,ie,le,re,oe,ae,ue,ce,se,de,ve,pe,fe,he,ge,me,be,_e,ye,we,ke,je,xe,Oe,Ie,Ue,Pe,Ce,ze,De,Ee,Se,Ae,Re,Te,Me,We,He,Ke,Ne,Ze,qe,Qe,Je,$e,Ge;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",{});case 2:return Q=n.app,J=n.req,t.next=5,J.recommend.getAbtestData();case 5:return $=t.sent,G="1"===(null==$||null===(l=$.data)||void 0===l||null===(c=l.abResults)||void 0===c||null===(d=c.PCW_1_todayhot)||void 0===d?void 0:d.value),F="1"===(null==$||null===(v=$.data)||void 0===v||null===(f=v.abResults)||void 0===f||null===(h=f.PCW_1_homehot)||void 0===h?void 0:h.value),L=null==J||null===(m=J.headers)||void 0===m?void 0:m.referer,B=!L||L.indexOf("iqiyi.com")>-1,V=null!==(_=null==J||null===(j=J.headers)||void 0===j?void 0:j.cookie)&&void 0!==_?_:"",X=J.mpaas.get("defaultQuery",{u:e.$cookie.get("QC005",V),pu:e.$cookie.get("P00003",V),if:"defaultQuery",response_type:"2",platform:"14",is_qipu_platform:"1",cid:0},{timeout:400,cache:{enable:!0,key:"defaultQuery"}}),Y=null!==(O=null===(U=Q.$pageInfo)||void 0===U||null===(z=U.preview)||void 0===z?void 0:z.rids)&&void 0!==O?O:{},ee=Y.focusRids,te=C(ee,J),ne=J.mpaas.get("indexSSRData",{},{throwError:!0,timeout:400,cache:{enable:!0,key:"indexSSRData"}}),ie=J.mpaas.get("apisgame",{platform:"PCW"},{timeout:400,cache:{enable:!0,key:"apisgame"}}),le=x(J,{},G),re=I(J),t.next=20,Promise.allSettled([X,te,ne,le,ie,re]);case 20:if(oe=t.sent,ae=Object(o.a)(oe,6),ue=ae[0],ce=ae[1],se=ae[2],de=ae[3],ve=ae[4],pe=ae[5],"rejected"!==ce.status){t.next=30;break}throw new Error(ce.reason);case 30:if(null!=(fe=null==ce?void 0:ce.value)&&null!==(E=fe.pcw_img_control)&&void 0!==E&&E.length||(he=200==+(null==ve||null===(ge=ve.value)||void 0===ge?void 0:ge.code)?P(null==ve||null===(me=ve.value)||void 0===me?void 0:me.data,J):null,(null==fe||null===(be=fe.list)||void 0===be?void 0:be.length)>8&&he&&(null==fe||fe.list.forEach((function(e,t){var n,l;null!==(n=he)&&void 0!==n&&n.pageUrl&&(null==e?void 0:e.pageUrl.split("/")[3])===(null===(l=he)||void 0===l?void 0:l.pageUrl.split("/")[3])&&(null==fe||fe.list.splice(t,1))})),null==fe||fe.list.splice(8,0,he)),fe.list=null==fe?void 0:fe.list.slice(0,10)),"rejected"!==de.status){t.next=34;break}throw new Error(de.reason);case 34:if(_e=de.value||{},ye=_e.cnxh,we=_e.cnxhIp,"rejected"!==se.status){t.next=37;break}throw new Error(se.reason);case 37:if(ke=w((null===(S=se.value)||void 0===S||null===(A=S.data)||void 0===A?void 0:A.formatData)||{}),je=ke.jrrd,xe=ke.jrrdUpateAt,Oe=ke.color,Ie=ke.tonglanTitle,Ue=ke.dianshiju,Pe=ke.dianying,Ce=ke.zongyi,ze=D(null==Ie?void 0:Ie.list),De=null!==(R=null===(T=ue.value)||void 0===T||null===(M=T.data)||void 0===M||null===(W=M[0])||void 0===W?void 0:W.query)&&void 0!==R?R:"",Q.store.commit("updateSearchKey",De),"rejected"!==pe.status){t.next=43;break}throw new Error(pe.reason);case 43:return Ee=pe.value||{},Se=Ee.zzrb,t.next=46,k(J,B,F);case 46:return Ae=t.sent,Re=Ae.isShowZzrb,Te=null==ye||null===(H=ye.list)||void 0===H?void 0:H.slice(0,7).concat(null==Ue||null===(K=Ue.list)||void 0===K?void 0:K.slice(0,7)),Me=null==Se||null===(N=Se.list)||void 0===N?void 0:N.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null==Te?void 0:Te.every((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==t?void 0:t.aid)!==(null==e?void 0:e.aid)}))})),We=Object.assign({},je),He=Object.assign({},ye),G&&(qe=null!==(Ke=null==We?void 0:We.list)&&void 0!==Ke?Ke:[],Qe=null!==(Ne=null==He?void 0:He.list)&&void 0!==Ne?Ne:[],Je=qe.filter((function(e){return 1==+e.special_show})),We.list=B||Je.length>2?qe:Je,1===(null==We||null===(Ze=We.list)||void 0===Ze?void 0:Ze.length)&&(Ge=Qe[Qe.length-1],We.list=null==We||null===($e=We.list)||void 0===$e?void 0:$e.concat(Ge),He.list=Qe.slice(0,Qe.length-1))),t.abrupt("return",{focus:{focus:fe,cacheKey:y(J,"I71Home2020Carousel","".concat(fe.updateAt_test).concat((null===(Z=he)||void 0===Z?void 0:Z.title)||""))},cnxh:G?He:ye,cnxhIp:we,jrrd:G?We:je,jrrdCacheKey:y(J,"I71Home2020Jrrd","".concat(xe,"-").concat(B,"-").concat(G)),isHitNewTodayHot:G,isI71:B,color:Oe,dianshiju:{title:null==ze?void 0:ze.dianshiju,list:null==Ue?void 0:Ue.list},dianshijuCacheKey:y(J,"I71Home2020Dianshiju",null==Ue?void 0:Ue.updateAt),dianying:{title:null==ze?void 0:ze.dianying,list:null==Pe?void 0:Pe.list},dianyingCacheKey:y(J,"I71Home2020Dianying",null==Pe?void 0:Pe.updateAt),zongyi:{title:null==ze?void 0:ze.zongyi,list:null==Ce?void 0:Ce.list},zongyiCacheKey:y(J,"I71Home2020Zongyi",null==Ce?void 0:Ce.updateAt),tonglanTitleMap:ze,zzrb:{data:{title:null==Se?void 0:Se.title,list:Me},isShowZzrb:Re}});case 54:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(){var t,n,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],d=null!==(t=null===(n=l.headers)||void 0===n?void 0:n["user-agent"])&&void 0!==t?t:"";return c?!!e.isChrome("",d)&&"".concat(r,"-").concat(o,"-").concat(e.isSupportWebp(l),"-").concat(e.isSupportAvif(l),"-").concat(e.isMac(d),"-").concat(e.isWindows(d)):!!e.isChrome("",d)&&"".concat(r,"-").concat(o,"-").concat(e.isMac(d),"-").concat(e.isWindows(d))}function w(data){var e,t,n,l=data.dianshiju,r=void 0===l?{}:l,o=data.zongyi,c=void 0===o?{}:o,d=data.dianying,v=void 0===d?{}:d,f=data.gifData,h=void 0===f?{}:f;return null!==(e=r.list)&&void 0!==e&&e.length&&r.list.forEach((function(){var e,video=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"1"===video.gif_status&&(video.imageUrl=(null===(e=h[video.episode_id])||void 0===e?void 0:e.gif)||video.gif||video.imageUrl)})),null!==(t=c.list)&&void 0!==t&&t.length&&c.list.forEach((function(){var e,video=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"1"===video.gif_status&&(video.imageUrl=(null===(e=h[video.episode_id])||void 0===e?void 0:e.gif)||video.gif||video.imageUrl)})),null!==(n=v.list)&&void 0!==n&&n.length&&v.list.forEach((function(){var e,video=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"1"===video.gif_status&&(video.imageUrl=(null===(e=h[video.episode_id])||void 0===e?void 0:e.gif)||video.gif||video.imageUrl)})),data}function k(e,t,n){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(r.a.mark((function t(n,l,o){var c,d,v,f,h,m,_;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f=null!==(c=null==n||null===(d=n.headers)||void 0===d?void 0:d.cookie)&&void 0!==c?c:"",h=!!e.cookie.get("P00001",f),m=null==n||null===(v=n.headers)||void 0===v?void 0:v.referer,_=!(!o||m||h)||!l&&!h,t.abrupt("return",{isShowZzrb:_});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(){return O.apply(this,arguments)}function O(){return(O=Object(c.a)(r.a.mark((function t(){var n,l,o,c,d,v,f,m,_,w,k,j,x,O,I,U,P,C,z,D,data,E=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j=E.length>0&&void 0!==E[0]?E[0]:{},x=E.length>1&&void 0!==E[1]?E[1]:{},O=E.length>2&&void 0!==E[2]&&E[2],I=x&&x.cnxhIp||"101.227.12.253",U=null!==(n=null===(l=j.headers)||void 0===l?void 0:l.cookie)&&void 0!==n?n:"",P=e.cookie.get("QC005",U),C=e.cookie.get("P00003",U),z=e.cookie.get("P00001",U),t.next=10,(j.mesh||h.a).getIndexGuessUWatchRow({device_id:P,passport_id:C,auth:z,is_vip:0,ret_num:O?14:7,ip:I,scale:150},{withCredentials:!1,throwError:!0,timeout:400,cache:{enable:!0,key:"indexGuessUWatchRow_".concat(P,"_").concat(C)}});case 10:return D=t.sent,data=D.data,data=null===(o=data)||void 0===o||null===(c=o.formatData)||void 0===c?void 0:c.data,t.abrupt("return",{cnxh:{title:null===(d=data)||void 0===d?void 0:d.cnxhTitle,list:null===(v=data)||void 0===v?void 0:v.list,pingback:null===(f=data)||void 0===f?void 0:f.pingback,subNav:((null===(m=data)||void 0===m?void 0:m.links)||[]).map((function(e){var text=e.text,t=e.sub_text,n=e.url;return{cardDesc:text,buttonDesc:t,aid:e.entity_id,pageUrl:n,redirectType:+e.type,isEpisode:e.is_episode}})),subNavCacheKey:y(j,"homeCnxhSubnav",null===(_=data)||void 0===_||null===(w=_.extension)||void 0===w||null===(k=w.resource)||void 0===k?void 0:k.qipuUpdateAt,!1)},cnxhIp:I});case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(){return U.apply(this,arguments)}function U(){return(U=Object(c.a)(r.a.mark((function e(){var t,n,l,o,data,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,(l.mpaas||f.a).get("indexZzrb",{},{withCredentials:!1,throwError:!0,timeout:400,cache:{enable:!0,key:"indexZzrb"}});case 3:return o=e.sent,data=o.data,e.abrupt("return",{zzrb:null!==(t=null==data||null===(n=data.formatData)||void 0===n?void 0:n.fengyunbang)&&void 0!==t?t:{}});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){var n,l,r,o,c,v,f;if(e&&(!(e instanceof Array)||e.length))return{cornerMark:"",albumId:null!=e&&e.albumId?null==e?void 0:e.albumId:"",bigPic:Object(d.a)(null==e?void 0:e.image_url,t,!1),logo:Object(d.a)(null==e?void 0:e.logo_url,t,!1),pageUrl:(null==e?void 0:e.click_url)||"",color:(null==e?void 0:e.image_main_color)||"#14161A",vipMark:null!=e&&e.ksv?null==e||null===(n=e.ksv)||void 0===n?void 0:n.vip_watermark:"0",iconMark:null!=e&&e.ksv?null==e||null===(l=e.ksv)||void 0===l?void 0:l.video_type:"0",title:(null==e?void 0:e.game_name)||"",txt:(null==e?void 0:e.game_desc)||"",txt1:(null==e?void 0:e.subordinateTitle)||"",tvId:null!=e&&e.ksv?null==e||null===(r=e.ksv)||void 0===r?void 0:r.preview_id:"",share_sTime:null!=e&&e.ksv?parseInt(null==e||null===(o=e.ksv)||void 0===o?void 0:o.preview_start):0,share_eTime:null!=e&&e.ksv?parseInt(null==e||null===(c=e.ksv)||void 0===c?void 0:c.preview_end):15,is_ad:null!=e&&e.ksv?+(null==e||null===(v=e.kvs)||void 0===v?void 0:v.is_ad):1,poster_ad:null!=e&&e.ksv?null==e||null===(f=e.kvs)||void 0===f?void 0:f.poster_ad:"",id:null==e?void 0:e.game_id,position:9}}function C(e,t){return z.apply(this,arguments)}function z(){return(z=Object(c.a)(r.a.mark((function t(n,l){var o,c,data,f,h,m,_,y,w,k;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",{});case 2:return t.next=4,l.mpaas.get("resource",{res_id:n,imageColor:1,size:15},{throwError:!0,timeout:400,cache:{enable:!0,key:"homeFocus"}});case 4:data=t.sent,f=null==l?void 0:l.headers["user-agent"],h=(null==data||null===(o=data.data)||void 0===o?void 0:o.kvs)||{},m=h.pcw_img_control,_=h.pcw_ban_ad,y=h.pcw_img_list;try{m=JSON.parse(m)}catch(e){m=[]}return w=(null==data||null===(c=data.data)||void 0===c?void 0:c.items)||[],m.length&&(w=m.map((function(e){return w[e-1]}))),k=w.map((function(t){var n=t.kvs,r=void 0===n?{}:n,o=t.list,c=void 0===o?{}:o,h=t.commonList,m=void 0===h?{}:h,_=t.itemId;if(f){if(2==+r.is_ad&&!e.isWindows(f))return;if(3==+r.is_ad&&!e.isMac(f))return}if("1"!=="".concat(r.mbd_control_on)||"0"!=="".concat(r.pcw))return{cornerMark:Object(v.f)(c),albumId:Object(v.h)(c)?c.albumId:"",bigPic:Object(d.a)(t.specialImageUrl||m.imageUrl,l,!1),logo:Object(d.a)(r.defImglogo||r.defImglogo_webp||"",l,!1),pageUrl:t.pageUrl||m.url||"",color:m.imageColor||"#14161A",vipMark:r.vip_watermark||"",iconMark:r.video_type||"",title:t.name||m.name||"",txt:t.prompt||m.description||"",txt1:t.subordinateTitle||"",tvId:r.preview_id||"",share_sTime:parseInt(r.preview_start)||0,share_eTime:parseInt(r.preview_end)||15,is_ad:+r.is_ad||0,poster_ad:r.poster_ad||"",id:_}})).filter((function(video){return!!video})),t.abrupt("return",{list:k,kvs:e.get(data,"data.kvs",""),updateAt_test:e.get(data,"data.base.updateAt",""),pcw_img_control:m,pcw_ban_ad:+_,pcw_img_list:+y});case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return e.forEach((function(e){var n=e.key_value_pair;if(null!=n&&n.name){t[n.name]={name:n.name0,link:n.link0,subNav:[],more:!!n.name8};for(var i=1;i<8;i++)n["name".concat(i)]&&n["link".concat(i)]&&t[n.name].subNav.push({name:n["name".concat(i)],pageUrl:n["link".concat(i)]})}})),t}}).call(this,n(8))},730:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));n(17),n(9),n(7),n(12),n(32),n(33),n(6),n(84);var l=n(2),r=n.n(l),o=n(5),c=(n(16),n(3)),d=n(21),v=n(22),f=n(35),h=n(44),m=n(26);function _(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,l=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;n=Reflect.construct(l,arguments,r)}else n=l.apply(this,arguments);return Object(h.a)(this,n)}}var k=new(function(e){Object(f.a)(l,e);var t,n=w(l);function l(){return Object(d.a)(this,l),n.apply(this,arguments)}return Object(v.a)(l,[{key:"get",value:(t=Object(c.a)(r.a.mark((function e(t,n){var l,o=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=o.length>2&&void 0!==o[2]?o[2]:{},e.next=3,this.http("mpaas","/rule_proxy/1.0/proxyApi/".concat(t),y({params:n},l));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),l}(n(59).a))}}]);