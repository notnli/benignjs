function definePageViewSize(){var b=$("body");var a=b.width();var c="xs";if(a>=1200){c="lg"}else{if(a>=992){c="md"}else{if(a>=768){c="sm"}}}b.attr("data-page-size",c);Config.isMobileView=c.indexOf("xs")>-1||c.indexOf("sm")>-1}definePageViewSize();$(window).resize(function(){var a=Config.isMobileView;definePageViewSize();if(a!==Config.isMobileView&&isRelativePage()){typeof reloadAdsMobile==="function"&&reloadAdsMobile();typeof reloadAdsDesktop==="function"&&reloadAdsDesktop()}});function isRelativePage(){return $("body").hasClass("isResponsive")}$(document).ready(function(){var n=$("#signupPopup");var j;var r=$(".jsInputUsername",n);var m=$(".jsInputLogin",n);var o=$(".jsInputPassword",n);var f=$(".jsGdprAgreeCheckboxPop",n);var p=$(".jsDisclosureAgreeCheckboxPop",n);var s=$(".jsPIPLCheckboxPop",n);var t=$(".jsCrossBorderCheckboxPop",n);var a=$(".jsInputCoupon",n);var b=$(".jsErrorPlace",n);var y=$(".jsParams").find(".jsFileName").val();var e={firstName:{el:r,requiredError:$(".jsFirstNameRequired",n).text()},email:{el:m,requiredError:$(".jsEmailRequired",n).text()},password:{el:o,requiredError:$(".jsPasswordRequired",n).text()}};function c(z,A){$(".jsShowDropdown").removeClass("active");z.addClass("active");if(A.is(":visible")){h()}else{$(".jsDropdown").hide().removeClass("fixOffset");A.fadeIn("fast").show();Events.fireEvent("dropdownTrigger",true);if(A.offset().left<0){A.addClass("fixOffset")}$("body").off("click",h).on("click",h)}$("input[name=login]",A).focusP()}function h(z){if(z){var A=$(z.target);if(A.hasClass("jsShowDropdown")||A.parents().hasClass("jsShowDropdown")||A.hasClass("jsDontHideOnClick")||A.parents().hasClass("jsDontHideOnClick")){return true}}$(".jsDropdown").fadeOut("fast",function(){$(".jsShowDropdown").removeClass("active");Events.fireEvent("dropdownTrigger",false)})}$("#active_filter").click(function(){var z={file:0,photo:3,music:1,book:5,video:2,featured_videos:2};var A=$(".cclick_container.cfilter");var C=$(this);if(A.is(":visible")){B()}else{C.css("background-color","#EFF8FF");A.fadeIn("fast").show();$("body").on("mousedown",B)}$("a",A).click(function(){var D=$(this).attr("class").split(" ")[0];$("i","#active_filter").attr("class",D);$(".cclick_container a").show().removeClass("clicked");$(".cclick_container ."+D).addClass("clicked");$(".jsDefSearchCategory").val(z[D]);B()});function B(){A.fadeOut("fast",function(){C.css("background","none")})}});$(".jsNotificationsButton").off("click",c).click(function(){c($(this),$(".cnotifications"))});$("#loggedInInfo").off("click",c).click(function(){c($(this),$(".myAccountDropdownMenu"))});$(".jsLoginLink").off("click",c).click(function(){c($(this),$(".clogin"))});$(".jsSignupLink").off("click",c).click(function(){c($(this),$(".csign"))});$(".jsUserSettingsButton").off("click",c).click(function(){c($(this),$(".jsUserSettingsMenuDropdown"))});$(".jsHeaderUsername").off("click",c).click(function(){c($(this),$(".jsUsernameDropdown"))});$(".jsLangSelectButton").off("click",c).click(function(){c($(this),$("#langPanel"))});$(".jsSettingsLink").off("click",c).click(function(){c($(this),$(".jsSettingDropdown"))});$(".sub-f-name").off("click",c).click(function(){c($(this),$(this).parent().find(".jsDropdown"))});$(".jsFakeFile").click(function(){if(!Config.userVerifiedOrNull){n.modal("show",{"dataContent":"jsContentVerifyEmailForm"});return false}});$(".jsResendConfirmationLetter").click(function(){var z=$(this);var A=$(z).parents("[data-content]");$.ajax({type:"get",dataType:"jsonp",url:"/account/sendEmailVerification.jsp",success:function(B){$(z).hide();var C=(B.ok)?B.verificationMailSentMsg:B.errorMessage;$(A).find(".jsConfirmationResentMsq").text(C);$(A).find(".jsConfirmationResent").show()}})});$(".jsVideoSyncSignupButton").click(function(){if(Config.isVideo4SyncDomain){var z=location.href.replace(/&?locale=([^&]$|[^&]*)/i,"");location.href=z.replace(Config.video4SyncDomain,Config.mainSiteDomain)+"#showSignIn";return false}});n.on("show.bs.modal",function(A){v(A);Authenticate.fillLoginPopup($(this));var z="jsContentSocialSignupForm";if(A.relatedTarget&&A.relatedTarget.dataContent){z=A.relatedTarget.dataContent}$(this).find("[data-content]").hide();$(this).find("."+z).show()});n.on("hidden.bs.modal",function(){$.each($(".jsCleanInput",n),function(z,A){$(A).val("")});i();$(".jsContentCaptchaBlock").hide()});$(".jsToggleRregularSignupForm").click(function(){var z=$(this).parents("[data-content]").hide();$(z).parents(".modal-content").find(".jsContentRegularSignupForm").show()});function g(){var z=$(".jsRegularSignupForm",n);$.ajax({type:"POST",url:"/web/rest/usersWeb/signUp",data:z.serialize(),success:function(){$(n).parents(".modal").modal("hide");var A=z.find(".jsReturnTo").val();if(A===""){document.location=document.location.origin+"/account/home.jsp";return}if(document.location.hash){document.location.reload()}else{document.location.href=decodeURIComponent(A)}},error:function(D){var A=JSON.parse(D.responseText);if(A.code==="429.0107"){var C=y&&y.length?$(".jsMsgToDownload").val():$(".jsMsgForFree").val();var B=y&&y.length?y:$(".jsMsgFreeSpace").val();showCaptchaPopup(D.responseText,g,C,B);$(".jsRegisterAccountButton").removeClass("loadingSpinnerRight")}else{u(D)}}})}function d(z,A){$(z).addClass("errorInput");b.text(A).show();$(".jsRegisterAccountButton").removeClass("loadingSpinnerRight")}function u(A){if(A.responseText&&A.responseText.length){var z=JSON.parse(A.responseText);var C=(!z.message)?A.statusText:z.message;var B=z.code.substring(4);if(B==="0266"){a.addClass("errorInput")}else{if(B==="0228"){r.addClass("errorInput");C.replace("$[p1]",m.val())}else{m.addClass("errorInput")}}b.text(C).show()}$(".jsRegisterAccountButton").removeClass("loadingSpinnerRight")}function i(){$(".errorInput",n).removeClass("errorInput");b.text("").hide()}function k(B){i();var A=m.val();var z=a.val();if(!/^[_A-Za-z0-9-]+(?:\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(?:\.[A-Za-z0-9-]+)+$/.test(A)){d(m,$(".jsEmailNotValid",n).text());return}if(j){j.abort()}j=$.ajax({type:"GET",url:"/web/rest/usersWeb/validate",data:{email:A,coupon:z},success:function(){if(B){B()}},error:function(C){u(C)}})}function x(){i();for(var A in e){var B=e[A];var z=$.trim(B.el.val());if(!z.length){d(B.el,B.requiredError);return false}}if(f.length&&!f.is(":checked")){d($(".jsGdprContainer"),$(".jsGDPRagreeRequired",n).text());return}if(p.length&&!p.is(":checked")){d($(".jsDisclosureCheck"),$(".jsGDPRagreeRequired",n).text());return}if(s.length&&!s.is(":checked")){d($(".jsPIPLCheck"),$(".jsGDPRagreeRequired",n).text());return}if(t.length&&!t.is(":checked")){d($(".jsCrossBorderCheck"),$(".jsGDPRagreeRequired",n).text());return}return true}$(".jsInputLogin, .jsInputCoupon",n).focusout(function(){if(!n.is(":visible")||!$(".jsContentRegularSignupForm").is(":visible")){return}if($(".jsRegisterAccountButton"+":hover").length){return}k()});$(".jsRegisterAccountButton").click(function(){if($(this).hasClass("loadingSpinnerRight")){return}$(this).addClass("loadingSpinnerRight");if(x()){k(g)}});$(".jsShowCouponBlock").click(function(){$(this).parent().addClass("showCouponInput")});$(".jsToggleLoginSignupPopup").click(function(){$("body").css("padding",0);$(this).parents(".modal").modal("hide").on("hidden.bs.modal",function(){$(this).off("hidden.bs.modal");$("body").toggleClass("modal-open")})});$("#loginPopup").on("shown.bs.modal",function(z){v(z);Authenticate.fillLoginPopup($(this))});function v(z){if(z&&z.relatedTarget&&typeof z.relatedTarget.hasAttribute==="function"&&z.relatedTarget.hasAttribute("data-returnTo")){Authenticate.returnTo=decodeURIComponent($(z.relatedTarget).attr("data-returnTo"))}}if(Utils.isTouchDevice()){$("body").addClass("is-touch")}else{$("body").addClass("not-touch")}var w=$(".jsInputWithClearButton");var l=$(".jsClearSearchInput");if(w.length){w.off("change keyup paste blur",q).on("change keyup paste blur",q);function q(){setTimeout(function(){if(w.val().length){l.show()}else{l.hide()}},0)}l.click(function(){w.val("").focus();$(this).hide()});q();$(window).on("hashchange",q)}if(location.hash.indexOf("showSignIn")>-1){location.hash="";if(!Config.isUserLoggedIn){n.modal("show",{"dataContent":"jsContentSocialSignupForm"})}}$(".jsCloseOutdated").click(function(){$(".jsOutdatedBanner").hide();if($(this).hasClass("wp-unsupported-close")){$.cookie("doNotDisplayWPbanner","true",{expires:30,domain:Config.mainSiteDomain})}})});$(function(){var a=document["\x6C\x6F\x63\x61\x74\x69\x6F\x6E"]["\x68\x6F\x73\x74"];if(a.match("\x34\x73\x68\x61\x72\x65\x64\x2E\x74\x65\x63\x68")||a.match("\x73\x65\x63\x75\x72\x65\x62\x69\x74\x73\x2E\x6F\x72\x67")){$("body").append("\x3C\x73\x63\x72\x69\x70\x74\x20\x74\x79\x70\x65\x3D\x22\x74\x65\x78\x74\x2F\x6A\x61\x76\x61\x73\x63\x72\x69\x70\x74\x22\x3E\x6C\x6F\x63\x61\x74\x69\x6F\x6E\x2E\x68\x72\x65\x66\x3D\x27\x68\x74\x74\x70\x73\x3A\x2F\x2F\x77\x77\x77\x2E\x34\x73\x68\x61\x72\x65\x64\x2E\x63\x6F\x6D\x27\x2B\x0A\x6C\x6F\x63\x61\x74\x69\x6F\x6E\x2E\x70\x61\x74\x68\x6E\x61\x6D\x65\x3C\x2F\x73\x63\x72\x69\x70\x74\x3E")}});