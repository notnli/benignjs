!function(){"use strict";if(window.sdl!==undefined)try{var a={buttons:function(){document.addEventListener("click",function(b){if(b.target.closest('a[data-role="download-link"]')){var c=b.target.closest('a[data-role="download-link"]');c&&sdl.push({user:{download:{products:[{campaign:a.checkAttribute(c,"data-campaign"),campaignMarker:a.checkAttribute(c,"data-campaign-marker"),sku:a.checkAttribute(c,"data-download-name"),maintenance:0,seats:1,quantity:1,currencyCode:"USD",category:"Consumer",price:0,tax:0,brand:"AVG",link:a.removeUnwantedParamsFromLink(c.href),offerType:"download",localPrice:0,localTax:0}]}},event:"user.download.products"})}else if(b.target.closest('a[data-role="cart-link"]')){var c=b.target.closest('a[data-role="cart-link"]'),d=c.getAttribute("data-product-id").includes("|");if(c)if(d){var e=[],f=[],g=c.getAttribute("data-product-id").split("|").length;f.push(c.getAttribute("data-product-id").split("|"),c.getAttribute("data-quantity").split("|"),c.getAttribute("data-seats").split("|"),c.getAttribute("data-maintenance").split("|"),c.getAttribute("data-campaign").split("|"),c.getAttribute("data-campaign-marker").split("|"),c.getAttribute("data-price").split("|"),c.getAttribute("data-product-category").split("|"),c.getAttribute("data-currency").split("|"));var h=0;f.forEach(function(){for(;h<g;)e.push({campaign:f[4][h],campaignMarker:f[5][h],sku:f[0][h],maintenance:Number(f[3][h]),seats:Number(f[2][h]),quantity:Number(f[1][h]),currencyCode:"USD",category:f[7][h],brand:"AVG",link:a.removeUnwantedParamsFromLink(c.href),offerType:"buy",localCurrencyCode:f[8][h],localPrice:Number(f[6][h])}),h++}),sdl.push({user:{buy:{products:e}},event:"user.buy.products"})}else sdl.push({user:{buy:{products:[{campaign:a.checkAttribute(c,"data-campaign"),campaignMarker:a.checkAttribute(c,"data-campaign-marker"),sku:a.checkAttribute(c,"data-product-id"),maintenance:Number(a.checkAttribute(c,"data-maintenance")),seats:Number(a.checkAttribute(c,"data-seats")),quantity:Number(c.hasAttribute("data-quantity")?c.getAttribute("data-quantity"):"1"),currencyCode:"USD",category:a.checkAttribute(c,"data-product-category"),brand:"AVG",link:a.removeUnwantedParamsFromLink(c.href),offerType:"buy",localCurrencyCode:a.checkAttribute(c,"data-currency"),localPrice:Number(c.hasAttribute("data-price")?c.getAttribute("data-price"):"0")}]}},event:"user.buy.products"})}else if(b.target.closest('a[href*=".pdf"], a[data-role="media"]')){var c=b.target.closest('a[href*=".pdf"], a[data-role="media"]');c&&sdl.push({user:{download:{media:{type:"media",name:c.href.match(/.*\/(.*?\..*)/)[1].split("?")[0],url:a.removeUnwantedParamsFromLink(window.location.href)}}},event:"user.download.media"})}else if(b.target.closest("button.modal-close")){var c=b.target.closest("button.modal-close"),i=c.closest(".modal");c&&sdl.push({user:{click:{element:{actionType:"close",component:"cmp-modal",path:"/"+sdlObj.screen.locale+"/cmp-modal",id:i.id}}},event:"user.click.element"})}else if(b.target.closest('a[data-role="promo-link"], a[data-role="cta-link"]')){var c=b.target.closest('a[data-role="promo-link"], a[data-role="cta-link"]');c&&sdl.push({user:{click:{link:{clickUrl:a.checkAttribute(c,"href"),url:a.removeUnwantedParamsFromLink(window.location.href),type:a.checkAttribute(c,"data-role"),text:b.target.closest("span")?b.target.closest("span").textContent:""}}},event:"user.click.link"})}else if(b.target.closest("form")){var j=b.target.closest("form");j&&sdl.push({user:{send:{form:{id:a.checkAttribute(j,"id"),name:a.checkAttribute(j,"action"),url:a.removeUnwantedParamsFromLink(window.location.href)}}},event:"user.send.form"})}})},modal:function(){for(var b=document.querySelectorAll(".modal"),c=0;c<b.length;c++){var d=b[c];d.addEventListener("shown.bs.modal",function(b){d=b.target,sdl.push({system:{modal:{id:d.id,component:a.checkAttribute(d,"data-cmp-name"),path:"/"+sdlObj.screen.locale+"/"+a.checkAttribute(d,"data-cmp-name")}},event:"system.modal"});var c=new URLSearchParams(window.location.search);sdl.push({event:"screen",screen:{location:{url:window.location.search?a.removeUnwantedParamsFromUrl(c):window.location.host+window.location.pathname,woParams:window.location.host+window.location.pathname,protocol:window.location.protocol.replace(":",""),path:"/"+sdlObj.screen.locale+"/"+sdlObj.screen.path,hostname:sdlObj.screen.hostname,hash:window.location.hash,params:window.location.search?Object.fromEntries(c):""},locale:sdlObj.screen.locale,screenCategory:sdlObj.screen.screenCategory,title:document.title,type:"modal",name:sdlObj.screen.name,section:d.id,lineOfBusiness:sdlObj.screen.lineOfBusiness,screenId:sdlObj.screen.screenId}})})}},checkAttribute:function(a,b){return a.hasAttribute(b)?a.getAttribute(b):""},removeUnwantedParamsFromLink:function(a){var b=window.location.hash,c=new URL(a),d=new URLSearchParams(c.search),e=["ASWPARAM","aswparam","_ga"];c.search="";for(var f=c.toString().split("#")[0],g=0;g<e.length;g++)d["delete"](e[g]);return f+"?"+d.toString()+b},removeUnwantedParamsFromUrl:function(a){for(var b=["ASWPARAM","aswparam","_ga"],c=0;c<b.length;c++)a["delete"](b[c]);return window.location.host+window.location.pathname+"?"+a.toString()}};window.addEventListener("OneTrustGroupsUpdated",function(){/OptanonConsent=.*?(consentId=(.*?)(?=&))/.test(document.cookie)&&/(?:NotLandingPage&groups=|groups=).*?(?=&|;|$)/.test(document.cookie)&&sdl.push({client:{cmpId:document.cookie.match(/OptanonConsent=.*?(consentId=(.*?)(?=&))/)[2]},consentGroups:document.cookie.match(/(?:NotLandingPage&groups=|groups=).*?(?=&|;|$)/)[0].replace(/NotLandingPage&groups=|groups=/,"").replace(/%3A/g,":").replace(/%/g,",").replace(/2C/g," "),user:{update:{consent:{}}},event:"user.update.consent"})}),a.buttons(),a.modal()}catch(b){console.error(b),sdl.push({system:{error:{type:b.name,message:b.message}},event:"system.error"})}}();
//# sourceMappingURL=singleDL-secondary.js.map