var vPath, BBUVariables = { IsMobile: deviceInfo.isMobile || deviceInfo.isTablet, AjaxUrl: { UrlList: "/js/blist", BListUrl: "/js/getbs?url=" }, ContainsList: null, EqualsList: null, StartsWithList: null, BList: null, UrlType: { StartsWith: 1, Equals: 2, Contains: 3 }, SiteGeneli: "sitegeneli", ShowAttr: "data-showifexist", TestSection: function () { var t = "reklam".replace(/[\[]/, "\\[").replace(/[\]]/, "\\]"), t = new RegExp("[\\?&]" + t + "=([^&#]*)").exec(location.search); return null === t ? "" : decodeURIComponent(t[1].replace(/\+/g, " ")) }, HasData: function () { return 0 < (BBUVariables.BList || []).length } }; (-1 < location.host.indexOf("dailysabah.com") || "4342" == location.port) && ("deutsch" != (vPath = location.pathname.split("/").slice(1)[0]) && "russian" != vPath && "arabic" != vPath || (BBUVariables.AjaxUrl.UrlList = "/" + vPath + BBUVariables.AjaxUrl.UrlList, BBUVariables.AjaxUrl.BListUrl = "/" + vPath + BBUVariables.AjaxUrl.BListUrl)); var BBUFunctions = { SetBs: function () { try { var t; BBUVariables.HasData() || ("" == BBUVariables.TestSection() ? (t = window.location.protocol + "//" + window.location.host, $.getJSON(t + BBUVariables.AjaxUrl.UrlList, function (t) { t.Status && (BBUVariables.ContainsList = t.ContainsList, BBUVariables.EqualsList = t.EqualsList, BBUVariables.StartsWithList = t.StartsWithList, BBUFunctions.FillBs()) }).fail(function (t, e, a) { BBUFunctions.Log(a) })) : BBUFunctions.FillBs()) } catch (t) { BBUFunctions.Log(t) } }, FillBs: function () { var t = window.location.protocol + "//" + window.location.host; $.getJSON(t + BBUVariables.AjaxUrl.BListUrl + BBUFunctions.GetBBUUrl() + "&ismobile=" + BBUVariables.IsMobile, function (t) { t.Status && (BBUVariables.BList = t.List, BBUFunctions.SetElements(!1)) }).fail(function (t, e, a) { BBUFunctions.Log(a) }) }, GetBBUUrl: function () { var t = BBUVariables.TestSection(); if (null != t && "" != t) return t + "&type=" + BBUVariables.UrlType.Equals; var e = document.location.pathname; if ((-1 < document.location.href.indexOf(".atv.com.tr/webtv/") || 0 == document.location.href.indexOf(".atvavrupa.tv/webtv/")) && null != document.location.search && 0 == document.location.search.indexOf("?id=") && (t = document.location.search.split("&"), e = document.location.pathname + t[0]), 0 < $('meta[property="tmdbr"]').length && (e = $('meta[property="tmdbr"]').attr("content")), "" == e || "/" == e || 0 == e.indexOf("/anasayfa")) return "/&type=" + BBUVariables.UrlType.Equals; for (var a = "", n = 0; n < BBUVariables.ContainsList.length; n++)-1 < e.indexOf(BBUVariables.ContainsList[n].Url) && (a = "&contains=" + BBUVariables.ContainsList[n].Url); for (n = 0; n < BBUVariables.EqualsList.length; n++)if (BBUVariables.EqualsList[n].Url == e) return BBUVariables.EqualsList[n].Url + "&type=" + BBUVariables.UrlType.Equals + a; for (var i = [], r = e.split("/"), n = r.length - 1; 0 <= n; n--) { for (var o = 0; o < BBUVariables.StartsWithList.length; o++) { var s = BBUVariables.StartsWithList[o]; 0 == e.indexOf(s.Url) && -1 == i.indexOf(s.Url) && i.push(s.Url) } e = e.replace("/" + r[n], "") } if (0 < i.length) { for (var l = (i = i.sort(function (t, e) { return e.split("/").length - t.split("/").length }))[0].split("/").length, B = [], n = 0; n < i.length; n++)i[n].split("/").length == l && B.push(i[n]); return (i = B.sort(function (t, e) { return e.length - t.length }))[0] + "&type=" + BBUVariables.UrlType.StartsWith + a } return BBUVariables.SiteGeneli + "&type=" + BBUVariables.UrlType.Equals + a }, SetElements: function (r) { try { if (BBUFunctions.HideWithoutContent(), !BBUVariables.HasData()) return; var t = [], e = $("div[data-mbzone], div[data-wbzone], div[data-bzone]").not("[data-bzone='GENERAL'], [data-bzone='Head_Dac']"), t = BBUVariables.IsMobile ? e.filter("div[data-mbzone], div[data-bzone]") : e.filter("div[data-wbzone], div[data-bzone]"); $(t).each(function (t, e) { try { var a = BBUFunctions.GetAttrInfoForElement(e), n = BBUFunctions.GetBItem(a.Zone, r); if (null != n) { if (n.IsIframe) $(e).html('<iframe src="/js/biframe/' + n.Id + "/" + BBUVariables.IsMobile + '" scrolling="no" marginheight="0" marginwidth="0" allowtransparency="true" frameborder="0" width="' + n.IframeWidth + '" height="' + n.IframeHeight + '"></iframe>'); else { var i = BBUFunctions.Eval(a.Zone, r); if ((i || "").trim()) { try { $(e).html(i) } catch (t) { } $(e).closest("[" + BBUVariables.ShowAttr + "]").removeAttr(BBUVariables.ShowAttr).show() } } $(e).attr(a.AttributeUsed, a.Zone).removeAttr(a.Attribute) } else $(e).attr("data-norecord", ""); r && $(e).attr("data-infinite-zone", "true") } catch (t) { BBUFunctions.Log(t) } }), !r && 0 < $("div[data-bzone='Head_Dac']").length && $("div[data-bzone = 'Head_Dac']").html(BBUFunctions.Eval("Head_Dac", !1)), !r && 0 < $("div[data-bzone='GENERAL']").length && $("div[data-bzone = 'GENERAL']").html(BBUFunctions.Eval("GENERAL", !1)) } catch (t) { BBUFunctions.Log(t) } }, SetInfiniteBs: function (t) { try { t.each(function (t, e) { var a = BBUFunctions.GetAttrInfoForElement(e); $(e).attr(a.AttributeUsed) && $(e).attr(a.Attribute, $(e).attr(a.AttributeUsed)).removeAttr(a.AttributeUsed) }), BBUFunctions.SetElements(!0) } catch (t) { BBUFunctions.Log(t) } }, GetBItem: function (t, e) { e && !t.includes("_infinite") && (t += "_infinite"); for (var a = 0; a < BBUVariables.BList.length; a++)if (BBUVariables.BList[a].Zone == "_" + t) return BBUVariables.BList[a]; return null }, Eval: function (t, e) { e = BBUFunctions.GetBItem(t, e); return null != e && e.IsActive ? e.Script : "" }, BForPlatform: function (t, e) { var a = document.createElement("div"); return t && a.setAttribute("data-wbzone", t), e && a.setAttribute("data-mbzone", e), a.outerHTML }, GetAttrInfoForElement: function (t) { if (!t) return ""; var e = ""; return BBUVariables.IsMobile ? (t.hasAttribute("data-mbzone") || t.hasAttribute("data-mbzone-loaded")) && (e = "data-mbzone") : (t.hasAttribute("data-wbzone") || t.hasAttribute("data-wbzone-loaded")) && (e = "data-wbzone"), (!e && t.hasAttribute("data-bzone") || t.hasAttribute("data-bzone-loaded")) && (e = "data-bzone"), { Zone: t.getAttribute(e) || t.getAttribute(e + "-loaded"), Attribute: e, AttributeUsed: e + "-loaded" } }, TryParseInt: function (t, e) { try { var a = e; return null !== t && 0 < t.length && (isNaN(t) || (a = parseInt(t))), a } catch (t) { return BBUFunctions.Log(t), 0 } }, Log: function (t) { window.console && console.log(t) }, HideWithoutContent: function () { for (var t = document.querySelectorAll("[" + BBUVariables.ShowAttr + "]"), e = 0; e < t.length; e++)t[e].style.display = "none" }, FirstSet: function () { 0 < $("[data-bzone], [data-mbzone], [data-wbzone]").length && BBUFunctions.SetBs() } }; $(document).ready(function () { try { 0 < $("[data-bzone], [data-mbzone], [data-wbzone]").length && BBUFunctions.SetBs() } catch (t) { BBUFunctions.Log(t.message) } }), window.addEventListener("DOMContentLoaded", function () { BBUFunctions.HideWithoutContent() }, !0);